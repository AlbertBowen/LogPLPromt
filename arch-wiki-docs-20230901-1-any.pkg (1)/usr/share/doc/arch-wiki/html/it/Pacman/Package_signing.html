<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>pacman (Italiano)/Package signing (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pacman_Italiano_Package_signing_Italiano rootpage-Pacman_Italiano skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Introduzione" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Introduzione">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Introduzione</div>
			</a>
			
			<ul id="toc-Introduzione-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installazione" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installazione">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Installazione</div>
			</a>
			
				<button aria-controls="toc-Installazione-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Installazione subsection
				</button>
			
			<ul id="toc-Installazione-sublist" class="sidebar-toc-list">
				<li id="toc-Configurare_pacman" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Configurare_pacman">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Configurare pacman</div>
			</a>
			
			<ul id="toc-Configurare_pacman-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Inizializzare_il_portachiavi" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Inizializzare_il_portachiavi">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Inizializzare il portachiavi</div>
			</a>
			
			<ul id="toc-Inizializzare_il_portachiavi-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Gestire_il_portachiavi" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Gestire_il_portachiavi">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Gestire il portachiavi</div>
			</a>
			
				<button aria-controls="toc-Gestire_il_portachiavi-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Gestire il portachiavi subsection
				</button>
			
			<ul id="toc-Gestire_il_portachiavi-sublist" class="sidebar-toc-list">
				<li id="toc-Verificare_le_cinque_chiavi_principali_o_master-key" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Verificare_le_cinque_chiavi_principali_o_master-key">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Verificare le cinque chiavi principali o master-key</div>
			</a>
			
			<ul id="toc-Verificare_le_cinque_chiavi_principali_o_master-key-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Aggiungere_le_chiavi_degli_sviluppatori" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Aggiungere_le_chiavi_degli_sviluppatori">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Aggiungere le chiavi degli sviluppatori</div>
			</a>
			
			<ul id="toc-Aggiungere_le_chiavi_degli_sviluppatori-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Aggiungere_chiavi_non_ufficiali" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Aggiungere_chiavi_non_ufficiali">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3</span>Aggiungere chiavi non ufficiali</div>
			</a>
			
			<ul id="toc-Aggiungere_chiavi_non_ufficiali-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Debugging_con_gpg" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Debugging_con_gpg">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.4</span>Debugging con gpg</div>
			</a>
			
			<ul id="toc-Debugging_con_gpg-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Risoluzione_dei_problemi" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Risoluzione_dei_problemi">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Risoluzione dei problemi</div>
			</a>
			
				<button aria-controls="toc-Risoluzione_dei_problemi-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Risoluzione dei problemi subsection
				</button>
			
			<ul id="toc-Risoluzione_dei_problemi-sublist" class="sidebar-toc-list">
				<li id="toc-Impossibile_importare_le_chiavi" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Impossibile_importare_le_chiavi">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Impossibile importare le chiavi</div>
			</a>
			
			<ul id="toc-Impossibile_importare_le_chiavi-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Disabilitare_il_controllo_delle_firme" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Disabilitare_il_controllo_delle_firme">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2</span>Disabilitare il controllo delle firme</div>
			</a>
			
			<ul id="toc-Disabilitare_il_controllo_delle_firme-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Resettare_tutte_le_chiavi" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Resettare_tutte_le_chiavi">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.3</span>Resettare tutte le chiavi</div>
			</a>
			
			<ul id="toc-Resettare_tutte_le_chiavi-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Rimuovere_pacchetti_non_aggiornati" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Rimuovere_pacchetti_non_aggiornati">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.4</span>Rimuovere pacchetti non aggiornati</div>
			</a>
			
			<ul id="toc-Rimuovere_pacchetti_non_aggiornati-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Aggiornamento_chiavi_via_proxy" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Aggiornamento_chiavi_via_proxy">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.5</span>Aggiornamento chiavi via proxy</div>
			</a>
			
			<ul id="toc-Aggiornamento_chiavi_via_proxy-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-gpg:_keyserver_receive_failed:_No_dirmngr" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#gpg:_keyserver_receive_failed:_No_dirmngr">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.6</span>gpg: keyserver receive failed: No dirmngr</div>
			</a>
			
			<ul id="toc-gpg:_keyserver_receive_failed:_No_dirmngr-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Fonti_aggiuntive" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Fonti_aggiuntive">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Fonti aggiuntive</div>
			</a>
			
			<ul id="toc-Fonti_aggiuntive-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../../it/Pacman/Package_signing.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../../it/Talk:Pacman/Package_signing.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">italiano</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../../it/Pacman/Package_signing.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Pacman_(Italiano)/Package_signing_(Italiano)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Pacman_(Italiano)/Package_signing_(Italiano)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../../it/Pacman/Package_signing.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Pacman_(Italiano)/Package_signing_(Italiano)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Pacman_(Italiano)/Package_signing_(Italiano)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../../en/Pacman.html" class="mw-redirect" title="Pacman (Italiano)">Pacman (Italiano)</a></span></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="it" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>This article or section needs to be <a href="../../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">translated</a>.</b><a href="../../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> No updates since 2015 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Pacman_(Italiano)/Package_signing_(Italiano)">Talk:Pacman (Italiano)/Package signing (Italiano)</a>)</div>
</div>
<p>Pacman-key è un nuovo tool disponibile con pacman 4. Con la nuova implementazione dei pacchetti firmati, permette all'utente di amministrarne la lista delle chiavi affidabili in pacman.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Introduzione">Introduzione</span></h2>
<p>Il sistema di firmatura pacchetti in pacman utilizza il modello <a href="https://en.wikipedia.org/wiki/it:Web_of_trust" class="extiw" title="wikipedia:it:Web of trust">"web of trust"</a> per assicurare che i pacchetti vengano dagli sviluppatori e non da qualcuno che si sostituisca a loro indebitamente. Gli sviluppatori dei pacchetti e i Trusted User hanno chiavi PGP individuali che utilizzano per firmare i propri pacchetti. Questo significa che loro garantiscono il contenuto del pacchetto. Anche l'utente comune possiede una PGP key unica, che viene generata quando questi configura pacman-key.
</p>
<p>Le chiavi possono essere usate per firmare <i>altre</i> key. Ciò significa che il proprietario della chiave firmante garantisce per l'autenticità della chiave firmata. Per verificare un pacchetto, è necessario avere una catena di firme dalla propria chiave PGP al pacchetto stesso. Con la struttura di chiavi Arch questo può avventire in tre modi:
</p>
<ul>
<li>
<b>Pacchetti personali (custom)</b>: l'utente crea da sé il proprio pacchetto e lo firma con una key personale.</li>
<li>
<b>Pacchetti non ufficiali (unofficial)</b>: uno sviluppatore fa un pacchetto e lo firma. L'utente utilizza la propria key per firmare quella dello sviluppatore.</li>
<li>
<b>Pacchetti ufficiali (official)</b>: uno sviluppatore fa un pacchetto e lo firma. La chiave dello sviluppatore viene convalidata dalle chiavi principali (master-key). L'utente fa poi affidamento su queste ultime per garantire gli sviluppatori.</li>
</ul>
<p>Per un po' di storia sulla questione, si rimanda a questi articoli blog:
<a rel="nofollow" class="external autonumber" href="http://allanmcrae.com/2011/08/pacman-package-signing-1-makepkg-and-repo-add/">[1]</a>
<a rel="nofollow" class="external autonumber" href="http://allanmcrae.com/2011/08/pacman-package-signing-2-pacman-key/">[2]</a>
<a rel="nofollow" class="external autonumber" href="http://allanmcrae.com/2011/08/pacman-package-signing-3-pacman/">[3]</a>
<a rel="nofollow" class="external autonumber" href="http://allanmcrae.com/2011/12/pacman-package-signing-4-arch-linux/">[4]</a> e alla <a href="../../en/Package_Signing_Proposal_for_Pacman.html" class="mw-redirect" title="Package Signing Proposal for Pacman">proposta di controllo delle firme in Pacman</a> della wiki.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Il protocollo HKP usa la porta 11371/tcp per comunicare. Per ricevere le chiavi firmate dai server (usando pacman-key), è richiesto che questa porta sia aperta.</div>
<h2><span class="mw-headline" id="Installazione">Installazione</span></h2>
<h3><span class="mw-headline" id="Configurare_pacman">Configurare pacman</span></h3>
<p>Prima di tutto, si deve decidere che livello di controllo si desidera. A determinarlo è l'opzione <code>SigLevel</code> nel file <code>/etc/pacman.conf</code>. Alcune possibilità sono menzionate nei commenti di quel file. Per un'esposizione più dettagliata, si rimanda alla <a rel="nofollow" class="external text" href="https://archlinux.org/pacman/pacman.conf.5.html#_package_and_database_signature_checking">pagina di manuale <code>pacman.conf</code></a>. Fondamentalmente si può abilitare il controlle delle firme a livello globale o per repository. Si tenga presente che settando il SigLevel a livello globale (globally) nella sezione [options], non sarà permesso di installare i propri pacchetti usando il comando <code>pacman -U</code>, a meno che siano firmati da una trusted key.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong> L'opzione <code>SigLevel</code> <code>TrustAll</code> esiste per uno scopo di debugging. Essa rende molto facile convalidare key che non sono state verificate. L'utente dovrebbe usare l'opzione <code>TrustedOnly</code> per tutti i repository ufficiali.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Ad ora, Aprile 2012, il sistema di firme del database non è ancora stato completato, quindi si dovrebbe aggiungere l'opzione <code>DatabaseOptional</code> se si usa un livello di controllo <code>Required</code>, ad esempio:
<pre>SigLevel = Required DatabaseOptional TrustedOnly</pre>
In questo modo pacman installerà soltanto i pacchetti che sono firmati da chiavi che l'utente ha convalidato.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Sembra che <code>SigLevel = PackageRequired</code> stia per diventare l'opzione standard per la verifica dei pacchetti ufficiali:
<pre>[core]
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist</pre>
</div>
<h3><span class="mw-headline" id="Inizializzare_il_portachiavi">Inizializzare il portachiavi</span></h3>
<p>Per inizializzare il portachiavi di pacman, usare il comando:
</p>
<pre># pacman-key --init
</pre>
<h2><span class="mw-headline" id="Gestire_il_portachiavi">Gestire il portachiavi</span></h2>
<h3><span class="mw-headline" id="Verificare_le_cinque_chiavi_principali_o_master-key">Verificare le cinque chiavi principali o master-key</span></h3>
<p>L'installazione iniziale delle chiavi è ottenuta usando
</p>
<pre># pacman-key --populate archlinux
</pre>
<p>È opportuno prendersi del tempo per verificare le <a rel="nofollow" class="external text" href="https://archlinux.org/master-keys/">Chiavi principali</a> quando vengono mostrate, in quanto sono usate per co-firmare (e convalidare) tutte le altre chiavi degli sviluppatori.
</p>
<p>Le chiavi PGP di solito sono troppo grandi (2048 bit o più) perché le persone possano lavorarci, quindi di solito sono spezzate per creare una fingerprint a 40 cifre esadecimali, che possono essere usate per controllare a mano che le due chiavi siano le medesime. Le ultime otto cifre sono note come "key ID" (versione corta) e rappresentano una sorta di "nome" della key.
Le ultime sedici cifre del fingerprint corrispondono all'ID lungo.
</p>
<h3><span class="mw-headline" id="Aggiungere_le_chiavi_degli_sviluppatori">Aggiungere le chiavi degli sviluppatori</span></h3>
<p>Le chiavi degli sviluppatori ufficiali e dei Trusted User vengono firmate dalle master-key, quindi all'utente non sarà necessario usare pacman-key per firmarle in locale. Nel caso in cui pacman incontri una key e non la riconosca, domanderà all'utente se desidera scaricarla dal <code>keyserver</code> impostato in <code>/etc/pacman.d/gnupg/gpg.conf</code> (o usasndo l'opzione <code>--keyserver</code> da riga di comando). Wikipedia mette a disposizione una <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic)" class="extiw" title="wikipedia:Key server (cryptographic)">lista di keyserver</a>.
</p>
<p>Una volta che la chiave di uno sviluppatore è stata scaricata, non sarà necessario farlo una seconda volta: quella key verrà usata per verificare ogni pacchetto da lui firmato.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> (una dipendenza di pacman) contiene le ultime chiavi.
<p>E' possibile aggiornarle manualmente eseguendo:
</p>
<pre># pacman-key --refresh-keys
</pre>
Facendo <code>--refresh-keys</code>, anche la propria chiave locale sarà controllata sul keyserver remoto, e si riceverà una notifica sul fatto che non è stata trovata. Non è nulla di cui preoccuparsi.</div>
<h3><span class="mw-headline" id="Aggiungere_chiavi_non_ufficiali">Aggiungere chiavi non ufficiali</span></h3>
<p>È possibile utilizzare questo metodo per aggiungere la propria key al keyring di pacman, o quando si abilita un <a href="../../en/Unofficial_user_repositories.html" title="Unofficial user repositories">repository firmato non ufficiale</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Potrebbe essere necessario eseguire <code>dirmngr</code> come root: si veda <a href="#gpg:_keyserver_receive_failed:_No_dirmngr">#gpg: keyserver receive failed: No dirmngr</a>.</div>
<p>Prima di tutto, ci si deve procurare l'ID dal proprietario della key, quindi si deve aggiungere la chiave al keyring.
</p>
<ul>
<li>Se la chiave si trova su un keyserver, la si importi con: <pre># pacman-key -r &lt;keyid&gt;</pre>
</li>
<li>Se invece viene fornito un link ad un keyfile, lo si scarichi e si esegua: <pre># pacman-key --add <i>/percorso/al/keyfile</i></pre>
</li>
</ul>
<p>Assicurarsi di verificare il fingerprint, come si farebbe per una chiave principale, o con ogni altra chiave che si stia per convalidare:
</p>
<pre>$ pacman-key -f <i>keyid</i>
</pre>
<p>Sarà quindi necessario firmare localmente la chiave appena importata:
</p>
<pre># pacman-key --lsign-key <i>keyid</i></pre> 
<p>In questo modo si permetterà alla chiave di firmare i pacchetti.
</p>
<h3><span class="mw-headline" id="Debugging_con_gpg">Debugging con gpg</span></h3>
<p>È possibile accedere al keyring di pacman direttamente tramite <b>gpg</b>. Esempio:
</p>
<pre># gpg --homedir /etc/pacman.d/gnupg --list-keys
</pre>
<h2><span class="mw-headline" id="Risoluzione_dei_problemi">Risoluzione dei problemi</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong> <i>pacman-key</i> dipende dall'<a href="../../en/System_time.html" title="System time">orario</a> di sistema. Se è impostato in maniera errata, si avrà il seguente errore:
<pre>error: PackageName: signature from "User &lt;email@archlinux.org&gt;" is invalid
error: failed to commit transaction (invalid or corrupted package (PGP signature))
Errors occured, no packages were upgraded.</pre>
</div>
<h3><span class="mw-headline" id="Impossibile_importare_le_chiavi">Impossibile importare le chiavi</span></h3>
<p>Questo problema può essere causato da:
</p>
<ul>
<li>Pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> non aggiornato</li>
<li>Data incorretta</li>
<li>Il proprio ISP blocca le porte per l'importazione delle chiavi PGP</li>
<li>La propria cache di pacman contiene copie di pacchetti non firmati creati con tentativi precedenti</li>
</ul>
<p>Si potrebbe essere impossibilitati a portare a termine un aggiornamento se il proprio pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> non è aggiornato. Si provi ad <a href="../../en/Pacman.html#Upgrading_packages" title="Pacman">aggiornare il sistema</a>.
</p>
<p>Se quanto sopra non funziona e la data è corretta si può provare ad utilizzare il keyserver MIT, che fornisce una porta alternativa. Per farlo, si modifichi <code>/etc/pacman.d/gnupg/gpg.conf</code> e si cambi la riga <i>keyserver</i> in:
</p>
<pre>keyserver hkp://pgp.mit.edu:11371
</pre>
<p>Se anche quanto sopra non è d'aiuto, si utilizzi il keyserver <i>kjsl</i>, che fornisce il servizio attraverso la porta 80 (HTTP).
</p>
<pre>keyserver hkp://keyserver.kjsl.com:80
</pre>
<p>Se si è disabilitato IPv6, gpg non funzionerà se verrà specificato un indirizzo IPv6. Utilizzare quindi un keyserver IPv4 come:
</p>
<pre>keyserver hkp://ipv4.pool.sks-keyservers.net:11371</pre>
<p>Qualora ci si fosse dimenticati di avviare <code>pacman-key --populate archlinux</code> si potrebbero avere degli errori tentando di importare le chiavi.
</p>
<p>Se nessuno dei metodi di cui sopra funziona, è possibile che la propria cache di pacman, situata in <code>/var/cache/pacman/pkg/</code>, contenga copie di pacchetti non firmati creati con tentativi precedenti. Si provi ad eliminare la cache manualmente o eseguendo:
</p>
<pre># pacman -Sc
</pre>
<p>Questo comando elimina dalla cache tutti i pacchetti non installati.
</p>
<h3><span class="mw-headline" id="Disabilitare_il_controllo_delle_firme">Disabilitare il controllo delle firme</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong> Usare con cautela. Disabilitare la firma dei pacchetti permette a pacman di installare automaticamente pacchetti inaffidabili.</div>
<p>Se non si è interessati alla firma dei pacchetti, è possibile disabilitare il controllo delle firme PGP completamente. È sufficiente modificare <code>/etc/pacman.conf</code> e scommentare la linea seguente sotto [options]:
</p>
<pre>SigLevel = Never
</pre>
<p>Inoltre, nei singoli repository, è necessario commentare ogni settaggio del SigLevel specifico, in quanto essi sovrascrivono la configurazione globale.
Da ciò consegue l'assenza di controllo delle firme (il comportamento predefinito prima di pacman 4). Se si decide di farlo, non è necessario impostare un portachiavi con pacman-key. Sarà possibile modificare tale opzione, qualora si decida di abilitare la verifica dei pacchetti.
</p>
<h3><span class="mw-headline" id="Resettare_tutte_le_chiavi">Resettare tutte le chiavi</span></h3>
<p>Se si desidera rimuovere ogni chiave installata nel proprio sistema, basta eliminare da root la cartella <code>/etc/pacman.d/gnupg</code> e dare di nuovo il comando <code>pacman-key --init</code> per generare una nuova chiave catena personale. Quindi sarà possibile procedere ad aggiungere nuove chiavi come meglio si desidera.
</p>
<h3><span class="mw-headline" id="Rimuovere_pacchetti_non_aggiornati">Rimuovere pacchetti non aggiornati</span></h3>
<p>Se gli stessi pacchetti continuano a fallire l'installazione o l'aggiornamento e si è certi di aver eseguito il procedimento d'installazione di pacman-key in maniera corretta, si provi a rimuovere questi pacchetti con <code>rm /var/cache/pacman/pkg/pacchettocattivo*</code>. In questo modo saranno riscaricati dal processo di aggiornamento.
</p>
<p>Questa potrebbe essere la soluzione anche qualora si stia ricevendo un messaggio come <code>error: linux: signature from "Some Person &lt;Some.Person@example.com&gt;" is invalid</code> o simili quando si sta aggiornando (es. si potrebbe non essere vittima di un attacco MITM, dopo di tutto: semplicemente il pacchetto scaricato potrebbe essere corroto).
</p>
<h3><span class="mw-headline" id="Aggiornamento_chiavi_via_proxy">Aggiornamento chiavi via proxy</span></h3>
<p>Un bug in <i>gnupg</i> impedisce di aggiornare le chiavi tramite proxy (<a rel="nofollow" class="external free" href="https://bugs.g10code.com/gnupg/issue1786">https://bugs.g10code.com/gnupg/issue1786</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>).
</p>
<p>Per aggirare il problema, è possibile procedere come segue:
</p>
<p>Modificare <code>/etc/hosts</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1 pool.sks-keyservers.net
</pre>
<p>Creare un tunnel con <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=socat">socat</a></span>. Il programma dovrà rimanere in ascolto sulla porta TCP 80, quindi sarà necessario eseguirlo da root:
</p>
<pre># socat TCP-LISTEN:80,reuseaddr,fork PROXY:localhost:pool.sks-keyservers.net:80,proxyport=3128
</pre>
<p>Aggiornare le chiavi:
</p>
<pre># pacman-key --refresh-keys
</pre>
<p>Annullare le modifiche apportate quando il proxy non è più necessario.
</p>
<h3><span class="mw-headline" id="gpg:_keyserver_receive_failed:_No_dirmngr">gpg: keyserver receive failed: No dirmngr</span></h3>
<p>Si veda <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/42798">FS#42798</a>. Si esegua:
</p>
<pre># dirmngr &lt; /dev/null
</pre>
<h2><span class="mw-headline" id="Fonti_aggiuntive">Fonti aggiuntive</span></h2>
<ul>
<li><a href="../../DeveloperWiki:Package_Signing_Proposal_for_Pacman.html" title="DeveloperWiki:Package Signing Proposal for Pacman">DeveloperWiki:Package Signing Proposal for Pacman</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-1-makepkg-and-repo-add/">Firma dei pacchetti di Pacman – 1: Makepkg e Aggiunta Repo</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-2-pacman-key/">Firma dei pacchetti di Pacman – 2: Pacman-key</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-3-pacman/">Firma dei pacchetti di Pacman – 3: Pacman</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/12/pacman-package-signing-4-arch-linux/">Firma dei pacchetti di Pacman – 4: Arch Linux</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../it/Category:Package_management.html" title="Category:Package management (Italiano)">Package management (Italiano)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme">Pages or sections flagged with Template:Translateme</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pacman_(Italiano)/Package_signing_(Italiano)&amp;oldid=776589">https://wiki.archlinux.org/index.php?title=Pacman_(Italiano)/Package_signing_(Italiano)&amp;oldid=776589</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 April 2023, at 09:38.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
