<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Network configuration (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_configuration_Русский rootpage-Network_configuration_Русский skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Проверка_подключения" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Проверка подключения</div>
			</a>
			
				<button aria-controls="toc-Проверка_подключения-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Проверка подключения subsection
				</button>
			
			<ul id="toc-Проверка_подключения-sublist" class="sidebar-toc-list">
				<li id="toc-Ping" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Ping">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Ping</div>
			</a>
			
			<ul id="toc-Ping-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Управление_сетевым_подключением" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%BC_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Управление сетевым подключением</div>
			</a>
			
				<button aria-controls="toc-Управление_сетевым_подключением-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Управление сетевым подключением subsection
				</button>
			
			<ul id="toc-Управление_сетевым_подключением-sublist" class="sidebar-toc-list">
				<li id="toc-net-tools" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#net-tools">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>net-tools</div>
			</a>
			
			<ul id="toc-net-tools-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-iproute2" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#iproute2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>iproute2</div>
			</a>
			
			<ul id="toc-iproute2-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Сетевые_интерфейсы" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>Сетевые интерфейсы</div>
			</a>
			
			<ul id="toc-Сетевые_интерфейсы-sublist" class="sidebar-toc-list">
				<li id="toc-Обнаружение_сетевых_интерфейсов" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#%D0%9E%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D1%85_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.1</span>Обнаружение сетевых интерфейсов</div>
			</a>
			
			<ul id="toc-Обнаружение_сетевых_интерфейсов-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Включение_и_отключение_сетевых_интерфейсов" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8_%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D1%85_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.2</span>Включение и отключение сетевых интерфейсов</div>
			</a>
			
			<ul id="toc-Включение_и_отключение_сетевых_интерфейсов-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Статический_или_динамический_адрес?" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A1%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B8%D0%BB%D0%B8_%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B0%D0%B4%D1%80%D0%B5%D1%81?">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.4</span>Статический или динамический адрес?</div>
			</a>
			
			<ul id="toc-Статический_или_динамический_адрес?-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Статический_IP-адрес" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A1%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.5</span>Статический IP-адрес</div>
			</a>
			
			<ul id="toc-Статический_IP-адрес-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-IP-адреса" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.6</span>IP-адреса</div>
			</a>
			
			<ul id="toc-IP-адреса-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Таблицы_маршрутизации" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.7</span>Таблицы маршрутизации</div>
			</a>
			
			<ul id="toc-Таблицы_маршрутизации-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-DHCP" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#DHCP">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.8</span>DHCP</div>
			</a>
			
			<ul id="toc-DHCP-sublist" class="sidebar-toc-list">
				<li id="toc-Сервер" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.8.1</span>Сервер</div>
			</a>
			
			<ul id="toc-Сервер-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Сетевые_менеджеры" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.9</span>Сетевые менеджеры</div>
			</a>
			
			<ul id="toc-Сетевые_менеджеры-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Имя_хоста" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#%D0%98%D0%BC%D1%8F_%D1%85%D0%BE%D1%81%D1%82%D0%B0">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Имя хоста</div>
			</a>
			
				<button aria-controls="toc-Имя_хоста-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Имя хоста subsection
				</button>
			
			<ul id="toc-Имя_хоста-sublist" class="sidebar-toc-list">
				<li id="toc-Локальное_разрешение_имён" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%9B%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BC%D1%91%D0%BD">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Локальное разрешение имён</div>
			</a>
			
			<ul id="toc-Локальное_разрешение_имён-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Разрешение_имён_в_локальной_сети" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BC%D1%91%D0%BD_%D0%B2_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D1%81%D0%B5%D1%82%D0%B8">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Разрешение имён в локальной сети</div>
			</a>
			
			<ul id="toc-Разрешение_имён_в_локальной_сети-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Советы_и_рекомендации" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Советы и рекомендации</div>
			</a>
			
				<button aria-controls="toc-Советы_и_рекомендации-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Советы и рекомендации subsection
				</button>
			
			<ul id="toc-Советы_и_рекомендации-sublist" class="sidebar-toc-list">
				<li id="toc-Смена_имени_интерфейса" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A1%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Смена имени интерфейса</div>
			</a>
			
			<ul id="toc-Смена_имени_интерфейса-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Традиционные_названия_интерфейсов" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A2%D1%80%D0%B0%D0%B4%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2</span>Традиционные названия интерфейсов</div>
			</a>
			
			<ul id="toc-Традиционные_названия_интерфейсов-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Установка_MTU_и_длины_очереди" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_MTU_%D0%B8_%D0%B4%D0%BB%D0%B8%D0%BD%D1%8B_%D0%BE%D1%87%D0%B5%D1%80%D0%B5%D0%B4%D0%B8">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.3</span>Установка MTU и длины очереди</div>
			</a>
			
			<ul id="toc-Установка_MTU_и_длины_очереди-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Объединение_сетевых_интерфейсов_(bonding)_или_LAG" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%9E%D0%B1%D1%8A%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D1%85_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2_(bonding)_%D0%B8%D0%BB%D0%B8_LAG">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.4</span>Объединение сетевых интерфейсов (bonding) или LAG</div>
			</a>
			
			<ul id="toc-Объединение_сетевых_интерфейсов_(bonding)_или_LAG-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Псевдонимы_для_IP-адресов" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%9F%D1%81%D0%B5%D0%B2%D0%B4%D0%BE%D0%BD%D0%B8%D0%BC%D1%8B_%D0%B4%D0%BB%D1%8F_IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%BE%D0%B2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.5</span>Псевдонимы для IP-адресов</div>
			</a>
			
			<ul id="toc-Псевдонимы_для_IP-адресов-sublist" class="sidebar-toc-list">
				<li id="toc-Пример" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.5.1</span>Пример</div>
			</a>
			
			<ul id="toc-Пример-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Promiscuous_mode" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Promiscuous_mode">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.6</span>Promiscuous mode</div>
			</a>
			
			<ul id="toc-Promiscuous_mode-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Получение_информации_о_сокетах" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%B8_%D0%BE_%D1%81%D0%BE%D0%BA%D0%B5%D1%82%D0%B0%D1%85">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.7</span>Получение информации о сокетах</div>
			</a>
			
			<ul id="toc-Получение_информации_о_сокетах-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Решение_проблем" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Решение проблем</div>
			</a>
			
				<button aria-controls="toc-Решение_проблем-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Решение проблем subsection
				</button>
			
			<ul id="toc-Решение_проблем-sublist" class="sidebar-toc-list">
				<li id="toc-Проблема_масштабирования_TCP_window" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%B0_%D0%BC%D0%B0%D1%81%D1%88%D1%82%D0%B0%D0%B1%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_TCP_window">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1</span>Проблема масштабирования TCP window</div>
			</a>
			
			<ul id="toc-Проблема_масштабирования_TCP_window-sublist" class="sidebar-toc-list">
				<li id="toc-Диагностика" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#%D0%94%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%BA%D0%B0">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.1</span>Диагностика</div>
			</a>
			
			<ul id="toc-Диагностика-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Способы_решения_проблемы" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#%D0%A1%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D1%8B_%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.2</span>Способы решения проблемы</div>
			</a>
			
			<ul id="toc-Способы_решения_проблемы-sublist" class="sidebar-toc-list">
				<li id="toc-Плохой" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#%D0%9F%D0%BB%D0%BE%D1%85%D0%BE%D0%B9">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.2.1</span>Плохой</div>
			</a>
			
			<ul id="toc-Плохой-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Хороший" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#%D0%A5%D0%BE%D1%80%D0%BE%D1%88%D0%B8%D0%B9">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.2.2</span>Хороший</div>
			</a>
			
			<ul id="toc-Хороший-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Лучший" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#%D0%9B%D1%83%D1%87%D1%88%D0%B8%D0%B9">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.2.3</span>Лучший</div>
			</a>
			
			<ul id="toc-Лучший-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Дополнительная_информация" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.3</span>Дополнительная информация</div>
			</a>
			
			<ul id="toc-Дополнительная_информация-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Нет_подключения_к_локальной_сети_через_мост" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%D0%9D%D0%B5%D1%82_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BA_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D1%81%D0%B5%D1%82%D0%B8_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D0%BC%D0%BE%D1%81%D1%82">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.2</span>Нет подключения к локальной сети через мост</div>
			</a>
			
			<ul id="toc-Нет_подключения_к_локальной_сети_через_мост-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Смотрите_также" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Смотрите также</div>
			</a>
			
			<ul id="toc-Смотрите_также-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../ru/Network_configuration.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">русский</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../ru/Network_configuration.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../ru/Network_configuration.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="ru" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Ссылки по теме</p>
<ul>
<li><a href="../en/Network_Debugging.html" title="Network Debugging">Network Debugging</a></li>
<li><a href="../ru/Category:Firewalls.html" class="mw-redirect" title="Межсетевой экран">Межсетевой экран</a></li>
<li><a href="../ru/Internet_sharing.html" class="mw-redirect" title="Раздача интернета">Раздача интернета</a></li>
<li><a href="../en/Router.html" title="Router">Router</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Network_configuration.html" title="Network configuration">Network configuration</a>. Дата последней синхронизации: 12 июля 2021. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Network_configuration&amp;diff=0&amp;oldid=684436">изменения</a>.</div>
<p>В статье описана настройка сетевого подключения на <a href="https://en.wikipedia.org/wiki/ru:%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B3%D0%BE_%D1%83%D1%80%D0%BE%D0%B2%D0%BD%D1%8F" class="extiw" title="wikipedia:ru:Протоколы сетевого уровня">3-м уровне модели OSI</a> и выше. Отдельные способы передачи информации рассматриваются на подстраницах <a href="../ru/Network_configuration/Ethernet.html" title="Network configuration (Русский)/Ethernet (Русский)">/Ethernet</a> и <a href="../ru/Network_configuration/Wireless.html" title="Network configuration (Русский)/Wireless (Русский)">/Wireless</a>.
</p>
<mw:tocplace></mw:tocplace>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Проверка_подключения">Проверка подключения</span>
</h2>
<p>При проблемах с подключением к сети последовательно проверьте, что:
</p>
<ol>
<li>
<a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">Сетевой интерфейс</a> обнаружен и включён. В противном случае, проверьте драйвер устройства – см. <a href="../ru/Network_configuration/Ethernet.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Ethernet (Русский)">/Ethernet#Драйвер устройства</a> и <a href="../ru/Network_configuration/Wireless.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Wireless (Русский)">/Wireless#Драйвер устройства</a>.</li>
<li>Вы подключены к сети: воткнут сетевой кабель или есть <a href="../ru/Network_configuration/Wireless.html" title="Network configuration (Русский)/Wireless (Русский)">подключение к беспроводной сети</a>.</li>
<li>Сетевому интерфейсу присвоен <a href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">IP-адрес</a>.</li>
<li>Правильно настроена <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">таблица маршрутизации</a>.</li>
<li>Возможно <a href="#Ping">пропинговать</a> локальный IP-адрес (например, <a href="https://en.wikipedia.org/wiki/ru:%D0%A8%D0%BB%D1%8E%D0%B7_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E" class="extiw" title="wikipedia:ru:Шлюз по умолчанию">шлюз по умолчанию</a>).</li>
<li>Возможно <a href="#Ping">пропинговать</a> публичный IP-адрес (например, <code>8.8.8.8</code> — DNS-сервер Google).</li>
<li>Работает <a href="../ru/Domain_name_resolution.html#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D0%B8%D0%BC%D1%91%D0%BD_%D1%81_NSS" title="Domain name resolution (Русский)">разрешение доменных имен</a> (например, <code>archlinux.org</code>).</li>
</ol>
<h3><span class="mw-headline" id="Ping">Ping</span></h3>
<p>Для проверки соединения с хостом, используется утилита <a href="https://en.wikipedia.org/wiki/ru:ping" class="extiw" title="wikipedia:ru:ping">ping</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ping www.example.com</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PING www.example.com (93.184.216.34): 56(84) data bytes
64 bytes from 93.184.216.34: icmp_seq=0 ttl=56 time=11.632 ms
64 bytes from 93.184.216.34: icmp_seq=1 ttl=56 time=11.726 ms
64 bytes from 93.184.216.34: icmp_seq=2 ttl=56 time=10.683 ms
...</pre>
<p>Утилита выводит информацию о каждом полученном ответе. Подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 8 ping"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ping.8">ping(8)</a></span>. Учтите, что удалённый хост может быть настроен игнорировать ICMP-запросы <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/412446/how-to-disable-ping-response-icmp-echo-in-linux-all-the-time">[1]</a>.
</p>
<p>Если вы не получаете ответов, это может быть связано со шлюзом по умолчанию или интернет-провайдером. Воспользуйтесь утилитой <a href="../en/Network_tools.html#Traceroute" class="mw-redirect" title="Traceroute">traceroute</a> для диагностики маршрута к хосту. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если вы получили сообщение об ошибке <code>ping: icmp open socket: Operation not permitted</code> при запуске <i>ping</i>, то попробуйте переустановить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iputils">iputils</a></span>.</div>
<h2>
<span id=".D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.BC_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5.D0.BC"></span><span class="mw-headline" id="Управление_сетевым_подключением">Управление сетевым подключением</span>
</h2>
<p>Для настройки сетевого подключения сделайте следующее:
</p>
<ol>
<li>Убедитесь, что <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">сетевой интерфейс</a> обнаружен и включён.</li>
<li>Подключитесь к сети. Вставьте Ethernet-кабель или <a href="../ru/Network_configuration/Wireless.html" title="Network configuration (Русский)/Wireless (Русский)">подключитесь к беспроводной сети</a>.</li>
<li>Настройте сетевое подключение:
<ul>
<li>
<a href="#%D0%A1%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81">статический IP-адрес</a>.</li>
<li>динамический IP-адрес: используйте <a href="#DHCP">DHCP</a>.</li>
</ul>
</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В установочном образе в качестве DHCP-клиента используются <a href="../ru/Systemd-resolved.html" title="Systemd-resolved (Русский)">systemd-resolved</a> и <a href="../ru/Systemd-networkd.html" title="Systemd-networkd (Русский)">systemd-networkd</a> для всех типов сетевых интерфейсов — <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-ethernet.network">Ethernet</a>, <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-wlan.network">WLAN</a> и <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-wwan.network">WWAN</a>.
</div>
<h3><span class="mw-headline" id="net-tools">net-tools</span></h3>
<p>Утилиты <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span> считаются устаревшими; рекомендуется использовать пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> <a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/deprecation-of-net-tools/">[2]</a>.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Устаревшая команда</th>
<th>Замена
</th>
</tr>
<tr>
<td>arp</td>
<td>ip neigh
</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/ru:ifconfig" class="extiw" title="wikipedia:ru:ifconfig">ifconfig</a></td>
<td>ip address, ip link
</td>
</tr>
<tr>
<td>netstat</td>
<td>
<a href="#%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%B8_%D0%BE_%D1%81%D0%BE%D0%BA%D0%B5%D1%82%D0%B0%D1%85">ss</a>
</td>
</tr>
<tr>
<td>route</td>
<td>ip route
</td>
</tr>
</tbody>
</table>
<p>Подробнее см. <a rel="nofollow" class="external text" href="https://dougvitale.wordpress.com/2011/12/21/deprecated-linux-networking-commands-and-their-replacements/">это сообщение</a>.
</p>
<h3><span class="mw-headline" id="iproute2">iproute2</span></h3>
<p><a href="https://en.wikipedia.org/wiki/ru:iproute2" class="extiw" title="wikipedia:ru:iproute2">iproute2</a> (зависимость <a href="../ru/Meta_package_and_package_group.html#%D0%A0%D0%B0%D0%B7%D0%BD%D0%B8%D1%86%D0%B0_%D0%BC%D0%B5%D0%B6%D0%B4%D1%83_%D0%BC%D0%B5%D1%82%D0%B0-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%BC_%D0%B8_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B9_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Мета-пакета">мета-пакета</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>) предоставляет утилиту командной строки <span class="plainlinks archwiki-template-man" title="$ man 8 ip"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip.8">ip(8)</a></span> для управления <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">сетевыми интерфейсами</a>, <a href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">IP-адресами</a> и <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">таблицей маршрутизации</a>. Учтите, что сделанные с помощью <code>ip</code> настройки исчезнут после перезагрузки. Для задания постоянных настроек используйте <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">сетевой менеджер</a> или автоматизируйте <i>ip</i>-команды с помощью сценариев или <a href="../ru/Systemd.html#%D0%9D%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" title="Systemd (Русский)">юнитов systemd</a>. Также обратите внимание, что многие команды <code>ip</code> имеют сокращённую форму, но в этой статье для ясности они указываются полностью.
</p>
<h3>
<span id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.B5_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B"></span><span class="mw-headline" id="Сетевые_интерфейсы">Сетевые интерфейсы</span>
</h3>
<p><a href="../ru/Udev.html" title="Udev (Русский)">udev</a> назначает имена сетевых интерфейсов в соответствии со <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">схемой именования</a>, в которой тип устройства обозначается двухбуквенным префиксом: <code>en</code> (проводной/<a href="https://en.wikipedia.org/wiki/ru:Ethernet" class="extiw" title="wikipedia:ru:Ethernet">Ethernet</a>), <code>wl</code> (беспроводной/<a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%B5%D1%81%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%B0%D1%8F_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C" class="extiw" title="wikipedia:ru:Беспроводная локальная сеть">WLAN</a>) или <code>ww</code> (<a href="https://en.wikipedia.org/wiki/ru:WWAN" class="extiw" title="wikipedia:ru:WWAN">WWAN</a>). Подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.net-naming-scheme"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.net-naming-scheme.7">systemd.net-naming-scheme(7)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Смена имени интерфейса описана в разделах <a href="#%D0%A1%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">#Смена имени интерфейса</a> и <a href="#%D0%A2%D1%80%D0%B0%D0%B4%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">#Традиционные названия интерфейсов</a>.</div>
<h4>
<span id=".D0.9E.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Обнаружение_сетевых_интерфейсов">Обнаружение сетевых интерфейсов</span>
</h4>
<p>Имена как проводных, так и беспроводных интерфейсов можно узнать командами <code>ls /sys/class/net</code> и <code>ip link</code>. Имейте в виду, что префиксом <code>lo</code> обозначается <a href="https://en.wikipedia.org/wiki/ru:Loopback#.D0.92.D0.B8.D1.80.D1.82.D1.83.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B9_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81" class="extiw" title="wikipedia:ru:Loopback">петлевое устройство</a>, которое не используется для сетевых соединений.
</p>
<p>Имена беспроводных устройств можно узнать командой <code>iw dev</code>. См. также <a href="../ru/Network_configuration/Wireless.html#%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0" title="Network configuration (Русский)/Wireless (Русский)">/Wireless#Определение имени интерфейса</a>.
</p>
<p>Если сетевой интерфейс не обнаружен, убедитесь, что его драйвер был загружен (cм. <a href="../ru/Network_configuration/Ethernet.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Ethernet (Русский)">/Ethernet#Драйвер устройства</a> и <a href="../ru/Network_configuration/Wireless.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Wireless (Русский)">/Wireless#Драйвер устройства</a>).
</p>
<h4>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8_.D0.BE.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Включение_и_отключение_сетевых_интерфейсов">Включение и отключение сетевых интерфейсов</span>
</h4>
<p>Включение и выключение интерфейса производится командой <code>ip link set <i>интерфейс</i> up|down</code> (подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-link.8">ip-link(8)</a></span>).
</p>
<p>Для проверки текущего состояния интерфейса (например, <code>enp2s0</code>) выполните:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip link show dev enp2s0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">2: enp2s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
...
</pre>
<p>На состояние интерфейса указывает <code>UP</code> в <code>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</code>, а не <code>state UP</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если выключить интерфейс, через который проходит маршрут по умолчанию, то маршрут будет удалён. Последующее включение интерфейса не восстановит автоматически исходный маршрут. Восстановление маршрута описано в разделе <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">#Таблицы маршрутизации</a>.</div>
<h3>
<span id=".D0.A1.D1.82.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.B8.D0.BB.D0.B8_.D0.B4.D0.B8.D0.BD.D0.B0.D0.BC.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.B0.D0.B4.D1.80.D0.B5.D1.81.3F"></span><span class="mw-headline" id="Статический_или_динамический_адрес?">Статический или динамический адрес?</span>
</h3>
<p>Если дома вы используете беспроводную точку доступа или маршрутизатор, то скорее всего у вас динамический IP-адрес. Точка доступа или маршрутизатор выдают вашему компьютеру адрес, который тот использует в работе. "Динамичность" адреса подразумевает, что машина может иметь разные адреса при каждом запуске. В рабочем окружении у вас может быть как динамический, так и статический адрес. Дома также можно настроить статическую адресацию, в результате чего компьютер получит постоянный адрес. При динамической адресации для назначения адресов сетевым интерфейсам необходим DHCP, который также возьмёт на себя маршрутизацию и разрешение доменных имён (преобразование имён вида google.com в числовые интернет-адреса).
</p>
<h3>
<span id=".D0.A1.D1.82.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81"></span><span class="mw-headline" id="Статический_IP-адрес">Статический IP-адрес</span>
</h3>
<p>Настройка статического IP-адреса производится либо посредством <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">сетевого менеджера</a>, либо с помощью демона <a href="../ru/Dhcpcd.html" title="Dhcpcd (Русский)">dhcpcd</a>.
</p>
<p>Чтобы настроить статический IP-адрес вручную, добавьте IP-адрес по рекомендациям в разделе <a href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">#IP-адреса</a>, настройте <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">таблицу маршрутизации</a> и <a href="../ru/Domain_name_resolution.html" title="Domain name resolution (Русский)">DNS-сервер</a>.
</p>
<h3>
<span id="IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.B0"></span><span class="mw-headline" id="IP-адреса">IP-адреса</span>
</h3>
<p>Для управления <a href="https://en.wikipedia.org/wiki/ru:IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81" class="extiw" title="wikipedia:ru:IP-адрес">IP-адресами</a> используется команда <span class="plainlinks archwiki-template-man" title="$ man 8 ip-address"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-address.8">ip-address(8)</a></span>.
</p>
<p>Показать существующие IP-адреса:
</p>
<pre>$ ip address show
</pre>
<p>Добавить IP-адрес к сетевому интерфейсу:
</p>
<pre># ip address add <i>адрес/длина_префикса</i> broadcast + dev <i>интерфейс</i>
</pre>
<dl><dd>Обратите внимание:</dd></dl>
<dl>
<dd><ul>
<li>адрес указан в <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation" class="extiw" title="wikipedia:Classless Inter-Domain Routing">CIDR-нотации</a> с <a href="https://en.wikipedia.org/wiki/ru:%D0%9F%D0%BE%D0%B4%D1%81%D0%B5%D1%82%D1%8C" class="extiw" title="wikipedia:ru:Подсеть">маской подсети</a>;</li>
<li>спецсимвол <code>+</code> говорит утилите <code>ip</code> вычислить <a href="https://en.wikipedia.org/wiki/ru:%D0%A8%D0%B8%D1%80%D0%BE%D0%BA%D0%BE%D0%B2%D0%B5%D1%89%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%B0%D0%B4%D1%80%D0%B5%D1%81" class="extiw" title="wikipedia:ru:Широковещательный адрес">широковещательный адрес</a> на основе IP-адреса и маски подсети.</li>
</ul></dd>
<dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Убедитесь, что добавленные вручную IP-адреса не конфликтуют с адресами, выданными DHCP.</div></dd>
</dl>
<p>Удалить IP-адрес устройства:
</p>
<pre># ip address del <i>адрес/длина_префикса</i> broadcast + dev <i>интерфейс</i>
</pre>
<p>Удалить все адреса определённого интерфейса:
</p>
<pre># ip address flush dev <i>интерфейс</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> IP-адрес можно вычислить с помощью <a rel="nofollow" class="external text" href="http://jodies.de/ipcalc">ipcalc</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ipcalc">ipcalc</a></span>).</div>
<h3>
<span id=".D0.A2.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Таблицы_маршрутизации">Таблицы маршрутизации</span>
</h3>
<p><a href="https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8" class="extiw" title="wikipedia:ru:Таблица маршрутизации">Таблица маршрутизации</a> необходима для определения возможности связи с удалённым хостом и шлюза, через какой это следует делать. Если подходящего маршрута нет, то используется <a href="https://en.wikipedia.org/wiki/ru:%D0%A8%D0%BB%D1%8E%D0%B7_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E" class="extiw" title="wikipedia:ru:Шлюз по умолчанию">шлюз по умолчанию</a>.
</p>
<p>Настройка таблицы маршрутизации производится командой <span class="plainlinks archwiki-template-man" title="$ man 8 ip-route"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-route.8">ip-route(8)</a></span>.
</p>
<p>В примерах ниже значение <i>ПРЕФИКС</i> либо указывается в <a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%B5%D1%81%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2%D0%B0%D1%8F_%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0%D1%86%D0%B8%D1%8F" class="extiw" title="wikipedia:ru:Бесклассовая адресация">CIDR-нотации</a>, либо принимает значение <code>default</code> для шлюза по умолчанию.
</p>
<p>Показать маршруты IPv4:
</p>
<pre>$ ip route show
</pre>
<p>Показать маршруты IPv6:
</p>
<pre>$ ip -6 route show
</pre>
<p>Добавить маршрут:
</p>
<pre># ip route add <i>ПРЕФИКС</i> via <i>адрес</i> dev <i>интерфейс</i>
</pre>
<p>Удалить маршрут:
</p>
<pre># ip route del <i>ПРЕФИКС</i> via <i>адрес</i> dev <i>интерфейс</i>
</pre>
<h3><span class="mw-headline" id="DHCP">DHCP</span></h3>
<p>Сервер <a href="https://en.wikipedia.org/wiki/ru:DHCP" class="extiw" title="wikipedia:ru:DHCP">DHCP</a> предоставляет клиенту динамический IP-адрес, маску подсети, IP-адрес шлюза по умолчанию и опционально — сервер имён DNS.
</p>
<p>Для использования DHCP нужен DHCP-сервер в вашей сети и DHCP-клиент на локальной машине:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Клиент</th>
<th>Пакет</th>
<th><a href="../ru/Archiso.html" title="Archiso (Русский)">Archiso</a></th>
<th>Примечания</th>
<th>
<a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" title="Systemd (Русский)">Юниты systemd</a>
</th>
</tr>
<tr>
<td><a href="../ru/Dhcpcd.html" title="Dhcpcd (Русский)">dhcpcd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td>DHCP, DHCPv6, ZeroConf, статический IP</td>
<td>
<code>dhcpcd.service</code>, <code>dhcpcd@<i>интерфейс</i>.service</code>
</td>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://www.isc.org/downloads/dhcp/">ISC dhclient</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td>DHCP, DHCPv6, BOOTP, статический IP</td>
<td>
<code>dhclient@<i>интерфейс</i>.service</code>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Запускать несколько DHCP-клиентов одновременно не рекомендуется.</li>
<li>Вместо отдельного DHCP-клиента можно воспользоваться одним из <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">сетевых менеджеров</a> — некоторые из них имеют встроенный DHCP-клиент.</li>
<li>Кроме того, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> имеет встроенный DHCP-клиент, который может использоваться в некоторых конфигурациях: <a href="../ru/Iwd.html#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8_%D1%81%D0%B5%D1%82%D0%B8" title="Iwd (Русский)">iwd#Включение встроенной настройки сети</a>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> 
<ul>
<li>Проверить, запущен ли DHCP-сервер, можно с помощью <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcping">dhcping</a></span>.</li>
<li>Пока вы ожидаете выделения IP-адреса DHCP-сервером, можно запустить что-то вроде <code>watch -n 1 ping -c 1 archlinux.org</code>.</li>
</ul>
</div>
<h4>
<span id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B5.D1.80"></span><span class="mw-headline" id="Сервер">Сервер</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Сервер</th>
<th>Пакет</th>
<th>IPv4</th>
<th>IPv6</th>
<th>GUI</th>
<th>Интерфейсы</th>
<th>Хранение данных</th>
<th>Примечания
</th>
</tr>
<tr>
<td><a href="../ru/Dhcpd.html" title="Dhcpd (Русский)">dhcpd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcp">dhcp</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td><a rel="nofollow" class="external text" href="https://github.com/Akkadius/glass-isc-dhcp">Glass-ISC-DHCP</a></td>
<td>?</td>
<td>Файл</td>
<td>
</td>
</tr>
<tr>
<td><a href="../en/Dnsmasq.html" class="mw-redirect" title="Dnsmasq (Русский)">dnsmasq</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dnsmasq">dnsmasq</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет</td>
<td>?</td>
<td>Файл</td>
<td>Также DNS, PXE и TFTP
</td>
</tr>
<tr>
<td><a href="../en/Network_configuration.html#Servers" class="mw-redirect" title="Kea">Kea</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kea">kea</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td><a rel="nofollow" class="external text" href="https://github.com/isc-projects/kea-anterius">Kea-Anterius (Experimental)</a></td>
<td>REST, RADIUS и NETCONF</td>
<td>Файл, MySQL, PostgreSQL и Cassandra</td>
<td>Также DNS
</td>
</tr>
</tbody>
</table>
<h3>
<span id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.B5_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="Сетевые_менеджеры">Сетевые менеджеры</span>
</h3>
<p>Сетевой менеджер позволяет создавать т.н. "сетевые профили" с настройками подключений, что облегчает переключение между сетями.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Выбор приложений довольно широк, но нужно помнить, что все варианты взаимоисключают друг друга. Запускать два сетевых демона одновременно запрещено.</div>
<table class="wikitable">
<tbody>
<tr>
<th>Сетевой менеджер</th>
<th>Графический интерфейс</th>
<th>
<a href="../ru/Archiso.html" title="Archiso (Русский)">Archiso</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/packages.x86_64">[3]</a>
</th>
<th>Утилиты командной строки</th>
<th>Поддержка <a href="https://en.wikipedia.org/wiki/ru:PPP_(%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB)" class="extiw" title="wikipedia:ru:PPP (сетевой протокол)">PPP</a><br>(например, 3G-модем)</th>
<th><a href="#DHCP">DHCP-клиент</a></th>
<th>
<a href="../ru/Systemd.html#%D0%9D%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" title="Systemd (Русский)">Юниты</a> systemd
</th>
</tr>
<tr>
<th>
<a href="../en/ConnMan.html" title="ConnMan">ConnMan</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">8 неофиц.</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 connmanctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connmanctl.1">connmanctl(1)</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да (с <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ofono/">ofono</a></span><sup><small>AUR</small></sup>)</td>
<td>встроенный</td>
<td>
<code>connman.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/Netctl.html" class="mw-redirect" title="Netctl (Русский)">netctl</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">2 неофиц.</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 netctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.1">netctl(1)</a></span>, wifi-menu</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td>
<a href="../ru/Dhcpcd.html" title="Dhcpcd (Русский)">dhcpcd</a> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>netctl-ifplugd@<i>интерфейс</i>.service</code>, <code>netctl-auto@<i>интерфейс</i>.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 nmcli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmcli.1">nmcli(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 nmtui"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmtui.1">nmtui(1)</a></span>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да</td>
<td>встроенный, <a href="../ru/Dhcpcd.html" title="Dhcpcd (Русский)">dhcpcd</a> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>NetworkManager.service</code>
</td>
</tr>
<tr>
<th>
<a href="../ru/Systemd-networkd.html" title="Systemd-networkd (Русский)">systemd-networkd</a>
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>)</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 networkctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/networkctl.1">networkctl(1)</a></span></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/issues/481">[4]</a>
</td>
<td>встроенный</td>
<td>
<code>systemd-networkd.service</code>, <code>systemd-resolved.service</code>
</td>
</tr>
</tbody>
</table>
<h2>
<span id=".D0.98.D0.BC.D1.8F_.D1.85.D0.BE.D1.81.D1.82.D0.B0"></span><span class="mw-headline" id="Имя_хоста">Имя хоста</span>
</h2>
<p><a href="https://en.wikipedia.org/wiki/Hostname" class="extiw" title="wikipedia:Hostname">Имя хоста</a> — уникальное имя-идентификатор машины в сети. Имя хоста хранится в файле <code>/etc/hostname</code> (см. <span class="plainlinks archwiki-template-man" title="$ man 5 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.5">hostname(5)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 7 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.7">hostname(7)</a></span>). В файле также может храниться доменное имя системы, если таковое имеется. Чтобы задать имя хоста, добавьте в файл <code>/etc/hostname</code> одну строку:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>имя-хоста</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Рекомендации по выбору имени хоста приведены в <a href="https://tools.ietf.org/html/rfc1178" class="extiw" title="rfc:1178">RFC 1178</a>.</div>
<p>В качестве альтернативы имя хоста можно задать утилитой <span class="plainlinks archwiki-template-man" title="$ man 1 hostnamectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostnamectl.1">hostnamectl(1)</a></span>:
</p>
<pre># hostnamectl set-hostname <i>имя-хоста</i>
</pre>
<p>Утилита <span class="plainlinks archwiki-template-man" title="$ man 1 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.1">hostname(1)</a></span> из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=inetutils">inetutils</a></span> позволяет задать имя хоста временно, до первой перезагрузки:
</p>
<pre># hostname <i>имя-хоста</i>
</pre>
<p>См. <span class="plainlinks archwiki-template-man" title="$ man 5 machine-info"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/machine-info.5">machine-info(5)</a></span> о том, как настроить "красивое" имя машины и другие метаданные.
</p>
<h3>
<span id=".D0.9B.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BC.D1.91.D0.BD"></span><span class="mw-headline" id="Локальное_разрешение_имён">Локальное разрешение имён</span>
</h3>
<p>Модуль <code>nss-myhostname</code> входящей в состав <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a> службы <a href="../ru/Domain_name_resolution.html#Name_Service_Switch" title="Domain name resolution (Русский)">Name Service Switch</a> (NSS) позволяет выполнять разрешение имени локально без обращения к файлу <code>/etc/hosts</code>. Этот модуль включён по умолчанию. Однако следует иметь в виду, что некоторые программы всё же полагаются на файл <code>/etc/hosts</code>. <a rel="nofollow" class="external autonumber" href="https://lists.debian.org/debian-devel/2013/07/msg00809.html">[5]</a>, <a rel="nofollow" class="external autonumber" href="https://bugzilla.mozilla.org/show_bug.cgi?id=87717#c55">[6]</a>
</p>
<p>Добавьте следующие строки в <code>/etc/hosts</code>:
</p>
<pre>127.0.0.1        localhost
::1              localhost
127.0.1.1        <i>имя-хоста</i>.<i>localdomain</i>        <i>имя-хоста</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Порядок имён/псевдонимов после IP-адреса имеет значение. Сразу после IP-адреса следует "каноническое" имя хоста, к которому при неоходимости может присоединиться название родительского домена, отделенное от имени точкой (как, например, <code>.<i>localdomain</i></code> выше). Все последующие значения на той же строке считаются псевдонимами. Подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>.</div>
<p>В результате система будет использовать оба варианта — и NSS, и файл <code>/etc/hosts</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ getent hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1       localhost
127.0.0.1       localhost
127.0.1.1       <i>имя-хоста</i>.<i>localdomain</i> <i>имя-хоста</i>
</pre>
<p>Если хост использует статический IP-адрес, то его следует указать вместо <code>127.0.1.1</code>.
</p>
<h3>
<span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BC.D1.91.D0.BD_.D0.B2_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D1.81.D0.B5.D1.82.D0.B8"></span><span class="mw-headline" id="Разрешение_имён_в_локальной_сети">Разрешение имён в локальной сети</span>
</h3>
<p>Чтобы машина была доступна по локальной сети по имени хоста, следует выбрать один из вариантов:
</p>
<ul>
<li>отредактировать файл <code>/etc/hosts</code> на каждом устройстве вашей локальной сети, см. <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>;</li>
<li>выбрать <a href="../ru/Domain_name_resolution.html#DNS-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D1%8B" title="Domain name resolution (Русский)">DNS-сервер</a> для разрешения вашего имени хоста и настроить все машины в локальной сети использовать его (например, посредством <a href="#DHCP">#DHCP</a>);</li>
<li>использовать <a href="https://en.wikipedia.org/wiki/ru:Zeroconf" class="extiw" title="wikipedia:ru:Zeroconf">Zeroconf</a>-сервис, автоматически создающий IP-сети без необходимости выполнения ручных настроек. Можно выбрать одну из двух реализаций:
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/ru:NetBIOS" class="extiw" title="wikipedia:ru:NetBIOS">NetBIOS</a>. Разработан компанией Microsoft, входит в состав <a href="../ru/Samba.html" title="Samba (Русский)">Samba</a>. Всё, что необходимо — запустить <code>nmb.service</code>. Машины с операционными системами Windows, macOS или Linux и работающим <code>nmb</code> смогут найти ваш компьютер в сети;</li>
<li>
<a href="https://en.wikipedia.org/wiki/Multicast_DNS" class="extiw" title="wikipedia:Multicast DNS">mDNS</a>. Возможны два варианта использования: <a href="../en/Avahi.html#Hostname_resolution" title="Avahi">Avahi</a> и <a href="../ru/Systemd-resolved.html" title="Systemd-resolved (Русский)">systemd-resolved</a>. Компьютеры с macOS или Linux, на которых запущен Avahi или systemd-resolved, смогут обнаружить ваш хост. Windows не имеет встроенного mDNS клиента или демона. Старый Win32 API не поддерживает mDNS, что может помешать старым приложениям Windows получить доступ к вашей системе.</li>
</ul>
</li>
</ul>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Советы_и_рекомендации">Советы и рекомендации</span>
</h2>
<h3>
<span id=".D0.A1.D0.BC.D0.B5.D0.BD.D0.B0_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0"></span><span class="mw-headline" id="Смена_имени_интерфейса">Смена имени интерфейса</span>
</h3>
<p>Вы можете изменить имя устройства, установив его вручную при помощи правила udev. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="aa:bb:cc:dd:ee:ff", NAME="net1"
SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="ff:ee:dd:cc:bb:aa", NAME="net0"
</pre>
<p>Эти правила будут применяться автоматически при загрузке.
</p>
<p>Кое-что на заметку:
</p>
<ul>
<li>Узнать MAC-адрес интерфейса можно командой <code>cat /sys/class/net/<i>имя_устройства</i>/address</code>
</li>
<li>Убедитесь, что в правиле udev шестнадцатеричные значения указаны строго в нижнем регистре.</li>
</ul>
<p>Если сетевой интерфейс имеет динамический MAC-адрес, вместо последнего можно использовать <code>DEVPATH</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", DEVPATH=="/devices/platform/wemac.*", NAME="int"
SUBSYSTEM=="net", DEVPATH=="/devices/pci*/*1c.0/*/net/*", NAME="en"
</pre>
<p><code>DEVPATH</code> подключённых устройств можно узнать по символическим ссылкам в каталоге <code>/sys/class/net/</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">file /sys/class/net/*</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/sys/class/net/enp0s20f0u4u1: symbolic link to ../../devices/pci0000:00/0000:00:14.0/usb2/2-4/2-4.1/2-4.1:1.0/net/enp0s20f0u4u1
/sys/class/net/enp0s31f6:     symbolic link to ../../devices/pci0000:00/0000:00:1f.6/net/enp0s31f6
/sys/class/net/lo:            symbolic link to ../../devices/virtual/net/lo
/sys/class/net/wlp4s0:        symbolic link to ../../devices/pci0000:00/0000:00:1c.6/0000:04:00.0/net/wlp4s0
</pre>
<p>Паттерн пути устройства (DEVPATH) должен подходить для обоих названий устройств, и нового, и старого, поскольку одно и то же правило udev может срабатывать несколько раз в процессе загрузки. Например, во втором правиле в примере выше шаблон <code>"/devices/pci*/*1c.0/*/net/enp*"</code> будет ошибочным, поскольку после изменения имени на <code>en</code> он перестанет совпадать, и если после этого сработает системное правило по умолчанию, то имя изменится обратно на что-то вида <code>enp1s0</code>.
</p>
<p>Если вы используете USB-интерфейс (например, подключаясь через Android-смартфон) с динамическим MAC-адресом и хотите иметь возможность использовать разные USB-порты, можно создать правило на основе данных о производителе и ID устройства:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTRS{idVendor}=="12ab", ATTRS{idProduct}=="3cd4", NAME="net2"</pre>
<p><a href="../ru/Udev.html#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB_%D0%BF%D0%B5%D1%80%D0%B5%D0%B4_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%BE%D0%B9" title="Udev (Русский)">Проверить</a> созданное правило из пространства пользователя можно командой <code>udevadm --debug test /sys/class/net/*</code>. Не забудьте предварительно отключить интерфейс, который собираетесь переименовать (например, выполнив <code>ip link set enp1s0 down</code>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> При выборе статических имен <b>вы должны избегать использования формата "eth<i>X</i>" и "wlan<i>X</i>"</b>, поскольку это может привести к состоянию гонки между ядром и udev во время загрузки системы. Вместо этого лучше взять имена интерфейсов, которые не используются по умолчанию в ядре, например: <code>net0</code>, <code>net1</code>, <code>wifi0</code>, <code>wifi1</code>. Подробнее см. документацию <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">systemd</a>.</div>
<h3>
<span id=".D0.A2.D1.80.D0.B0.D0.B4.D0.B8.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BD.D0.B0.D0.B7.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Традиционные_названия_интерфейсов">Традиционные названия интерфейсов</span>
</h3>
<p>Если вы предпочитаете традиционные названия интерфейсов вроде <code>eth0</code>, отключите назначение <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">предсказуемых имён интерфейсов</a>, создав маску для правила udev.
</p>
<pre># ln -s /dev/null /etc/udev/rules.d/80-net-setup-link.rules
</pre>
<p>Другой способ — добавить <code>net.ifnames=0</code> в <a href="../ru/Kernel_parameters.html" title="Kernel parameters (Русский)">параметры ядра</a>.
</p>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_MTU_.D0.B8_.D0.B4.D0.BB.D0.B8.D0.BD.D1.8B_.D0.BE.D1.87.D0.B5.D1.80.D0.B5.D0.B4.D0.B8"></span><span class="mw-headline" id="Установка_MTU_и_длины_очереди">Установка MTU и длины очереди</span>
</h3>
<p>Вы можете изменить <a href="https://en.wikipedia.org/wiki/ru:Maximum_transmission_unit" class="extiw" title="wikipedia:ru:Maximum transmission unit">MTU</a> и длину очереди для устройства, определив их вручную в правиле udev. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="net", KERNEL=="wl*", ATTR{mtu}="1500", ATTR{tx_queue_len}="2000"</pre>
<p><code>mtu</code>: Значение выше 1500 (т.н. <a href="https://en.wikipedia.org/wiki/ru:Jumbo-%D0%BA%D0%B0%D0%B4%D1%80" class="extiw" title="wikipedia:ru:Jumbo-кадр">jumbo-кадры</a>) могут значительно повысить скорость передачи информации. Имейте в виду, что указанное значение MTU должны поддерживать все сетевые интерфейсы, в том числе коммутаторы в локальной сети, иначе передача jumbo-кадров завершится неудачно. Для PPPoE величина MTU не должна превышать 1492. Также значение MTU можно задать посредством <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.netdev"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.netdev.5">systemd.netdev(5)</a></span>.
</p>
<p><code>tx_queue_len</code>: Малые значения — для медленных устройств с высокой задержкой (<a href="https://en.wikipedia.org/wiki/ru:ADSL" class="extiw" title="wikipedia:ru:ADSL">ADSL</a>, <a href="https://en.wikipedia.org/wiki/ru:ISDN" class="extiw" title="wikipedia:ru:ISDN">ISDN</a>). Большие значения рекомендованы для высокоскоростных соединений с серверами, где предполагается передача значительных объёмов данных.
</p>
<h3>
<span id=".D0.9E.D0.B1.D1.8A.D0.B5.D0.B4.D0.B8.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2_.28bonding.29_.D0.B8.D0.BB.D0.B8_LAG"></span><span class="mw-headline" id="Объединение_сетевых_интерфейсов_(bonding)_или_LAG">Объединение сетевых интерфейсов (bonding) или LAG</span>
</h3>
<p>Бондинг — объединение нескольких сетевых интерфейсов в одно логическое устройство. См. статьи <a href="../en/Netctl.html#Bonding" title="Netctl">netctl</a>, <a href="../ru/Systemd-networkd.html#%D0%9E%D0%B1%D1%8A%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B8_%D0%B1%D0%B5%D1%81%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2" title="Systemd-networkd (Русский)">systemd-networkd</a> и <a href="../en/Wireless_bonding.html" title="Wireless bonding">Wireless bonding</a>.
</p>
<h3>
<span id=".D0.9F.D1.81.D0.B5.D0.B2.D0.B4.D0.BE.D0.BD.D0.B8.D0.BC.D1.8B_.D0.B4.D0.BB.D1.8F_IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Псевдонимы_для_IP-адресов">Псевдонимы для IP-адресов</span>
</h3>
<p>Псевдонимы (aliases) необходимы для назначения нескольких IP-адресов одному сетевому интерфейсу. Благодаря этому один узел сети может иметь несколько подключений, каждое из которых будет использоваться для конкретной цели. Типичное применение этой возможности — виртуальный хостинг Web- и FTP-серверов или реорганизация серверов без необходимости обновления каких-либо других машин (особенно полезно для серверов имен).
</p>
<h4>
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80"></span><span class="mw-headline" id="Пример">Пример</span>
</h4>
<p>Чтобы вручную назначить псевдоним для определенного сетевого интерфейса (например, <code>enp2s0</code>) используйте утилиту <i>ip</i> из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span>:
</p>
<pre># ip addr add 192.168.2.101/24 dev enp2s0 label enp2s0:1
</pre>
<p>Для удаления псевдонима выполните:
</p>
<pre># ip addr del 192.168.2.101/24 dev enp2s0:1
</pre>
<p>По умолчанию для исходящих из определённой подсети пакетов используется основной псевдоним устройства. Если же отправитель находится в подсети вторичного псевдонима, то IP-адрес отправителя в заголовке пакета будет соответствующим. В случае наличия более чем одного сетевого интерфейса маршруты по умолчанию можно узнать командой <code>ip route</code>.
</p>
<h3><span class="mw-headline" id="Promiscuous_mode">Promiscuous mode</span></h3>
<p><a href="https://en.wikipedia.org/wiki/ru:Promiscuous_mode" class="extiw" title="wikipedia:ru:Promiscuous mode">Promiscuous mode</a> ("неразборчивый" режим) предполагает, что (беспроводной) сетевой интерфейс перенаправляет весь входящий трафик ядру операционной системы для дальнейшей обработки. Это противоположность "нормальному режиму", при котором интерфейс отбрасывает пакеты, которые не ожидались быть полученными. Чаще всего эта возможность используется для решения сетевых проблем и <a href="https://en.wikipedia.org/wiki/ru:%D0%90%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80_%D1%82%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0" class="extiw" title="wikipedia:ru:Анализатор трафика">анализа пакетов</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/promiscuous@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Set %i interface in promiscuous mode
After=network.target

[Service]
Type=oneshot
ExecStart=/usr/bin/ip link set dev %i promisc on
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
</pre>
<p>Чтобы включить "неразборчивый" режим для интерфейса <code>eth0</code>, выполните:
</p>
<pre># systemctl enable promiscuous@eth0.service
</pre>
<h3>
<span id=".D0.9F.D0.BE.D0.BB.D1.83.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D0.B8_.D0.BE_.D1.81.D0.BE.D0.BA.D0.B5.D1.82.D0.B0.D1.85"></span><span class="mw-headline" id="Получение_информации_о_сокетах">Получение информации о сокетах</span>
</h3>
<p>Входящая в состав пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> утилита <i>ss</i> используется для вывода информации о сокетах. Обладает схожим функционалом со считающейся <a rel="nofollow" class="external text" href="https://archlinux.org/news/deprecation-of-net-tools/">устаревшей</a> утилитой <i>netcat</i>.
</p>
<p>Примеры использования:
</p>
<p>Показать все TCP-сокеты с названиями сервисов:
</p>
<pre>$ ss -at
</pre>
<p>Показать все TCP-сокеты с номерами портов:
</p>
<pre>$ ss -atn
</pre>
<p>Показать все UDP-сокеты:
</p>
<pre>$ ss -au
</pre>
<p>За подробной информацией обращайтесь к справочной странице <span class="plainlinks archwiki-template-man" title="$ man 8 ss"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ss.8">ss(8)</a></span>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D0.B0_.D0.BC.D0.B0.D1.81.D1.88.D1.82.D0.B0.D0.B1.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_TCP_window"></span><span class="mw-headline" id="Проблема_масштабирования_TCP_window">Проблема масштабирования TCP window</span>
</h3>
<p>Заголовк TCP-пакета содержит поле "Window", которое определяет, какое количество данных может быть прислано в ответ другим хостом. Ширина поля составляет 16 бит, следовательно, размер окна не может превышать 64 Kбайт. С учётом кэширования пакетов, связанного с необходимостью восстановить их исходный порядок, значение окна легко может быть превышено.
</p>
<p>В 1992 году ввиду того, что объём памяти, доступной компьютерам, всё увеличивался, был разработан <a rel="nofollow" class="external text" href="http://www.faqs.org/rfcs/rfc1323.html">RFC 1323</a>, призванный решить проблему с помощью масштабирования окна (Window Scaling). Содержащееся в заголовке пакета значение "Window" корректировалось коэффициентом масштабирования (Scale Factor), который определялся один раз в начале подключения. Этот 8-битный коэффициент позволяет увеличить исходное окно размером 64 Кбайт в 32 раза.
</p>
<p>Некоторые сломанные маршрутизаторы и межсетевые экраны переопределяют это значение на 0, что вызывает недопонимание между хостами. В ядре Linux версии 2.6.17 была введена в действие новая методика вычисления коэффициента масштабирования, в результате чего проблема с неправильно настроенными маршрутизаторами и экранами стала проявляться очень ярко.
</p>
<p>В итоге соединение в лучшем случае очень медленное или часто прерывается.
</p>
<h4>
<span id=".D0.94.D0.B8.D0.B0.D0.B3.D0.BD.D0.BE.D1.81.D1.82.D0.B8.D0.BA.D0.B0"></span><span class="mw-headline" id="Диагностика">Диагностика</span>
</h4>
<p>Прежде всего, необходимо пояснить: это довольно странная проблема. В некоторых случаях вы вообще не сможете использовать соединения TCP (HTTP, FTP и т.д.), в других — сможете обращаться к некоторым узлам (лишь нескольким).
</p>
<p>Если у вас появилась такая проблема, вывод <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">dmesg</a> будет нормальным, логи - чистыми, а <code>ip addr</code> сообщит о нормальном состоянии... Все будет выглядеть нормально.
</p>
<p>Если вы не можете просматривать никакие веб-сайты, но можете отправлять запросы ping на некоторые узлы, высока вероятность, что у вас именно эта проблема: ping использует ICMP, поэтому проблемы TCP на него не влияют.
</p>
<p>С помощью <a href="../en/Wireshark.html" title="Wireshark">Wireshark</a> можно будет увидеть, что UDP- и ICMP-соединения работают, а TCP-соединение с внешними узлами установить не удаётся.
</p>
<h4>
<span id=".D0.A1.D0.BF.D0.BE.D1.81.D0.BE.D0.B1.D1.8B_.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Способы_решения_проблемы">Способы решения проблемы</span>
</h4>
<h5>
<span id=".D0.9F.D0.BB.D0.BE.D1.85.D0.BE.D0.B9"></span><span class="mw-headline" id="Плохой">Плохой</span>
</h5>
<p>Плохой способ заключается в изменении значения <code>tcp_rmem</code>, на основе которого вычисляется коэффициент масштабирования. Скорее всего, это решит проблему, кроме случая связи с особо удалёнными хостами.
</p>
<pre># echo "4096 87380 174760" &gt; /proc/sys/net/ipv4/tcp_rmem
</pre>
<h5>
<span id=".D0.A5.D0.BE.D1.80.D0.BE.D1.88.D0.B8.D0.B9"></span><span class="mw-headline" id="Хороший">Хороший</span>
</h5>
<p>Просто отключите масштабирование. Эта функция — довольно приятное дополнение к стандартному TCP, и без неё может быть некомфортно, особенно если вы не имеете возможности перенастроить неправильно работающий маршрутизатор. Есть несколько способов отключения масштабирования, и, кажется, наиболее надёжный из них (работает с большинством ядер) — добавить следующую строку в файл <code>/etc/sysctl.d/99-disable_window_scaling.conf</code> (см. также <a href="../en/Sysctl.html" title="Sysctl">sysctl</a>):
</p>
<pre>net.ipv4.tcp_window_scaling = 0
</pre>
<h5>
<span id=".D0.9B.D1.83.D1.87.D1.88.D0.B8.D0.B9"></span><span class="mw-headline" id="Лучший">Лучший</span>
</h5>
<p>Проблема вызвана неправильно работающим маршрутизатором/межсетевыми экранами, поэтому просто замените его. Некоторые пользователи отмечали, что таким маршрутизатором был их собственный маршрутизатор DSL.
</p>
<h4>
<span id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Дополнительная_информация">Дополнительная информация</span>
</h4>
<p>Этот раздел основывается на статье LWN <a rel="nofollow" class="external text" href="https://lwn.net/Articles/92727/">TCP window scaling and broken routers</a> и архивной статье Kernel Trap <a rel="nofollow" class="external text" href="https://web.archive.org/web/20120426135627/http://kerneltrap.org:80/node/6723">Window Scaling on the Internet</a>.
</p>
<p>На странице LKML есть также несколько ссылок по теме.
</p>
<h3>
<span id=".D0.9D.D0.B5.D1.82_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BA_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D1.81.D0.B5.D1.82.D0.B8_.D1.87.D0.B5.D1.80.D0.B5.D0.B7_.D0.BC.D0.BE.D1.81.D1.82"></span><span class="mw-headline" id="Нет_подключения_к_локальной_сети_через_мост">Нет подключения к локальной сети через мост</span>
</h3>
<p>Первый компьютер подключён к двум локальным сетям. Второй — к одной локальной сети и первому компьютеру. Выполните следующие команды, чтобы дать второму компьютеру доступ к сети за мостовым интерфейсом (на первой машине):
</p>
<pre># sysctl net.bridge.bridge-nf-filter-pppoe-tagged=0
# sysctl net.bridge.bridge-nf-filter-vlan-tagged=0
# sysctl net.bridge.bridge-nf-call-ip6tables=0
# sysctl net.bridge.bridge-nf-call-iptables=0
# sysctl net.bridge.bridge-nf-call-arptables=0
</pre>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.tldp.org/LDP/nag2/index.html">Linux Network Administrators Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html">Debian Reference: Network setup</a></li>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/">RHEL7: Networking Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2016/06/22/monitoring-tuning-linux-networking-stack-receiving-data/">Monitoring and tuning the Linux Networking Stack: Receiving data</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2017/02/06/monitoring-tuning-linux-networking-stack-sending-data/">Monitoring and tuning the Linux Networking Stack: Sending data</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.yadutaf.fr/2017/07/28/tracing-a-packet-journey-using-linux-tracepoints-perf-ebpf/">Tracing a packet journey using tracepoints, perf and eBPF</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Network_configuration.html" title="Category:Network configuration (Русский)">Network configuration (Русский)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=753893">https://wiki.archlinux.org/index.php?title=Network_configuration_(Русский)&amp;oldid=753893</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 20 October 2022, at 14:02.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
