<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>pacman (Français)/Package signing (Français) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pacman_Français_Package_signing_Français rootpage-Pacman_Français skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Configuration" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Configuration">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Configuration</div>
			</a>
			
				<button aria-controls="toc-Configuration-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Configuration subsection
				</button>
			
			<ul id="toc-Configuration-sublist" class="sidebar-toc-list">
				<li id="toc-Configuration_de_pacman" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Configuration_de_pacman">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Configuration de pacman</div>
			</a>
			
			<ul id="toc-Configuration_de_pacman-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Initialisation_du_trousseau_de_clés" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Initialisation_du_trousseau_de_cl%C3%A9s">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>Initialisation du trousseau de clés</div>
			</a>
			
			<ul id="toc-Initialisation_du_trousseau_de_clés-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Gestion_du_trousseau" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Gestion_du_trousseau">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Gestion du trousseau</div>
			</a>
			
				<button aria-controls="toc-Gestion_du_trousseau-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Gestion du trousseau subsection
				</button>
			
			<ul id="toc-Gestion_du_trousseau-sublist" class="sidebar-toc-list">
				<li id="toc-Vérification_des_clés_maîtresses" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#V%C3%A9rification_des_cl%C3%A9s_ma%C3%AEtresses">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Vérification des clés maîtresses</div>
			</a>
			
			<ul id="toc-Vérification_des_clés_maîtresses-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Ajout_de_clés_de_développeur" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Ajout_de_cl%C3%A9s_de_d%C3%A9veloppeur">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Ajout de clés de développeur</div>
			</a>
			
			<ul id="toc-Ajout_de_clés_de_développeur-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Ajout_de_clés_non_officielles" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Ajout_de_cl%C3%A9s_non_officielles">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>Ajout de clés non officielles</div>
			</a>
			
			<ul id="toc-Ajout_de_clés_non_officielles-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Débogage_avec_gpg" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#D%C3%A9bogage_avec_gpg">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.4</span>Débogage avec gpg</div>
			</a>
			
			<ul id="toc-Débogage_avec_gpg-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Trucs_et_astuces" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Trucs_et_astuces">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Trucs et astuces</div>
			</a>
			
				<button aria-controls="toc-Trucs_et_astuces-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Trucs et astuces subsection
				</button>
			
			<ul id="toc-Trucs_et_astuces-sublist" class="sidebar-toc-list">
				<li id="toc-Mettre_le_système_à_jour_régulièrement" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Mettre_le_syst%C3%A8me_%C3%A0_jour_r%C3%A9guli%C3%A8rement">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Mettre le système à jour régulièrement</div>
			</a>
			
			<ul id="toc-Mettre_le_système_à_jour_régulièrement-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Mise_à_jour_régulière_de_l'heure_du_système" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Mise_%C3%A0_jour_r%C3%A9guli%C3%A8re_de_l'heure_du_syst%C3%A8me">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Mise à jour régulière de l'heure du système</div>
			</a>
			
			<ul id="toc-Mise_à_jour_régulière_de_l'heure_du_système-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Dépannage" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#D%C3%A9pannage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Dépannage</div>
			</a>
			
				<button aria-controls="toc-Dépannage-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Dépannage subsection
				</button>
			
			<ul id="toc-Dépannage-sublist" class="sidebar-toc-list">
				<li id="toc-Erreurs_de_signature_invalide" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Erreurs_de_signature_invalide">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Erreurs de signature invalide</div>
			</a>
			
			<ul id="toc-Erreurs_de_signature_invalide-sublist" class="sidebar-toc-list">
				<li id="toc-Suppression_de_paquets_du_cache" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Suppression_de_paquets_du_cache">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1.1</span>Suppression de paquets du cache</div>
			</a>
			
			<ul id="toc-Suppression_de_paquets_du_cache-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Réinitialisation_de_toutes_les_clés" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#R%C3%A9initialisation_de_toutes_les_cl%C3%A9s">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1.2</span>Réinitialisation de toutes les clés</div>
			</a>
			
			<ul id="toc-Réinitialisation_de_toutes_les_clés-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Désactiver_la_vérification_des_signatures" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#D%C3%A9sactiver_la_v%C3%A9rification_des_signatures">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1.3</span>Désactiver la vérification des signatures</div>
			</a>
			
			<ul id="toc-Désactiver_la_vérification_des_signatures-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Impossible_d'importer_des_clés" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Impossible_d'importer_des_cl%C3%A9s">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2</span>Impossible d'importer des clés</div>
			</a>
			
			<ul id="toc-Impossible_d'importer_des_clés-sublist" class="sidebar-toc-list">
				<li id="toc-Mettre_à_jour_le_système" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Mettre_%C3%A0_jour_le_syst%C3%A8me">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2.1</span>Mettre à jour le système</div>
			</a>
			
			<ul id="toc-Mettre_à_jour_le_système-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Changer_le_serveur_de_clés" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Changer_le_serveur_de_cl%C3%A9s">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2.2</span>Changer le serveur de clés</div>
			</a>
			
			<ul id="toc-Changer_le_serveur_de_clés-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Nettoyer_les_paquets_mis_en_cache" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Nettoyer_les_paquets_mis_en_cache">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2.3</span>Nettoyer les paquets mis en cache</div>
			</a>
			
			<ul id="toc-Nettoyer_les_paquets_mis_en_cache-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-La_signature_est_de_confiance_inconnue" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#La_signature_est_de_confiance_inconnue">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.3</span>La signature est de confiance inconnue</div>
			</a>
			
			<ul id="toc-La_signature_est_de_confiance_inconnue-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Mise_à_jour_des_clés_via_un_proxy" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Mise_%C3%A0_jour_des_cl%C3%A9s_via_un_proxy">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.4</span>Mise à jour des clés via un proxy</div>
			</a>
			
			<ul id="toc-Mise_à_jour_des_clés_via_un_proxy-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Voir_aussi" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Voir_aussi">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Voir aussi</div>
			</a>
			
			<ul id="toc-Voir_aussi-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../../fr/Pacman/Package_signing.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Pacman_(Fran%C3%A7ais)/Package_signing_(Fran%C3%A7ais)&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">français</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../../fr/Pacman/Package_signing.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Pacman_(Fran%C3%A7ais)/Package_signing_(Fran%C3%A7ais)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Pacman_(Fran%C3%A7ais)/Package_signing_(Fran%C3%A7ais)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../../fr/Pacman/Package_signing.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Pacman_(Fran%C3%A7ais)/Package_signing_(Fran%C3%A7ais)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Pacman_(Fran%C3%A7ais)/Package_signing_(Fran%C3%A7ais)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../../fr/Pacman.html" title="Pacman (Français)">Pacman (Français)</a></span></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="fr" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../../en/Pacman/Package_signing.html" title="Pacman/Package signing">pacman/Package signing</a>. Date de la dernière traduction: 2022-10-03. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Pacman/Package_signing&amp;diff=0&amp;oldid=747357">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../../en/GnuPG.html" title="GnuPG">GnuPG</a></li>
<li><a href="../../DeveloperWiki:Package_signing.html" title="DeveloperWiki:Package signing">DeveloperWiki:Package signing</a></li>
</ul>
</div>
<p>Pour déterminer si les paquets sont authentiques, <i>pacman</i> utilise les <a rel="nofollow" class="external text" href="https://www.gnupg.org/">clés GnuPG</a> dans un modèle de <a rel="nofollow" class="external text" href="https://www.gnupg.org/gph/en/manual.html#AEN385">toile de confiance («web of trust»)</a>. Les clés de signature principales actuelles se trouvent <a rel="nofollow" class="external text" href="https://archlinux.org/master-keys/">ici</a>. Au moins trois de ces clés de signature principales sont utilisées pour signer les clés du développeur et de l'utilisateur de confiance. Elles sont ensuite utilisées pour signer leurs paquets. Chaque utilisateur possède également une clé PGP unique, qui est générée lorsque vous configurez <i>pacman-key</i>. C'est ce réseau de confiance qui relie la clé de l'utilisateur aux clés maîtresses.
</p>
<p>Exemples de réseaux de confiance :
</p>
<ul>
<li>
<b>Paquets personnalisés</b> : Paquets créés et signés avec une clé locale.</li>
<li>
<b>Paquets non officiels</b> : Paquets faits et signés par un développeur. Ensuite, une clé locale était utilisée pour signer la clé du développeur.</li>
<li>
<b>Paquets officiels</b> : paquets réalisés et signés par un développeur. La clé du développeur a été signée par les clés maîtresses d'Arch Linux. Vous avez utilisé votre clé pour signer les clés maîtresses, et vous leur faites confiance pour se porter garant des développeurs.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Le protocole HKP utilise 11371/tcp pour la communication. Afin d'obtenir les clés signées des serveurs (en utilisant <i>pacman-key</i>), ce port est nécessaire pour la communication.</div>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Configuration_de_pacman">Configuration de pacman</span></h3>
<p>L'option <code>SigLevel</code> dans <code>/etc/pacman.conf</code> détermine le niveau de confiance requis pour installer un paquet avec <code>pacman -S</code>. Pour une explication détaillée de <code>SigLevel</code>, consultez <span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5#PACKAGE_AND_DATABASE_SIGNATURE_CHECKING">pacman.conf(5) § PACKAGE AND DATABASE SIGNATURE CHECKING</a></span>, et les commentaires du fichier. On peut définir la vérification des signatures globalement ou par dépôt. Si <code>SigLevel</code> est défini globalement dans la section <code>[options]</code>, tous les paquets installés avec <code>pacman -S</code> devront être signés. Avec le paramètre <code>LocalFileSigLevel</code> du fichier par défaut <code>pacman.conf</code>, tous les paquets que vous construisez et installez avec <code>pacman -U</code>, n'auront pas besoin d'être signés avec <i>makepkg</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Bien que tous les paquets officiels soient désormais signés, depuis novembre 2018, la signature des bases de données est un <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=242258">travail en cours</a>. Si <code>Required</code> est défini, alors <code>DatabaseOptional</code> doit également être défini.</div>
<p>Pour les paquets distants, la configuration par défaut ne prendra en charge que l'installation de paquets signés par des clés de confiance :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SigLevel = Required DatabaseOptional</pre>
<p><code>TrustedOnly</code> est un paramètre compilé par défaut dans <i>pacman</i>. La configuration par défaut est identique à l'utilisation de l'option globale de :
</p>
<pre>SigLevel = Required DatabaseOptional TrustedOnly
</pre>
<p>Ce qui précède peut également être réalisé au niveau du dépôt, plus bas dans la configuration, par exemple :
</p>
<pre>[core]
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist
</pre>
<p>ajoute explicitement la vérification de la signature pour les paquets du dépôt, mais n'exige pas que la base de données soit signée. <code>Optional</code> ici désactiverait un <code>Required</code> global pour ce dépôt.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> L'option SigLevel <code>TrustAll</code> existe à des fins de débogage et permet de faire confiance très facilement à des clés qui n'ont pas été vérifiées. Vous devriez utiliser <code>TrustedOnly</code> pour tous les dépôts officiels.</div>
<h3>
<span id="Initialisation_du_trousseau_de_cl.C3.A9s"></span><span class="mw-headline" id="Initialisation_du_trousseau_de_clés">Initialisation du trousseau de clés</span>
</h3>
<p>Pour initialiser le trousseau de clés de <i>pacman</i>, exécutez :
</p>
<pre># pacman-key --init
</pre>
<p>L'initialisation du porte-clés nécessite de l'<a href="https://en.wikipedia.org/wiki/Entropy_(computing)" class="extiw" title="wikipedia:Entropy (computing)">entropie</a>. Pour générer de l'entropie, déplacez votre souris, tapez des caractères aléatoires sur le clavier ou lancez une activité sur disque (par exemple dans une autre console en exécutant <code>ls -R /</code> ou <code>find / -name foo</code> ou <code>dd if=/dev/sda8 of=/dev/tty7</code>). Si votre système ne dispose pas déjà d'une entropie suffisante, cette étape peut prendre des heures ; si vous générez activement de l'entropie, elle se terminera beaucoup plus rapidement.
</p>
<p>Le caractère aléatoire créé est utilisé pour initialiser le trousseau de clés (<code>/etc/pacman.d/gnupg</code>) et la clé de signature GPG de votre système.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Si vous devez exécuter <code>pacman-key --init</code> sur un ordinateur qui ne génère pas beaucoup d'entropie (par exemple, un serveur sans affichage), la génération de la clé peut prendre beaucoup de temps. Pour générer de la pseudo-entropie, installez <a href="../../en/Haveged.html" title="Haveged">haveged</a> ou <a href="../../en/Rng-tools.html" title="Rng-tools">rng-tools</a> sur la machine cible et démarrez le service correspondant avant d'exécuter <code>pacman-key --init</code>.</div>
<h2><span class="mw-headline" id="Gestion_du_trousseau">Gestion du trousseau</span></h2>
<h3>
<span id="V.C3.A9rification_des_cl.C3.A9s_ma.C3.AEtresses"></span><span class="mw-headline" id="Vérification_des_clés_maîtresses">Vérification des clés maîtresses</span>
</h3>
<p>La configuration initiale des clés est réalisée en utilisant :
</p>
<pre># pacman-key --populate
</pre>
<p>Prenez le temps de vérifier les <a rel="nofollow" class="external text" href="https://archlinux.org/master-keys/">Clés de signature maîtresses</a> lorsque vous y êtes invité car elles sont utilisées pour co-signer (et donc faire confiance) aux clés de tous les autres paquets.
</p>
<p>Les clés PGP sont trop grandes (2048 bits ou plus) pour que les humains puissent travailler avec, elles sont donc généralement hachées pour créer une empreinte digitale de 40 chiffres hexadécimaux qui peut être utilisée pour vérifier à la main que deux clés sont identiques. Les huit derniers chiffres de l'empreinte digitale servent de nom à la clé, appelé " ID de clé (court) " (les <i>seize</i> derniers chiffres de l'empreinte digitale seraient l'" ID de clé long ").
</p>
<h3>
<span id="Ajout_de_cl.C3.A9s_de_d.C3.A9veloppeur"></span><span class="mw-headline" id="Ajout_de_clés_de_développeur">Ajout de clés de développeur</span>
</h3>
<p>Les clés officielles de développeur et de <a href="../../fr/Trusted_Users.html" title="Trusted Users (Français)">Trusted Users</a> <i>(TU)</i> sont signées par les clés maîtresses, vous n'avez donc pas besoin d'utiliser <i>pacman-key</i> pour les signer vous-même. Lorsque <i>pacman</i> rencontre une clé qu'il ne reconnaît pas, il vous demandera de la télécharger depuis un <code>keyserver</code> configuré dans <code>/etc/pacman.d/gnupg/gpg.conf</code>. (ou en utilisant l'option <code>--keyserver</code> sur la ligne de commande). Wikipedia maintient une <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic)" class="extiw" title="wikipedia:Key server (cryptographic)">liste de serveurs de clés</a>.
</p>
<p>Une fois que vous avez téléchargé une clé de développeur, vous n'aurez pas à la télécharger à nouveau, et elle peut être utilisée pour vérifier tout autre paquet signé par ce développeur.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span>, qui est une dépendance de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span>, contient les dernières clés. Cependant, les clés peuvent également être mises à jour manuellement en utilisant <code>pacman-key --refresh-keys</code> (en tant que root). Lors de l'exécution de <code>--refresh-keys</code>, votre clé locale sera également recherchée sur le serveur de clés distant, et vous recevrez un message indiquant qu'elle n'a pas été trouvée. Il n'y a pas lieu de s'en inquiéter.</div>
<h3>
<span id="Ajout_de_cl.C3.A9s_non_officielles"></span><span class="mw-headline" id="Ajout_de_clés_non_officielles">Ajout de clés non officielles</span>
</h3>
<p>Cette méthode peut être utilisée pour ajouter une clé au trousseau de clés <i>pacman</i>, ou pour activer des dépôts signés <a href="../../en/Unofficial_user_repositories.html" title="Unofficial user repositories">dépôts d'utilisateurs non officiels</a>.
</p>
<p>Tout d'abord, obtenez l'<i>ID de la clé</i>. (<code><i>keyid</i></code>) de son propriétaire. Ensuite, ajoutez-la au trousseau en utilisant l'une des deux méthodes suivantes :
</p>
<ol>
<li>Si la clé est trouvée sur un serveur de clés, importez-la avec : <pre># pacman-key --recv-keys <i>keyid</i></pre>
</li>
<li>Si un lien vers un fichier de clé est fourni, téléchargez-le et exécutez : <pre># pacman-key --add <i>/path/to/downloaded/keyfile</i></pre>
</li>
</ol>
<p>Il est recommandé de vérifier l'empreinte digitale, comme pour toute clé principale ou toute autre clé que vous allez signer :
</p>
<pre>$ pacman-key --finger <i>keyid</i>
</pre>
<p>Enfin, vous devez signer localement la clé importée :
</p>
<pre># pacman-key --lsign-key <i>keyid</i>
</pre>
<p>Vous avez maintenant confiance en cette clé pour signer les paquets.
</p>
<h3>
<span id="D.C3.A9bogage_avec_gpg"></span><span class="mw-headline" id="Débogage_avec_gpg">Débogage avec gpg</span>
</h3>
<p>Pour des raisons de débogage, vous pouvez accéder au trousseau de clés de <i>pacman</i> directement avec <i>gpg</i>, par exemple :
</p>
<pre># gpg --homedir /etc/pacman.d/gnupg --list-keys
</pre>
<h2><span class="mw-headline" id="Trucs_et_astuces">Trucs et astuces</span></h2>
<h3>
<span id="Mettre_le_syst.C3.A8me_.C3.A0_jour_r.C3.A9guli.C3.A8rement"></span><span class="mw-headline" id="Mettre_le_système_à_jour_régulièrement">Mettre le système à jour régulièrement</span>
</h3>
<p>La mise à jour régulière du système via <a href="../../fr/Pacman.html#Mise_%C3%A0_jour_des_paquets" title="Pacman (Français)">Pacman (Français)#Mise à jour des paquets</a> permet d'éviter la plupart des erreurs de signature. Si un retard est inévitable et que la mise à jour du système est retardée pendant une période prolongée, synchronisez manuellement la base de données des paquets et mettez à jour le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> avant la mise à jour du système :
</p>
<pre># pacman -Sy archlinux-keyring &amp;&amp; pacman -Su
</pre>
<p>Cette commande n'est pas considérée comme entraînant des <a href="../../fr/System_maintenance.html#Les_mises_%C3%A0_jour_partielles_ne_sont_pas_prises_en_charge" class="mw-redirect" title="Mises à jour partielles">mises à jour partielles</a> puisqu'elle synchronise la base de données des paquets et met à jour le paquet keyring en premier. Les deux doivent être traités juste avant de commencer la mise à jour du système pour s'assurer que les signatures de tous les paquets mis à jour peuvent être correctement vérifiées.
</p>
<h3>
<span id="Mise_.C3.A0_jour_r.C3.A9guli.C3.A8re_de_l.27heure_du_syst.C3.A8me"></span><span class="mw-headline" id="Mise_à_jour_régulière_de_l'heure_du_système">Mise à jour régulière de l'heure du système</span>
</h3>
<p>Lorsque l'<a href="../../fr/System_time.html" title="System time (Français)">heure du système</a> est défectueuse, les clés de signature peuvent être considérées comme expirées (ou invalides) et la vérification des signatures des paquets échouera. Synchronisez régulièrement l'horloge du système en utilisant le daemon <a href="../../en/System_time.html#Time_synchronization" class="mw-redirect" title="Network Time Protocol">Network Time Protocol</a>.
</p>
<h2>
<span id="D.C3.A9pannage"></span><span class="mw-headline" id="Dépannage">Dépannage</span>
</h2>
<h3><span class="mw-headline" id="Erreurs_de_signature_invalide">Erreurs de signature invalide</span></h3>
<p><i>pacman-key</i> dépend de l'<a href="../../fr/System_time.html" title="System time (Français)">heure du système</a>. Si l'horloge de votre système n'est pas synchronisée, l'installation/mise à jour du système peut échouer avec :
</p>
<pre>error: PackageName: signature from "User &lt;email@archlinux.org&gt;" is invalid
error: failed to commit transaction (invalid or corrupted package (PGP signature))
Errors occurred, no packages were upgraded.
</pre>
<p>Si vous utilisez ntpd, corrigez l'heure du système (en tant que root) avec <code>ntpd -qg</code> suivi de <code>hwclock -w</code>.
</p>
<p>D'autres clients NTP peuvent être utilisés. Consultez <a href="../../fr/System_time.html#Synchronisation_du_temps" title="System time (Français)">synchronisation du temps</a>.
</p>
<p>Si la correction de l'horloge système ne résout pas le problème, essayez l'une des approches suivantes :
</p>
<h4><span class="mw-headline" id="Suppression_de_paquets_du_cache">Suppression de paquets du cache</span></h4>
<p>Certains paquets peuvent être corrompus ou non signés, ce qui provoque l'échec. Supprimez chaque paquet incriminé du cache système <code>rm /var/cache/pacman/pkg/<i>pkgname</i></code> afin qu'il soit fraîchement téléchargé, ou <a href="../../fr/Pacman.html#Nettoyage_du_cache_des_paquets" title="Pacman (Français)">nettoyez tout le cache</a>.
</p>
<h4>
<span id="R.C3.A9initialisation_de_toutes_les_cl.C3.A9s"></span><span class="mw-headline" id="Réinitialisation_de_toutes_les_clés">Réinitialisation de toutes les clés</span>
</h4>
<p>Supprimez ou réinitialisez toutes les clés installées sur votre système en supprimant le répertoire <code>/etc/pacman.d/gnupg</code> (en tant que root) et en réexécutant <code>pacman-key --init</code> suivi de <code>pacman-key --populate</code> pour réinstaller les clés par défaut.
</p>
<h4>
<span id="D.C3.A9sactiver_la_v.C3.A9rification_des_signatures"></span><span class="mw-headline" id="Désactiver_la_vérification_des_signatures">Désactiver la vérification des signatures</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Utiliser avec précaution. La désactivation de la signature des paquets permettra à <i>pacman</i> d'installer des paquets non fiables.</div>
<p>Si vous n'êtes pas concerné par la signature des paquets, vous pouvez désactiver complètement la vérification des signatures PGP. Éditez <code>/etc/pacman.conf</code> et pour obtenir les lignes suivante sous <code>[options]</code> :
</p>
<pre>SigLevel = Never
#LocalFileSigLevel = Optional
#RemoteFileSigLevel = Required
</pre>
<p>Vous devez commenter tous les paramètres <code>SigLevel</code> spécifiques au dépôt car ils remplacent les paramètres globaux. Il n'y aura pas de vérification de signature, ce qui était le comportement avant pacman 4. Si vous faites cela, vous n'avez pas besoin de configurer un trousseau de clés avec <i>pacman-key</i>. Vous pouvez changer ces options plus tard si vous décidez d'activer la vérification des paquets.
</p>
<h3>
<span id="Impossible_d.27importer_des_cl.C3.A9s"></span><span class="mw-headline" id="Impossible_d'importer_des_clés">Impossible d'importer des clés</span>
</h3>
<p>Il y a plusieurs sources possibles de ce problème :
</p>
<ul>
<li>Un paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> périmé.</li>
<li>Une date incorrecte.</li>
<li>Votre FAI a bloqué le port utilisé pour importer les clés PGP.</li>
<li>Votre cache <i>pacman</i> contient des copies de paquets non signés provenant de tentatives précédentes.</li>
<li>
<code>dirmngr</code> n'est pas correctement configuré</li>
<li>Vous n'avez pas effectué de mise à jour depuis longtemps et gpg/pacman ne le gère pas bien.</li>
</ul>
<p>Vous pouvez être bloqué à cause d'un paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> périmé lors d'une synchronisation de mise à jour.
</p>
<p>Vous trouverez ci-dessous quelques solutions qui pourraient fonctionner selon votre cas.
</p>
<h4>
<span id="Mettre_.C3.A0_jour_le_syst.C3.A8me"></span><span class="mw-headline" id="Mettre_à_jour_le_système">Mettre à jour le système</span>
</h4>
<p>Vérifiez si une <a href="../../fr/Pacman.html#Mise_%C3%A0_jour_des_paquets" title="Pacman (Français)">mise à jour du système</a> peut résoudre le problème en premier.
</p>
<h4>
<span id="Changer_le_serveur_de_cl.C3.A9s"></span><span class="mw-headline" id="Changer_le_serveur_de_clés">Changer le serveur de clés</span>
</h4>
<p>Si vous pensez que quelque chose ne fonctionne pas correctement avec le serveur de clés, vous pouvez essayer de passer au serveur de clés d'Ubuntu. Pour cela, éditez <code>/etc/pacman.d/gnupg/gpg.conf</code> et changez la ligne <code>keyserver</code> en :
</p>
<pre>keyserver hkp://keyserver.ubuntu.com
</pre>
<h4><span class="mw-headline" id="Nettoyer_les_paquets_mis_en_cache">Nettoyer les paquets mis en cache</span></h4>
<p>Si vous pensez que votre cache de pacman à <code>/var/cache/pacman/pkg/</code> contient des paquets non signés, essayez de nettoyer le cache manuellement ou exécutez :
</p>
<pre># pacman -Sc
</pre>
<p>qui supprime tous les paquets en cache qui n'ont pas été installés.
</p>
<h3><span class="mw-headline" id="La_signature_est_de_confiance_inconnue">La signature est de confiance inconnue</span></h3>
<p>Parfois, en exécutant <code>pacman -Syu</code>, vous pouvez rencontrer cette erreur :
</p>
<pre>error: package-name: signature from "packager" is unknown trust
</pre>
<p>Cela se produit parce que la clé du <code><i>packager</i></code> utilisée dans le paquet <code><i>package-name</i></code> n'est pas présente et/ou n'est pas fiable dans la base de données gpg locale pacman-key. Pacman ne semble pas toujours être capable de vérifier si la clé a été reçue et marquée comme fiable avant de continuer. Cela peut également être dû au fait qu'une clé a expiré depuis qu'elle a été ajoutée à votre trousseau de clés.
</p>
<p>Compensez en :
</p>
<ul>
<li>
<a href="#Mettre_le_syst%C3%A8me_%C3%A0_jour_r%C3%A9guli%C3%A8rement">Mettant à jour manuellement le paquet archlinux-keyring avant la mise à jour du système</a>, ou</li>
<li>Rafraîchissant vos clés avec <code>pacman-key --refresh-keys</code>, ou</li>
<li>
<a href="#R%C3%A9initialisation_de_toutes_les_cl%C3%A9s">réinitialisant toutes les clés</a>, ou</li>
<li>
<a href="#Ajout_de_cl%C3%A9s_non_officielles">signant manuellement la clé non fiable localement</a> (non recommandé), ou</li>
<li>Définissant temporairement <code>SigLevel</code> à <code>TrustAll</code> (non recommandé).</li>
</ul>
<p>Les deux dernières options ci-dessus brisent la chaîne de confiance, et doivent être utilisées avec précaution.
</p>
<h3>
<span id="Mise_.C3.A0_jour_des_cl.C3.A9s_via_un_proxy"></span><span class="mw-headline" id="Mise_à_jour_des_clés_via_un_proxy">Mise à jour des clés via un proxy</span>
</h3>
<p>Afin d'utiliser un proxy lors de la mise à jour des clés, l'option <code>honor-http-proxy</code> doit être définie à la fois dans <code>/etc/gnupg/dirmngr.conf</code> et <code>/etc/pacman.d/gnupg/dirmngr.conf</code>. Consultez <a href="../../en/GnuPG.html#Use_a_keyserver" title="GnuPG">GnuPG#Use a keyserver</a> pour plus d'informations.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Si <i>pacman-key</i> est utilisé sans l'option <code>honor-http-proxy</code> et échoue, un redémarrage peut résoudre le problème</div>
<h2><span class="mw-headline" id="Voir_aussi">Voir aussi</span></h2>
<ul>
<li>
<a href="../../DeveloperWiki:Package_Signing_Proposal_for_Pacman.html" title="DeveloperWiki:Package Signing Proposal for Pacman">Proposition de signature de paquet pour Pacman sur le wiki des développeurs (en anglais)</a>.</li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-1-makepkg-and-repo-add/">Signature des paquets Pacman - 1 : Makepkg et Repo-add</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-2-pacman-key/">Signature des paquets Pacman - 2 : Pacman-key</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-3-pacman/">Signature du paquet Pacman - 3 : Pacman</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/12/pacman-package-signing-4-arch-linux/">Signature de paquet Pacman - 4 : Arch Linux</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../fr/Category:Package_manager.html" title="Category:Package manager (Français)">Package manager (Français)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pacman_(Fran%C3%A7ais)/Package_signing_(Fran%C3%A7ais)&amp;oldid=776588">https://wiki.archlinux.org/index.php?title=Pacman_(Français)/Package_signing_(Français)&amp;oldid=776588</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 April 2023, at 09:38.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
