<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd-timesyncd (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd-timesyncd_Français rootpage-Systemd-timesyncd_Français skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container vector-sidebar-container-no-toc">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../fr/Systemd-timesyncd.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Systemd-timesyncd_(Fran%C3%A7ais)&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">français</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../fr/Systemd-timesyncd.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Systemd-timesyncd_(Fran%C3%A7ais)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Systemd-timesyncd_(Fran%C3%A7ais)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../fr/Systemd-timesyncd.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Systemd-timesyncd_(Fran%C3%A7ais)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Systemd-timesyncd_(Fran%C3%A7ais)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="fr" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/Systemd-timesyncd.html" title="Systemd-timesyncd">Systemd-timesyncd</a>. Date de la dernière traduction: 2022-10-03. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Systemd-timesyncd&amp;diff=0&amp;oldid=750475">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../fr/Systemd-networkd.html" title="Systemd-networkd (Français)">systemd-networkd (Français)</a></li>
<li><a href="../fr/Systemd.html" title="Systemd (Français)">systemd (Français)</a></li>
<li><a href="../fr/System_time.html" title="System time (Français)">System time (Français)</a></li>
</ul>
</div>
<p>Selon la <a rel="nofollow" class="external text" href="https://lists.freedesktop.org/archives/systemd-devel/2014-May/019537.html">liste de diffusion systemd</a> :
</p>
<dl><dd>
<i>systemd-timesyncd</i> est un daemon qui a été ajouté pour synchroniser l'horloge du système sur le réseau. Il implémente un client SNTP. Contrairement aux implémentations NTP telles que <a href="../en/Chrony.html" title="Chrony">chrony</a> ou le serveur de référence NTP, celui-ci n'implémente qu'un côté client, et ne s'embarrasse pas de toute la complexité de NTP, se concentrant seulement sur l'interrogation de l'heure d'un serveur distant et la synchronisation de l'horloge locale avec celui-ci. A moins que vous n'ayez l'intention de servir le NTP à des clients en réseau ou que vous vouliez vous connecter à des horloges matérielles locales, ce simple client NTP devrait être plus qu'approprié pour la plupart des installations. Le daemon fonctionne avec des privilèges minimaux, et a été connecté à networkd pour ne fonctionner que lorsque la connectivité réseau est disponible. Le daemon sauvegarde l'horloge actuelle sur le disque à chaque fois qu'une nouvelle synchronisation NTP a été acquise, et l'utilise pour corriger éventuellement l'horloge du système au démarrage, afin de s'adapter aux systèmes qui n'ont pas de RTC comme le Raspberry Pi et les appareils embarqués, et s'assurer que le temps progresse de façon monotone sur ces systèmes, même si ce n'est pas toujours correct. Pour utiliser ce daemon, un nouvel utilisateur système et un groupe "systemd-timesync" doivent être créés lors de l'installation de systemd.</dd></dl>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p><a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">Démarrez</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> <code>systemd-timesyncd.service</code>, qui est disponible via <a href="../fr/Systemd.html" title="Systemd (Français)">systemd</a>.
</p>
<p>Au démarrage, <i>systemd-timesyncd</i> lira le fichier de configuration de <code>/etc/systemd/timesyncd.conf</code>, qui ressemble à ceci :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/timesyncd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Time]
#NTP=
#FallbackNTP=0.arch.pool.ntp.org 1.arch.pool.ntp.org 2.arch.pool.ntp.org 3.arch.pool.ntp.org
#...</pre>
<p>Pour ajouter des <a href="../en/Network_Time_Protocol_daemon.html#Connection_to_NTP_servers" title="Network Time Protocol daemon">serveurs de temps</a> ou modifier ceux qui sont fournis, décommentez la ligne correspondante et indiquez leur nom d'hôte ou leur adresse IP en les séparant par un espace. Par exemple, vous pouvez utiliser tous les serveurs fournis par <a rel="nofollow" class="external text" href="https://www.pool.ntp.org/">le projet de pool NTP</a> ou utiliser <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages/ntp/-/commit/343310b9ddd996220de27a2a35a5c1277a0bec9b">les serveurs par défaut d'Arch</a>. (également fournis par le projet de pool NTP) :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/timesyncd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Time]
NTP=0.arch.pool.ntp.org 1.arch.pool.ntp.org 2.arch.pool.ntp.org 3.arch.pool.ntp.org
FallbackNTP=0.pool.ntp.org 1.pool.ntp.org 0.fr.pool.ntp.org
</pre>
<p>Pour vérifier votre configuration: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ timedatectl show-timesync --all</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LinkNTPServers=
SystemNTPServers=
FallbackNTPServers=0.arch.pool.ntp.org 1.arch.pool.ntp.org 2.arch.pool.ntp.org 3.arch.pool.ntp.org
ServerName=0.arch.pool.ntp.org
ServerAddress=103.47.76.177
RootDistanceMaxUSec=5s
PollIntervalMinUSec=32s
PollIntervalMaxUSec=34min 8s
PollIntervalUSec=1min 4s
NTPMessage={ Leap=0, Version=4, Mode=4, Stratum=2, Precision=-21, RootDelay=177.398ms, RootDispersion=142.196ms, Reference=C342F10A, OriginateTimestamp=Mon 2018-07-16 13:53:43 +08, ReceiveTimestamp=Mon 2018-07-16 13:53:43 +08, TransmitTimestamp=Mon 2018-07-16 13:53:43 +08, DestinationTimestamp=Mon 2018-07-16 13:53:43 +08, Ignored=no PacketCount=1, Jitter=0 }
Frequency=22520548</pre>
<p>Outre la configuration du daemon, les serveurs NTP peuvent également être fournis via une configuration [[Systemd-networkd (Français)#Section [NetDev]|systemd-networkd]] avec une option <code>NTP=</code> ou, de manière dynamique, via un serveur DHCP. 
</p>
<p>Le serveur NTP à utiliser est déterminé d'après les règles suivantes :
</p>
<ul>
<li>Tout serveur NTP par interface obtenu à partir de la configuration de <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-networkd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-networkd.service.8">systemd-networkd.service(8)</a></span> ou via DHCP est prioritaire.</li>
<li>Les serveurs NTP définis dans <code>/etc/systemd/timesyncd.conf</code> seront ajoutés à la liste par interface lors de l'exécution et le daemon contactera les serveurs à son tour jusqu'à ce qu'il en trouve un qui réponde.</li>
<li>Si aucune information sur le serveur NTP n'est obtenue après ces étapes, les noms d'hôtes ou adresses IP du serveur NTP définis dans <code>FallbackNTP=</code> seront utilisés.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Le service écrit dans un fichier local <code>/var/lib/systemd/systemd/timesync/clock</code> à chaque synchronisation. Cet emplacement est codé en dur et ne peut pas être modifié. Cela peut être problématique pour l'exécution d'une partition racine en lecture seule ou pour essayer de minimiser les écritures sur une carte SD.</div>
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>Pour l' activer ou le démarrer lancez :
</p>
<pre># timedatectl set-ntp true
</pre>
<p>Le processus de synchronisation peut être sensiblement lent. Ce comportement est normal et vous devriez patienter un moment avant de considérer qu'il y a un problème. 
Pour vérifier l'état du service, utilisez : 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ timedatectl status</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">               Local time: Thu 2015-07-09 18:21:33 CEST
           Universal time: Thu 2015-07-09 16:21:33 UTC
                 RTC time: Thu 2015-07-09 16:21:33
                Time zone: Europe/Amsterdam (CEST, +0200)
System clock synchronized: yes
              NTP service: active
          RTC in local TZ: no
</pre>
<p>Pour obtenir de plus amples informations sur le service, utilisez :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ timedatectl timesync-status</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">       Server: 103.47.76.177 (0.arch.pool.ntp.org)
Poll interval: 2min 8s (min: 32s; max 34min 8s)
         Leap: normal
      Version: 4
      Stratum: 2
    Reference: C342F10A
    Precision: 1us (-21)
Root distance: 231.856ms (max: 5s)
       Offset: -19.428ms
        Delay: 36.717ms
       Jitter: 7.343ms
 Packet count: 2
    Frequency: +267.747ppm
</pre>
<h2><span class="mw-headline" id="Voir_aussi">Voir aussi</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=182600">Forum : systemd-timesyncd ne synchronise pas l'heure</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=182172">Forum : Utilisation de systemd-timesync au lieu de NTP</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/blob/main/src/timesync/timesyncd.c">Le code source de timesyncd sur GitHub</a></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 8 systemd-timesyncd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-timesyncd.8">systemd-timesyncd(8)</a></span></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 5 timesyncd.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/timesyncd.conf.5">timesyncd.conf(5)</a></span></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../fr/Category:Network_Time_Protocol.html" title="Category:Network Time Protocol (Français)">Network Time Protocol (Français)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd-timesyncd_(Fran%C3%A7ais)&amp;oldid=779409">https://wiki.archlinux.org/index.php?title=Systemd-timesyncd_(Français)&amp;oldid=779409</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 23 May 2023, at 04:50.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
