<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ipset (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Ipset_Español rootpage-Ipset_Español skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Instalación" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Instalaci%C3%B3n">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Instalación</div>
			</a>
			
			<ul id="toc-Instalación-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Configuración" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Configuraci%C3%B3n">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Configuración</div>
			</a>
			
				<button aria-controls="toc-Configuración-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Configuración subsection
				</button>
			
			<ul id="toc-Configuración-sublist" class="sidebar-toc-list">
				<li id="toc-Bloquear_una_lista_de_conexiones_de_red" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Bloquear_una_lista_de_conexiones_de_red">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Bloquear una lista de conexiones de red</div>
			</a>
			
			<ul id="toc-Bloquear_una_lista_de_conexiones_de_red-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Bloquear_una_lista_de_direcciones_IP" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Bloquear_una_lista_de_direcciones_IP">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Bloquear una lista de direcciones IP</div>
			</a>
			
			<ul id="toc-Bloquear_una_lista_de_direcciones_IP-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Hacer_que_ipset_sea_persistente" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Hacer_que_ipset_sea_persistente">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>Hacer que ipset sea persistente</div>
			</a>
			
			<ul id="toc-Hacer_que_ipset_sea_persistente-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Bloquear_con_PeerGuardian_y_otras_listas_de_bloqueo" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Bloquear_con_PeerGuardian_y_otras_listas_de_bloqueo">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.4</span>Bloquear con PeerGuardian y otras listas de bloqueo</div>
			</a>
			
			<ul id="toc-Bloquear_con_PeerGuardian_y_otras_listas_de_bloqueo-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Otras_órdenes" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Otras_%C3%B3rdenes">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Otras órdenes</div>
			</a>
			
			<ul id="toc-Otras_órdenes-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Optimización" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Optimizaci%C3%B3n">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Optimización</div>
			</a>
			
			<ul id="toc-Optimización-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../es/Ipset.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Ipset_(Espa%C3%B1ol)&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">español</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../es/Ipset.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Ipset_(Espa%C3%B1ol)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Ipset_(Espa%C3%B1ol)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../es/Ipset.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Ipset_(Espa%C3%B1ol)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Ipset_(Espa%C3%B1ol)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="es" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">Esta traducción de <a href="../en/Ipset.html" title="Ipset">Ipset</a> fue revisada el <b>2020-08-07</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Ipset&amp;diff=0&amp;oldid=630338">cambios</a> puede <a href="../es/ArchWiki:Translation_Team/Contributing.html" title="ArchWiki:Translation Team (Español)/Contributing (Español)">actualizarla</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Artículos relacionados</p>
<ul>
<li><a href="../es/Category:Firewalls.html" class="mw-redirect" title="Firewalls (Español)">Firewalls (Español)</a></li>
<li><a href="../es/Iptables.html" title="Iptables (Español)">Iptables (Español)</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://ipset.netfilter.org/">ipset</a> es una aplicación complementaria para el <a href="../es/Category:Firewalls.html" class="mw-redirect" title="Firewalls (Español)">cortafuegos</a> de Linux <a href="../es/Iptables.html" title="Iptables (Español)">iptables</a>. Le permite configurar reglas para bloquear rápida y fácilmente un conjunto de direcciones IP, entre otras cosas.
</p>
<mw:tocplace></mw:tocplace>
<h2>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h2>
<p><a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">Instale</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ipset">ipset</a></span> de los <a href="../es/Official_repositories.html" title="Official repositories (Español)">repositorios oficiales</a>.
</p>
<h2>
<span id="Configuraci.C3.B3n"></span><span class="mw-headline" id="Configuración">Configuración</span>
</h2>
<h3><span class="mw-headline" id="Bloquear_una_lista_de_conexiones_de_red">Bloquear una lista de conexiones de red</span></h3>
<p>Comience creando un nuevo «set« (<i>conjunto</i>) de direcciones de conexiones de red. Esto crea un nuevo conjunto de «hash» de direcciones de red «net» llamado «myset»:
</p>
<pre># ipset create myset hash:net
</pre>
<p>o
</p>
<pre># ipset -N myset nethash
</pre>
<p>Añada al conjunto cualquier dirección IP que desee bloquear:
</p>
<pre># ipset add myset 14.144.0.0/12
# ipset add myset 27.8.0.0/13
# ipset add myset 58.16.0.0/15
# ipset add myset 1.1.1.0/24
</pre>
<p>Finalmente, configure <a href="../es/Iptables.html" title="Iptables (Español)">iptables</a> para bloquear cualquier dirección de ese conjunto. Esta orden añadirá una regla en la parte superior de la cadena «INPUT» para que «-m» coincida con el conjunto llamado «myset» de ipset (--match-set) cuando es un paquete «src» y «DROP», descartándolo:
</p>
<pre># iptables -I INPUT -m set --match-set myset src -j DROP
</pre>
<h3><span class="mw-headline" id="Bloquear_una_lista_de_direcciones_IP">Bloquear una lista de direcciones IP</span></h3>
<p>Comience creando un nuevo «conjunto» de direcciones IP. Esto crea un nuevo conjunto «hash» de direcciones «ip» llamado «myset-ip»:
</p>
<pre># ipset create myset-ip hash:ip
</pre>
<p>o
</p>
<pre># ipset -N myset-ip iphash
</pre>
<p>Añada cualquier dirección IP que desee bloquear al conjunto:
</p>
<pre># ipset add myset-ip 1.1.1.1
# ipset add myset-ip 2.2.2.2
</pre>
<p>Finalmente, configure <a href="../es/Iptables.html" title="Iptables (Español)">iptables</a> para bloquear cualquier dirección de ese conjunto:
</p>
<pre># iptables -I INPUT -m set --match-set myset-ip src -j DROP
</pre>
<h3><span class="mw-headline" id="Hacer_que_ipset_sea_persistente">Hacer que ipset sea persistente</span></h3>
<p>El ipset que ha creado se almacena en la memoria y desaparecerá después del reinicio. Para que el ipset creado sea persistente, debe hacer lo que sigue.
</p>
<p>Primero, guarde el ipset en /etc/ipset.conf:
</p>
<pre># ipset save &gt; /etc/ipset.conf
</pre>
<p>Luego <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">active</a> <code>ipset.service</code>, que funciona de manera similar a <code>iptables.service</code> para restaurar las <a href="../en/Iptables.html#Configuration_and_usage" title="Iptables">reglas iptables</a>.
</p>
<h3><span class="mw-headline" id="Bloquear_con_PeerGuardian_y_otras_listas_de_bloqueo">Bloquear con PeerGuardian y otras listas de bloqueo</span></h3>
<p>La herramienta <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pg2ipset-git/">pg2ipset-git</a></span><sup><small>AUR</small></sup> del autor de Maeyanie.com, junto con el script <a rel="nofollow" class="external text" href="https://github.com/ilikenwf/pg2ipset/blob/master/ipset-update.sh">ipset-update.sh</a> se pueden usar con cron para actualizar automáticamente varias listas de bloqueo. Actualmente, de manera predeterminada, se implementa el bloqueo de: país, nodo de salida tor y lista pg2 de Bluetrack.
</p>
<h2>
<span id="Otras_.C3.B3rdenes"></span><span class="mw-headline" id="Otras_órdenes">Otras órdenes</span>
</h2>
<p>Para ver los conjuntos:
</p>
<pre># ipset list
</pre>
<p>o
</p>
<pre># ipset -L
</pre>
<p>Para eliminar un conjunto llamado «myset»:
</p>
<pre># ipset destroy myset
</pre>
<p>o
</p>
<pre># ipset -X myset
</pre>
<p>Para eliminar todos los conjuntos:
</p>
<pre># ipset destroy
</pre>
<p>Consulte la página de manual de ipset para obtener más información.
</p>
<h2>
<span id="Optimizaci.C3.B3n"></span><span class="mw-headline" id="Optimización">Optimización</span>
</h2>
<p>La herramienta <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/iprange/">iprange</a></span><sup><small>AUR</small></sup> puede ayudar a reducir las entradas en ipset.conf fusionando rangos adyacentes o eliminando rangos superpuestos. Esto puede mejorar el rendimiento del enrutador/cortafuegos si el tamaño de la tabla es enorme. Esta herramienta también puede convertir una lista de nombres de servidores a IP.
</p>
<p>Aunque ipset está diseñado para poder escalar bien, eso no significa que lo haga infinitamente. En particular, algunas paises tienen espacios de direcciones IP muy grandes, lo que hará que el bloqueo geográfico sea ineficiente.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:Firewalls.html" title="Category:Firewalls (Español)">Firewalls (Español)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Ipset_(Espa%C3%B1ol)&amp;oldid=659734">https://wiki.archlinux.org/index.php?title=Ipset_(Español)&amp;oldid=659734</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 April 2021, at 20:42.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
