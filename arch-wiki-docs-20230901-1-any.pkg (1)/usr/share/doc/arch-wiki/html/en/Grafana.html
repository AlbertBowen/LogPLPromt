<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Grafana - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Grafana rootpage-Grafana skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Example_usage" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Example_usage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Example usage</div>
			</a>
			
				<button aria-controls="toc-Example_usage-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Example usage subsection
				</button>
			
			<ul id="toc-Example_usage-sublist" class="sidebar-toc-list">
				<li id="toc-Influxdb_installation" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Influxdb_installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Influxdb installation</div>
			</a>
			
			<ul id="toc-Influxdb_installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Aggregate_data" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Aggregate_data">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Aggregate data</div>
			</a>
			
			<ul id="toc-Aggregate_data-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Creating_Grafana_dashboard" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Creating_Grafana_dashboard">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>Creating Grafana dashboard</div>
			</a>
			
			<ul id="toc-Creating_Grafana_dashboard-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Grafana.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Grafana.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Grafana.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Grafana&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Grafana&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Grafana.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Grafana&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Grafana&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/Zabbix.html" title="Zabbix">Zabbix</a></li>
<li><a href="../en/Munin.html" title="Munin">Munin</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://grafana.com/">Grafana</a> is an open-source, general purpose dashboard and graph composer, which runs as a web application. It supports <a rel="nofollow" class="external text" href="https://graphiteapp.org/">graphite</a>, <a href="../en/TICK_stack.html#InfluxDB" class="mw-redirect" title="InfluxDB">InfluxDB</a>, <a href="../en/Prometheus.html" title="Prometheus">Prometheus</a> or opentsdb as backends.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grafana">grafana</a></span> package.
</p>
<p>After that you can <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>grafana.service</code> and access the application on localhost, e.g.: <a rel="nofollow" class="external free" href="http://127.0.0.1:3000">http://127.0.0.1:3000</a> . The default username is <code>admin</code> and password <code>admin</code> to access the web frontend.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The default configuration listens on <code>*:3000</code> so make sure to change the configuration or enable the relevant firewall rules.</div>
<h2><span class="mw-headline" id="Example_usage">Example usage</span></h2>
<h3><span class="mw-headline" id="Influxdb_installation">Influxdb installation</span></h3>
<p>One often used backend is <a href="../en/TICK_stack.html#InfluxDB" class="mw-redirect" title="InfluxDB">InfluxDB</a>. <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">Enable</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>influxdb.service</code>. The web interface is available at <a rel="nofollow" class="external free" href="http://localhost:8086/">http://localhost:8086/</a>
</p>
<h3><span class="mw-headline" id="Aggregate_data">Aggregate data</span></h3>
<p>In case of scaleable server monitoring in combination with Grafana and InfluxDB, one could choose software like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/collectd/">collectd</a></span><sup><small>AUR</small></sup>. More generally any measurement data can be aggregated with InfluxDB and displayed with Grafana. There are modules and libraries for several programming languages to interact with InfluxDB and one could even store data with a simple http post command using the program <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=curl">curl</a></span>.
</p>
<p>Herefore, create a database named <code>example</code>:
</p>
<pre>$ curl -G http://localhost:8086/query --data-urlencode "q=CREATE DATABASE example"
</pre>
<p>Post data into the <code>example</code> database:
</p>
<pre>$ curl -i -XPOST 'http://localhost:8086/write?db=example' --data-binary 'cpu_load_short,host=server01,region=us-west value=0.64 1434055562000000000'
</pre>
<h3><span class="mw-headline" id="Creating_Grafana_dashboard">Creating Grafana dashboard</span></h3>
<ul>
<li>Before creating a dashboard, we have to add a data source. So first click on <i>Data sources</i> in the left menu and then on <i>Add new</i>.</li>
<li>Name can be something like <code>influxdb</code> and the type should be set to <code>InfluxDB 0.9</code>. In this example, the URL for the HTTP settings is <code>http://localhost:8086</code>. Note that the port is not the same as the one of the web interface! Database name corresponds to the one earlier chosen, e.g. <code>example</code>. If not changed, username and password are <code>root</code>.</li>
<li>Click on <i>Test connection</i> to see everything is working and then on <i>Save</i>.</li>
<li>Next, back at the front page, click <i>Home</i> in the left-upper corner and then on <i>New</i>.</li>
<li>Now this might be a bit counter-intuitive, but to add a new dashboard you have to hover and click over the little green box on the left side and then, for example, choose: <i>Add panel</i> and <i>Graph</i>.</li>
<li>Click on the title of the new graph and select <i>Edit</i>.</li>
<li>In the graph settings in <i>Metrics</i> choose <code>influxdb</code> as data source in the lower-right corner.</li>
<li>Create a query by selecting your aggregated data. Click on <i>select measurement</i> which is located beside <i>FROM</i>. In the drop-down menu should appear a list of "tables" in your database, e.g. the table named <code>localhost</code>. If no suggestions comes up, your connection to InfluxDB might be broken or no data has been aggregated yet.</li>
<li>Beside the bold text <i>SELECT</i> click on <i>value</i> and choose for example the measurement data <code>uptime</code>.</li>
<li>To save changes, click <i>Back to dashboard</i>, then the floppy disc icon.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Network_monitoring.html" title="Category:Network monitoring">Network monitoring</a></li>
<li><a href="../en/Category:Web_applications.html" title="Category:Web applications">Web applications</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Grafana&amp;oldid=784964">https://wiki.archlinux.org/index.php?title=Grafana&amp;oldid=784964</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 10 August 2023, at 07:23.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
