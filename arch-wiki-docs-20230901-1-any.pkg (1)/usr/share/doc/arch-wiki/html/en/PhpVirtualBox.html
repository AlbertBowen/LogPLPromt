<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PhpVirtualBox - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PhpVirtualBox rootpage-PhpVirtualBox skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
				<button aria-controls="toc-Installation-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Installation subsection
				</button>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
				<li id="toc-VirtualBox_web_service" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#VirtualBox_web_service">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>VirtualBox web service</div>
			</a>
			
			<ul id="toc-VirtualBox_web_service-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-VirtualBox_web_interface_(phpvirtualbox)" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#VirtualBox_web_interface_(phpvirtualbox)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>VirtualBox web interface (phpvirtualbox)</div>
			</a>
			
			<ul id="toc-VirtualBox_web_interface_(phpvirtualbox)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Configuration" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Configuration">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Configuration</div>
			</a>
			
				<button aria-controls="toc-Configuration-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Configuration subsection
				</button>
			
			<ul id="toc-Configuration-sublist" class="sidebar-toc-list">
				<li id="toc-Web_service" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Web_service">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Web service</div>
			</a>
			
			<ul id="toc-Web_service-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Web_interface" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Web_interface">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Web interface</div>
			</a>
			
			<ul id="toc-Web_interface-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Running" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Running">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Running</div>
			</a>
			
			<ul id="toc-Running-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Debugging" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Debugging">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Debugging</div>
			</a>
			
			<ul id="toc-Debugging-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-External_Resources" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#External_Resources">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>External Resources</div>
			</a>
			
			<ul id="toc-External_Resources-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/PhpVirtualBox.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:PhpVirtualBox.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/PhpVirtualBox.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=PhpVirtualBox&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=PhpVirtualBox&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/PhpVirtualBox.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=PhpVirtualBox&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=PhpVirtualBox&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a></li>
<li><a href="../en/Category:Hypervisors.html" title="Category:Hypervisors">Category:Hypervisors</a></li>
<li><a href="../en/RemoteBox.html" title="RemoteBox">RemoteBox</a></li>
</ul>
</div>
<p><b>phpVirtualBox</b> is an open source, AJAX implementation of the <a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a> user interface written in <a href="../en/PHP.html" title="PHP">PHP</a>. As a modern web interface, it allows you to access and control remote VirtualBox instances. Much of its verbage and some of its code is based on the (inactive) vboxweb project. phpVirtualBox was designed to allow users to administer VirtualBox in a headless environment - mirroring the VirtualBox GUI through its web interface.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>To remotely control virtual machine you need two components: VirtualBox web service, running in the same OS with virtual machine, and web interface, written in PHP and therefore dependent on PHP-capable web server. Communication between them, based on <a href="https://en.wikipedia.org/wiki/SOAP" class="extiw" title="wikipedia:SOAP">SOAP</a> protocol is currently unencrypted, so it is recommended to install both on the same machine if you do not want your username and password to be send via network as clear text.
</p>
<h3><span class="mw-headline" id="VirtualBox_web_service">VirtualBox web service</span></h3>
<p>To use the web console, you must install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/virtualbox-ext-oracle/">virtualbox-ext-oracle</a></span><sup><small>AUR</small></sup> package.
</p>
<h3>
<span id="VirtualBox_web_interface_.28phpvirtualbox.29"></span><span class="mw-headline" id="VirtualBox_web_interface_(phpvirtualbox)">VirtualBox web interface (phpvirtualbox)</span>
</h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=phpvirtualbox">phpvirtualbox</a></span> package. You will also need a PHP-capable web server of your choice (<a href="../en/Apache_HTTP_Server.html" title="Apache HTTP Server">Apache HTTP Server</a> is suitable choice).
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p><i>From here on out, it is assumed that you have a web server (with root at <code>/srv/http</code>) and php functioning properly.</i>
</p>
<h3><span class="mw-headline" id="Web_service">Web service</span></h3>
<p>In the virtual machine settings, enable the remote desktop access and specify a port different with other virtual machines.
</p>
<p>Every time you need to make machine remotely available execute something like this:
</p>
<pre>vboxwebsrv -b --logfile <i>path/to/log/file</i> --pidfile /run/vbox/vboxwebsrv.pid --host 127.0.0.1
</pre>
<p>As user whose account you want the service to be running from (<code>--host</code> option is not necessary if you enabled association with <b>localhost</b> in the <code>/etc/host.conf</code>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This user must be in group <b>vboxusers</b>!</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox">virtualbox</a></span> provides the <code>vboxweb.service</code> for <a href="../en/Systemd.html" title="Systemd">systemd</a>. 
</p>
<p>To start <code>vboxweb</code> from <b>non-root user</b> you must: 
</p>
<ol>
<li>Create or add a user in the group <code>vboxusers</code> (for example, <code>vbox</code>)</li>
<li>
<a href="../en/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">Edit</a> <code>vboxweb_mod.service</code> like this:<pre>[Unit]
Description=VirtualBox Web Service
After=network.target

[Service]
Type=forking
PIDFile=/run/vboxweb/vboxweb.pid
ExecStart=/usr/bin/vboxwebsrv --pidfile /run/vboxweb/vboxweb.pid  --background
User=vbox
Group=vboxusers

[Install]
WantedBy=multi-user.target</pre>
</li>
<li>Create tmpfile rule for your <code>vboxweb_mod.service</code><pre># echo "d /run/vboxweb 0755 vbox vboxusers" &gt; /etc/tmpfiles.d/vboxweb_mod.conf</pre>
</li>
<li>Create manually <code>/run/vboxweb</code> directory for first start <code>vboxweb_mod.service</code><pre># mkdir /run/vboxweb
# chown vbox:vboxusers /run/vboxweb
# chmod 755 /run/vboxweb</pre> or just reboot your system for automatically create.</li>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>vboxweb_mod.service</code>
</li>
</ol>
<h3><span class="mw-headline" id="Web_interface">Web interface</span></h3>
<p>Edit <code>/etc/php/php.ini</code>, uncomment the following line:
</p>
<pre>extension=soap
</pre>
<p>Edit the example configuration file <code>/usr/share/webapps/phpvirtualbox/config.php-example</code> appropriately (it is well-commented and does not need explanations). Copy that file into <code>/etc/webapps/phpvirtualbox/config.php</code> and symlink to <code>/usr/share/webapps/phpvirtualbox/config.php</code>.
</p>
<p>Then, edit <code>/etc/php/php.ini</code>, find <code>open_basedir</code> and append the configuration path <code>/etc/webapps/</code> at the end. It will look like the follows:
</p>
<pre>open_basedir = /srv/http/:/home/:/tmp/:/usr/share/pear/:/usr/share/webapps/:/etc/webapps/
</pre>
<p>If you are running Apache as webserver, you can copy <code>/etc/webapps/phpvirtualbox/apache.example.conf</code> into <code>/etc/httpd/conf/extra/phpvirtualbox.conf</code>. If you are running Apache 2.4, due to <a rel="nofollow" class="external text" href="https://httpd.apache.org/docs/2.4/upgrading.html#run-time">the syntax of ACL changes</a>, edit that file to replace the follows
</p>
<pre>Order allow,deny
Allow from all
</pre>
<p>to:
</p>
<pre>Require all granted
</pre>
<p>Next, add following line into <code>/etc/httpd/conf/httpd.conf</code>:
</p>
<pre>Include conf/extra/phpvirtualbox.conf
</pre>
<p>Edit <code>/etc/webapps/phpvirtualbox/.htaccess</code> and remove the following line.
</p>
<pre>deny from all
</pre>
<p>Do not forget to restart the webserver (e.g. for Apache, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>httpd.service</code>).
</p>
<h2><span class="mw-headline" id="Running">Running</span></h2>
<p>If everything works fine, visit http://<b>YourVboxWebInterfaceHost</b>/phpvirtualbox and it should show a login box. The initial username and password are both <b>"admin"</b>, after login change them from the web interface (File -&gt; change password). If you set <code>$noAuth=true</code> in the web interface <code>config.php</code>, you should immediately see the phpvirtualbox web interface.
</p>
<h2><span class="mw-headline" id="Debugging">Debugging</span></h2>
<p>If you encounter a login problem, and you have upgraded virtualbox from 3.2.x to 4.0.x, you should run the following command to update you websrvauthlibrary in you virtualbox configuration file which has been changed from <code>VRDPAuth.so</code> to <code>VBOXAuth.so</code>.
</p>
<pre>VBoxManage setproperty vrdeauthlibrary default
VBoxManage setproperty websrvauthlibrary default 
</pre>
<p>If you encounter a login problem with an error message that contains
</p>
<pre>[message:protected] =&gt; Could not connect to host (<a rel="nofollow" class="external free" href="http://127.0.0.1:18083/">http://127.0.0.1:18083/</a>)
</pre>
<p>Then you may want to edit <code>/etc/webapps/phpvirtualbox/config.php</code> variable location to use <code>localhost</code> rather than <code>127.0.0.1</code>. See <a rel="nofollow" class="external text" href="https://sourceforge.net/p/phpvirtualbox/discussion/help/thread/cbc7fa4b/">this forum post</a> for further information.
</p>
<p>If you are still unable to login into the interface, you can try to disable webauth by
</p>
<pre>VBoxManage setproperty websrvauthlibrary null
</pre>
<p>on virtualization server and set username and password to empty strings and set $noAuth=true in <code>/etc/webapps/phpvirtualbox/config.php</code> on web server. By doing this, you should immediatelly access the web interface without login process. And then, maybe you can try some apache access control.
</p>
<h2><span class="mw-headline" id="External_Resources">External Resources</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://sourceforge.net/projects/phpvirtualbox/">PHPVirtualBox Home Page</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20130627004053/http://www.torrent-invites.com/software/101718-manage-your-virtualbox-vms-via-web-phpvirtualbox.html">Manage your VirtualBox VMs via the web with phpVirtualBox</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=147175">systemd vboxweb.service mod when needing to start as non-root user</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Virtualization.html" title="Category:Virtualization">Virtualization</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PhpVirtualBox&amp;oldid=778703">https://wiki.archlinux.org/index.php?title=PhpVirtualBox&amp;oldid=778703</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 19 May 2023, at 20:21.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
