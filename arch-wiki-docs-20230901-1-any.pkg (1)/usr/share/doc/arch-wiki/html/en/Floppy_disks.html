<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Floppy disks - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Floppy_disks rootpage-Floppy_disks skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
				<button aria-controls="toc-Installation-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Installation subsection
				</button>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
				<li id="toc-Kernel_module" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Kernel_module">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Kernel module</div>
			</a>
			
			<ul id="toc-Kernel_module-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Packages" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>Packages</div>
			</a>
			
			<ul id="toc-Packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Common_tasks" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Common_tasks">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Common tasks</div>
			</a>
			
				<button aria-controls="toc-Common_tasks-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Common tasks subsection
				</button>
			
			<ul id="toc-Common_tasks-sublist" class="sidebar-toc-list">
				<li id="toc-Low_level_format" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Low_level_format">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Low level format</div>
			</a>
			
			<ul id="toc-Low_level_format-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-File_system_creation" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#File_system_creation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>File system creation</div>
			</a>
			
			<ul id="toc-File_system_creation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Mount" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Mount">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>Mount</div>
			</a>
			
			<ul id="toc-Mount-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Flux_images" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Flux_images">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Flux images</div>
			</a>
			
			<ul id="toc-Flux_images-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Troubleshooting" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Troubleshooting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Troubleshooting</div>
			</a>
			
				<button aria-controls="toc-Troubleshooting-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Troubleshooting subsection
				</button>
			
			<ul id="toc-Troubleshooting-sublist" class="sidebar-toc-list">
				<li id="toc-Unable_to_get_diskette_geometry" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Unable_to_get_diskette_geometry">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Unable to get diskette geometry</div>
			</a>
			
			<ul id="toc-Unable_to_get_diskette_geometry-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-See_also" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#See_also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>See also</div>
			</a>
			
			<ul id="toc-See_also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Floppy_disks.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Floppy_disks&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Floppy_disks.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Floppy_disks&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Floppy_disks&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Floppy_disks.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Floppy_disks&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Floppy_disks&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Cover <span class="plainlinks archwiki-template-man" title="$ man 8 fdformat"><a rel="nofollow" class="external text" href="https://linux.die.net/man/8/fdformat">fdformat(8)</a></span> and recovering a "dead" floppy. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Floppy_disks">Talk:Floppy disks</a>)</div>
</div>
<p>From <a href="https://en.wikipedia.org/wiki/Floppy_disk" class="extiw" title="wikipedia:Floppy disk">Wikipedia</a>:
</p>
<dl><dd>A floppy disk, also called a diskette, is a disk storage medium composed of a disk of thin and flexible magnetic storage medium, sealed in a rectangular plastic carrier lined with fabric that removes dust particles. Floppy disks are read and written by a floppy disk drive (FDD).</dd></dl>
<p>Common tasks with floppy disks are described bellow, with available tools to accomplish them.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Kernel_module">Kernel module</span></h3>
<p>Most of the floppy drives should be supported by stock kernel. The module <code>floppy</code> is used as a driver for floppy drives (for classical floppy controllers). USB floppy drives do not need this as they appear as standard USB mass storage devices.
</p>
<p>The <code>floppy</code> module might not be loaded by default. In such case, it could be loaded with the following command:
</p>
<pre># modprobe floppy
</pre>
<h3><span class="mw-headline" id="Packages">Packages</span></h3>
<p>There are two packages in the Arch package repository related with floppy disks:
</p>
<ul>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dosfstools">dosfstools</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mtools">mtools</a></span></li>
</ul>
<p>In addition, for low level formatting on USB attached floppy drives you will need <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ufiformat/">ufiformat</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Common_tasks">Common tasks</span></h2>
<p>Here are the commands needed to perform the most common tasks. In all examples is assumed that <code>/dev/fd0</code> is the Linux device for the floppy drive. By default, all these tasks need to be performed as <a href="../en/Users_and_groups.html#Overview" class="mw-redirect" title="Root user">root</a>. Note that USB based floppy drives will show up as <code>/dev/sd<i>x</i></code> for some varying value of x.
</p>
<h3><span class="mw-headline" id="Low_level_format">Low level format</span></h3>
<p>When it comes to floppies (and some very early hard drives) it was possible to perform a "low level format". This would create various markers on the disk for sectors and tracks. This is performed on a level below file systems.
</p>
<p>For USB based floppy drives use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ufiformat/">ufiformat</a></span><sup><small>AUR</small></sup>:
</p>
<pre># ufiformat /dev/sd<i>x</i>
</pre>
<p>Additional flags can be used to adjust which format to use, by default it uses the same as is already on the disk. Note that USB floppy drives in general only support very few formats (unlike traditional floppy controllers). Supported formats can be listed using <code>ufiformat -i /dev/sd<i>x</i></code>
</p>
<p>For classical floppy controllers on the motherboard <code>fdformat</code> could perform this, which used to be part of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span>, but is no longer included in the package by default and you would have to rebuild it yourself.
</p>
<h3><span class="mw-headline" id="File_system_creation">File system creation</span></h3>
<pre># mkfs.fat /dev/fd0
</pre>
<h3><span class="mw-headline" id="Mount">Mount</span></h3>
<pre># mount -t vfat /dev/fd0 /media/floppy
</pre>
<h2><span class="mw-headline" id="Flux_images">Flux images</span></h2>
<p>It is possible to read and write non-native floppy formats (such as Amiga disks on a PC floppy drive) using special hardware adapters that works on the magnetic level (commonly referred to as "flux images"). This is possible as the floppy controller handles most of the low level tasks rather than the drives directly. Note that these do <i>not</i> work with USB floppy drives. While the adapter itself connects to the (modern) PC using USB, it needs to connect to a classic floppy drive with a ribbon cable on the other side.
</p>
<p>These adapters also require specialised software to control them. Depending on which such hardware adapter you have one of these packages may be relevant:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greaseweazle/">greaseweazle</a></span><sup><small>AUR</small></sup>: For the Greaseweazle open hardware project</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fluxengine-git/">fluxengine-git</a></span><sup><small>AUR</small></sup>: For the FluxEngine open hardware project. Also some support for Greaseweazle.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kryoflux/">kryoflux</a></span><sup><small>AUR</small></sup>: For the proprietary Kryoflux adapter.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fluxvis/">fluxvis</a></span><sup><small>AUR</small></sup>: Open source software to visualise flux images.</li>
</ul>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Unable_to_get_diskette_geometry">Unable to get diskette geometry</span></h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># mkfs.fat /dev/fd0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">mkfs.fat 4.1 (2017-01-24)
mkfs.fat: unable to get diskette geometry for '/dev/fd0'
</pre>
<p>In such case, is probably that the diskette is physically damaged.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external free" href="https://github.com/dosfstools/dosfstools">https://github.com/dosfstools/dosfstools</a> - DOS filesystem utilities</li>
<li>
<a rel="nofollow" class="external free" href="https://www.gnu.org/software/mtools/">https://www.gnu.org/software/mtools/</a> - a collection of utilities to access MS-DOS disks from Unix without mounting them</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Storage.html" title="Category:Storage">Storage</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Floppy_disks&amp;oldid=732154">https://wiki.archlinux.org/index.php?title=Floppy_disks&amp;oldid=732154</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 8 June 2022, at 22:00.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
