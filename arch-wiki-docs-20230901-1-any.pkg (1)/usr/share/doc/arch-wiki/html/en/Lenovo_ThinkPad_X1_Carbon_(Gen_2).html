<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad X1 Carbon (Gen 2) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_X1_Carbon_Gen_2 rootpage-Lenovo_ThinkPad_X1_Carbon_Gen_2 skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Hardware" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Hardware">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Hardware</div>
			</a>
			
				<button aria-controls="toc-Hardware-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Hardware subsection
				</button>
			
			<ul id="toc-Hardware-sublist" class="sidebar-toc-list">
				<li id="toc-Power_Management" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Power_Management">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Power Management</div>
			</a>
			
			<ul id="toc-Power_Management-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Wake_From_Suspend" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Wake_From_Suspend">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>Wake From Suspend</div>
			</a>
			
			<ul id="toc-Wake_From_Suspend-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Keyboard" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Keyboard">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.3</span>Keyboard</div>
			</a>
			
			<ul id="toc-Keyboard-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Trackpad" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Trackpad">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.4</span>Trackpad</div>
			</a>
			
			<ul id="toc-Trackpad-sublist" class="sidebar-toc-list">
				<li id="toc-Lock-ups_on_click" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Lock-ups_on_click">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.4.1</span>Lock-ups on click</div>
			</a>
			
			<ul id="toc-Lock-ups_on_click-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Tweaking_trackpad_behavior" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Tweaking_trackpad_behavior">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.4.2</span>Tweaking trackpad behavior</div>
			</a>
			
			<ul id="toc-Tweaking_trackpad_behavior-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Touchpad_not_working_after_wake_up_from_sleep" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Touchpad_not_working_after_wake_up_from_sleep">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.4.3</span>Touchpad not working after wake up from sleep</div>
			</a>
			
			<ul id="toc-Touchpad_not_working_after_wake_up_from_sleep-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Keyboard_backlight" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Keyboard_backlight">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.5</span>Keyboard backlight</div>
			</a>
			
			<ul id="toc-Keyboard_backlight-sublist" class="sidebar-toc-list">
				<li id="toc-Automatically_turn_on_backlight_when_typing" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Automatically_turn_on_backlight_when_typing">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.5.1</span>Automatically turn on backlight when typing</div>
			</a>
			
			<ul id="toc-Automatically_turn_on_backlight_when_typing-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Audio" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Audio">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.6</span>Audio</div>
			</a>
			
			<ul id="toc-Audio-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Processor" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Processor">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.7</span>Processor</div>
			</a>
			
			<ul id="toc-Processor-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS_UPDATE" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#BIOS_UPDATE">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.8</span>BIOS UPDATE</div>
			</a>
			
			<ul id="toc-BIOS_UPDATE-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Add_ALSA-Preamplifier" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Add_ALSA-Preamplifier">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.9</span>Add ALSA-Preamplifier</div>
			</a>
			
			<ul id="toc-Add_ALSA-Preamplifier-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Network" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Network">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.10</span>Network</div>
			</a>
			
			<ul id="toc-Network-sublist" class="sidebar-toc-list">
				<li id="toc-Wired" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Wired">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.10.1</span>Wired</div>
			</a>
			
			<ul id="toc-Wired-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Wireless" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Wireless">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.10.2</span>Wireless</div>
			</a>
			
			<ul id="toc-Wireless-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Display" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Display">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.11</span>Display</div>
			</a>
			
			<ul id="toc-Display-sublist" class="sidebar-toc-list">
				<li id="toc-Touchscreen" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Touchscreen">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.11.1</span>Touchscreen</div>
			</a>
			
			<ul id="toc-Touchscreen-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-GPU" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#GPU">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.11.2</span>GPU</div>
			</a>
			
			<ul id="toc-GPU-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-HiDPI" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#HiDPI">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.11.3</span>HiDPI</div>
			</a>
			
			<ul id="toc-HiDPI-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Xbindkeys" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Xbindkeys">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.11.4</span>Xbindkeys</div>
			</a>
			
			<ul id="toc-Xbindkeys-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-KMS" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#KMS">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.12</span>KMS</div>
			</a>
			
			<ul id="toc-KMS-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Webcam" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Webcam">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.13</span>Webcam</div>
			</a>
			
			<ul id="toc-Webcam-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Fingerprint_Reader" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Fingerprint_Reader">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.14</span>Fingerprint Reader</div>
			</a>
			
			<ul id="toc-Fingerprint_Reader-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-WWAN_(Mobile_broadband)" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#WWAN_(Mobile_broadband)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.15</span>WWAN (Mobile broadband)</div>
			</a>
			
			<ul id="toc-WWAN_(Mobile_broadband)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-GPS" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#GPS">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.16</span>GPS</div>
			</a>
			
			<ul id="toc-GPS-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Bluetooth" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Bluetooth">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.17</span>Bluetooth</div>
			</a>
			
			<ul id="toc-Bluetooth-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-See_also" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#See_also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>See also</div>
			</a>
			
			<ul id="toc-See_also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_2).html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Lenovo_ThinkPad_X1_Carbon_(Gen_2).html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_2).html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_2)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_2)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_2).html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_2)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_2)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Needs a hardware table and a function keys section (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Lenovo_ThinkPad_X1_Carbon_(Gen_2)">Talk:Lenovo ThinkPad X1 Carbon (Gen 2)</a>)</div>
</div>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<p>Almost everything works out of the box. Most of the hardware is based on the Intel Lynx Point reference design.
</p>
<h3><span class="mw-headline" id="Power_Management">Power Management</span></h3>
<p>The <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a> <code>thinkpad_acpi</code> picks up most of the sensors. The kernel module <code>tp_smapi</code> is not currently supported. PCIe ASPM does not currently work.
</p>
<p><a href="../en/Udev.html" title="Udev">Udev</a> does not not notify whenever battery discharges by 1%, but it does notify at 80%, 20%, 5%, 4% and 0%.  To take advantage of this, see (Suspend On Low Battery <a href="../en/Laptop.html#Hibernate_on_low_battery_level" title="Laptop">Laptop#Hibernate on low battery level</a>)
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> A recent kernel (around 5.15) introduced a bug with the ambient light sensor <code>cm32181</code> that prevents the system from suspending/hibernating. A temporary workaround is to unload the module <code>modprobe -r cm32181</code>. For more info, see <a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1988346">[1]</a>
</div>
<h3><span class="mw-headline" id="Wake_From_Suspend">Wake From Suspend</span></h3>
<p>Wake from suspend can be buggy with earlier versions of the bios, see:
<a rel="nofollow" class="external autonumber" href="https://marc.info/?l=linux-thinkpad&amp;m=139403589015682&amp;w=2">[2]</a>
</p>
<p>This can be solved by flashing the bios to a version &gt;=1.13. Look here for Lenovo's bios versions:
<a rel="nofollow" class="external autonumber" href="https://support.lenovo.com/en_GB/downloads/detail.page?DocID=DS039783">[3]</a>
</p>
<p>A guide how to make a bootable BIOS key drive can be found here:
<a rel="nofollow" class="external autonumber" href="http://positon.org/lenovo-thinkpad-bios-update-with-linux-and-usb">[4]</a>
</p>
<p>And some fairly old help from Lenovo here:
<a rel="nofollow" class="external autonumber" href="https://www.thinkwiki.org/wiki/BIOS_Upgrade#Using_grub4dos_.28also_for_Linux.29">[5]</a>
</p>
<p>If the function keys fail to wake after suspend, ensure you have a kernel version &gt;=3.15.
</p>
<p>If you build your own kernels, make sure to either enable <a href="../en/Trusted_Platform_Module.html" class="mw-redirect" title="TPM">TPM</a> (Trusted Platform Module) drivers or disable the Security Chip in the BIOS.
</p>
<h3><span class="mw-headline" id="Keyboard">Keyboard</span></h3>
<p>On kernel 3.14 and lower the adaptive panel at the top of the keyboard is locked to function mode.
</p>
<p>From kernel 3.15, Home mode is also available which allows access to screen brightness and other controls.
</p>
<p>If you wish to remap keys to get back to a sane keyboard layout, you can use either <a href="../en/Xmodmap.html" title="Xmodmap">xmodmap</a> or other <a href="../en/Input_remap_utilities.html" title="Input remap utilities">input remap utilities</a>.
</p>
<h3><span class="mw-headline" id="Trackpad">Trackpad</span></h3>
<p>To enable Trackpad support you need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> the above did the opposite for me. When both <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> are installed, the trackpoint (red thingy) uses libinput by default, so it does not cooperate with the trackpad (which by default is driven by synaptics), and as a result you cannot scroll with middle button + trackpoint. Keeping only <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> got everything working.</div>
<h4><span class="mw-headline" id="Lock-ups_on_click">Lock-ups on click</span></h4>
<p>There are significant issues with the trackpad locking up on click. This is due to the trackpad operating in buggy PS/2 mode.
</p>
<p>One alternative is to abandon the trackpad completely and use the trackpoint.  Make sure xf86-input-synaptics is not installed - the trackpad will still register button one mouse clicks.  Using xbindkeys <a href="../en/Xbindkeys.html" title="Xbindkeys">Xbindkeys</a> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdotool">xdotool</a></span>, right button clicks can be mapped to some other event.  For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xbindkeysrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Emit a right click on Alt + trackpad click
"xdotool click 3"
  Mod1 + b:1 + Release
</pre>
<h4><span class="mw-headline" id="Tweaking_trackpad_behavior">Tweaking trackpad behavior</span></h4>
<p>The behavior of the trackpad by default can be contrary to your expectations, particularly if you are coming from an OS X style trackpad.  The following settings can help significantly:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/99-x1carbon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Copy this to /etc/X11/xorg.conf.d/99-x1carbon.conf
 Section "InputClass"
     Identifier "X1 carbon stuff"
     MatchIsTouchpad "on"
     MatchDevicePath "/dev/input/event*"
     Driver "synaptics"

     # Enable two finger scrolling vertically, disable horizontally
     Option "VertTwoFingerScroll" "1"
     Option "HorizTwoFingerScroll" "0"

     # No scrolling along the edge
     Option "VertEdgeScroll" "0"
     Option "HorizEdgeScroll" "0"

     Option "LockedDrags" "0"
     Option "FingerPress" "1"

     # Turn off the blasted corners as buttons
     Option "RTCornerButton" "0"
     Option "RBCornerButton" "0"
     Option "LTCornerButton" "0"
     Option "LBCornerButton" "0"

     # Ignore "taps" and listen for "clicks"
     Option "TapButton1" "0"
     Option "TapButton2" "0"
     Option "TapButton3" "0"
     Option "ClickFinger1" "1" # Left click one finger
     Option "ClickFinger2" "3" # Right click two fingers
     Option "ClickFinger3" "0" # Three finger click disabled

     Option "TapAndDragGesture" "0"

     # No circular scrolling
     Option "CircularScrolling" "0"
 EndSection
</pre>
<p>If you are using gnome-shell, you may need to tell the settings app not to overwrite our changes:
</p>
<pre>gsettings set org.gnome.settings-daemon.plugins.mouse active false
</pre>
<h4><span class="mw-headline" id="Touchpad_not_working_after_wake_up_from_sleep">Touchpad not working after wake up from sleep</span></h4>
<p>See here:  
<a href="../en/Touchpad_Synaptics.html#Touchpad_does_not_work_after_resuming_from_hibernate/suspend" title="Touchpad Synaptics">Touchpad Synaptics#Touchpad does not work after resuming from hibernate/suspend</a>
</p>
<h3><span class="mw-headline" id="Keyboard_backlight">Keyboard backlight</span></h3>
<p>Works out of the box. there is a button on the soft keyboard to toggle it between off, low, and high brightness.
</p>
<h4><span class="mw-headline" id="Automatically_turn_on_backlight_when_typing">Automatically turn on backlight when typing</span></h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> See update at <a href="../en/Lenovo_ThinkPad_T14/T14s_(Intel)_Gen_2.html#Automatically_turn_on_backlight_when_typing" title="Lenovo ThinkPad T14/T14s (Intel) Gen 2">Lenovo ThinkPad T14/T14s (Intel) Gen 2#Automatically turn on backlight when typing</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Lenovo_ThinkPad_X1_Carbon_(Gen_2)">Talk:Lenovo ThinkPad X1 Carbon (Gen 2)</a>)</div>
</div>
<p>Using a c program that continuously checks for keyboard input, it is possible to activate the backlight for a certain time.
The program source is as a follows
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">kbdbacklight.c</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/* Original Author: Howard Chu &lt;hyc@symas.com&gt; 2013-01-15
 *
 * compile as "gcc -O2 -o kbdbacklight kbdbacklight.c" and run it in the background, or arrange to have it run at bootup.
 *
 * adapted by gabtub@gmail.com 2017-01-22
 * using https://gist.github.com/hadess/6847281
 * based on http://askubuntu.com/questions/383501/enable-the-keyboard-backlights-on-supported-lenovo-e-g-carbon-x1-with-command
 * original code found at  http://forum.notebookreview.com/threads/asus-keyboard-backlight-controller.703985/
 * sigterm catching done as shown in https://airtower.wordpress.com/2010/06/16/catch-sigterm-exit-gracefully/
 *
 * fixed by sva 2022-10-08
 * refactored the whole code out of boredom. keyboard should now be detected automatically using libudev.h 2023-06-25
 * uses /sys/class/leds/, s.t. ec_sys is not necessary
 *
 * monitor keyboard activity and toggle keyboard backlight
 */
#include &lt;stdio.h&gt; // fprintf(), snprintf(), stderr
#include &lt;unistd.h&gt; // write(), close(), read()
#include &lt;string.h&gt; // strlen(), strncpy()
#include &lt;fcntl.h&gt; // open(), O_RDONLY, O_WRONLY
#include &lt;limits.h&gt; // PATH_MAX
#include &lt;poll.h&gt; // poll()

#include &lt;linux/input.h&gt; // struct input_event, EV_KEY
#include &lt;libudev.h&gt; // udev stuff

#define IDLE_MSEC 1000
#define BRGHT_OFF 0
#define BRGHT_MED 128
#define BRGHT_HI 255

static volatile int running = 1;

static int find_keyboard(char* devnode, size_t size) {
  struct udev* udev = udev_new();
  if (!udev) {
    fprintf(stderr, "Failed to create udev context\n");
    return -1;
  }

  struct udev_enumerate* enumerate = udev_enumerate_new(udev);
  if (!enumerate) {
    fprintf(stderr, "Failed to create udev enumerate\n");
    udev_unref(udev);
    return -1;
  }

  udev_enumerate_add_match_subsystem(enumerate, "input");
  udev_enumerate_add_match_property(enumerate, "ID_INPUT_KEYBOARD", "1");
  udev_enumerate_scan_devices(enumerate);

  struct udev_list_entry* devices = udev_enumerate_get_list_entry(enumerate);
  struct udev_list_entry* entry;
  int found = 0;

  udev_list_entry_foreach(entry, devices) {
    const char* path = udev_list_entry_get_name(entry);
    struct udev_device* dev = udev_device_new_from_syspath(udev, path);
    if (!dev) {
      fprintf(stderr, "Failed to create udev device\n");
      continue;
    }

    const char* devnode_path = udev_device_get_devnode(dev);
    if (devnode_path) {
      if (strlen(devnode_path) &lt; size) {
        strncpy(devnode, devnode_path, size);
        found = 1;
        break;
      } else {
        fprintf(stderr, "Device node path is too long\n");
      }
    }

    udev_device_unref(dev);
  }

  udev_enumerate_unref(enumerate);
  udev_unref(udev);

  return found ? 0 : -1;
}

static int set_backlight(int brightness) {
  char buf[16];
  snprintf(buf, sizeof(buf), "%d", brightness);
  int fd = open("/sys/class/leds/tpacpi::kbd_backlight/brightness", O_WRONLY);
  if (fd &lt; 0) {
    fprintf(stderr, "Failed to open keyboard backlight file\n");
    return -1;
  }
  if (write(fd, buf, strlen(buf)) != strlen(buf)) {
    fprintf(stderr, "Failed to set keyboard backlight\n");
    close(fd);
    return -1;
  }
  close(fd);
  return 0;
}

static void handle_input(int fd, int* brightness) {
  struct input_event ev;
  int rc = read(fd, &amp;ev, sizeof(ev));
  if (rc &gt; 0) {
    if (ev.type == EV_KEY &amp;&amp; ev.value == 1) {
      set_backlight(BRGHT_HI);
      *brightness = BRGHT_HI;
    }
  }
}

static void handle_timeout(int fd, int* brightness) {
  set_backlight(BRGHT_OFF);
  *brightness = BRGHT_OFF;
}

static void handle_poll(int fd, int* brightness) {
  struct pollfd pfd;
  pfd.fd = fd;
  pfd.events = POLLIN;
  int timeout = IDLE_MSEC;
  while (running) {
    int rc = poll(&amp;pfd, 1, timeout);
    if (rc &gt; 0) {
      handle_input(fd, brightness);
      timeout = IDLE_MSEC;
    } else if (rc == 0) {
      handle_timeout(fd, brightness);
      timeout = -1;
    }
  }
}

int main(int argc, char** argv) {
  char devnode[PATH_MAX];
  if (find_keyboard(devnode, sizeof(devnode)) &lt; 0) {
    fprintf(stderr, "Failed to find keyboard device\n");
    return 1;
  }

  int fd = open(devnode, O_RDONLY);
  if (fd &lt; 0) {
    fprintf(stderr, "Failed to open keyboard device\n");
    return 1;
  }

  int brightness = BRGHT_OFF;
  set_backlight(brightness);
  handle_poll(fd, &amp;brightness);
  close(fd);
  return 0;
}
</pre>
<p>This file can be compiled with:
</p>
<pre> gcc -O2 -o kbdbacklight kbdbacklight.c -ludev
</pre>
<p>and must be executed as root. 
</p>
<p>It would be possible to autostart this by creating a systemd service as follows:
</p>
<ul>
<li>Create a folder /usr/local/customscripts/kbdbacklight/</li>
<li>Save the compiled c program to /usr/local/customscripts/kbdbacklight/kbdbacklight</li>
<li>Create the following bash script in the same folder:</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/customscripts/kbdbacklight/kbdbacklight.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
# must be executed as root
./kbdbacklight &amp;
RETVAL=$?
PID=$!
[ $RETVAL -eq 0 ] &amp;&amp; echo $PID &gt; /usr/local/customscripts/kbdbacklight/pid
</pre>
<ul><li>Create the following systemd service and place it in /etc/systemd/system/kbdbacklight.service</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/kbdbacklight.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=starts a daemon monitoring keyboard usage. will turn on keyboard backlight until no key is pressed for a TIMEOUT period
Requires=
After=

[Service]
Type=forking
User=root
WorkingDirectory=/usr/local/customscripts/kbdbacklight/
ExecStart=/usr/local/customscripts/kbdbacklight/kbdbacklight.sh &amp;
PIDFile=/usr/local/customscripts/kbdbacklight/pid

[Install]
WantedBy=multi-user.target
</pre>
<ul><li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>kbdbacklight.service</code>
</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<p>Specifiy the amount timeout for turning the backlight off again by adjusting the constant IDLE_MSEC in the c program. (and recompiling it again)
</p>
</div>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<p>Sound works out of the box. Uses the snd_hda_intel kernel module.
You may need to add default sound card options to the module.
</p>
<p>In /etc/modprobe.d/alsa-base.conf include the following line:
</p>
<p>options snd_hda_intel index=1
</p>
<h3><span class="mw-headline" id="Processor">Processor</span></h3>
<p>See <a href="../en/Microcode.html" title="Microcode">Microcode</a> how to update to processor's microcode.
</p>
<h3><span class="mw-headline" id="BIOS_UPDATE">BIOS UPDATE</span></h3>
<p>To install a BIOS update from linux, download the bootable iso <a rel="nofollow" class="external text" href="https://pcsupport.lenovo.com/fi/en/products/LAPTOPS-AND-NETBOOKS/THINKPAD-X-SERIES-LAPTOPS/THINKPAD-X1-CARBON-TYPE-20A7-20A8/downloads/DS039783">from here</a>
</p>
<p>Since there is no CD drive, <a rel="nofollow" class="external text" href="https://thinkwiki.de/BIOS-Update_ohne_optisches_Laufwerk_unter_Linux#El_Torito_Image_auf_USB-Stick_.28nur_UEFI.29">this method</a> can be used (German).
</p>
<h3><span class="mw-headline" id="Add_ALSA-Preamplifier">Add ALSA-Preamplifier</span></h3>
<p>It is a common problem on laptops running linux that the sound, even on maximum, is not loud enough. This can be fixed by adding an ALSA preamplifier.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span>.
</p>
<p>Change the config in /etc/asound.conf to the following ( you might have to adjust the cardnumber):
</p>
<pre># Set your DEFAULT device to the softvol plug-in
# NOT to a hardware card device
#
# The "!" means completely override the previous default
# Not just changing/adding to it.
pcm.!default {
  type plug
  slave.pcm "softvol"
}

# Configure softvol
pcm.softvol {
  type softvol

  # Send softvol's output to dmix
  slave {
    pcm "dmix"
    # If you wanted to you could send the output to a card directly
    # But in most cases it's better to send it to dmix and let
    # dmix handle where to send it. You can add a whole extra section
    # to configure dmix and where it sends output, but I'm
    # not covering that here.

    ## Use Card 0 Device 0 instead of dmix
    # pcm "hw:0,0"
    ## Use Card 2 Device 0 instead of dmix
    # pcm "hw:2,0"
  }

  # Add a control slider in your mixer interfaces
  # i.e. KMix and alsamixer
  control {
    name "Pre-Amp"
    card 0 #&lt;CardNumberYouWantControlToShowOn&gt; i.e. card 0 or card 2
  }

  # Minimum dB when slider is at 0%
  min_dB -5.0

  # Maximum DB when slider is at 100%
  max_dB 40.0

  # How many levels the slider should go through
  # i.e. how granular do you want your control to be
  resolution 12
}

</pre>
<p>Taken from <a rel="nofollow" class="external text" href="https://web.archive.org/web/20160316004932/http://blog.tpa.me.uk/2013/10/23/alsa-pre-amp-volume-boost-the-simple-explanation/">here</a>.
<b>WARNING:</b> It is possible to permanently damage your loudspeakers if you turn it up too much!
</p>
<h3><span class="mw-headline" id="Network">Network</span></h3>
<h4><span class="mw-headline" id="Wired">Wired</span></h4>
<p>There is a small port on the right side for Ethernet. An adaptor is required. In case of loss of the adaptor, the part number for ordering is 04X6435.
</p>
<h4><span class="mw-headline" id="Wireless">Wireless</span></h4>
<p>Works out of the box. The module <code>iwlwifi</code> should be automatically loaded by <a href="../en/Udev.html" title="Udev">udev</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Network controller: Intel Corporation Wireless 7260 (rev 83)
</pre>
<h3><span class="mw-headline" id="Display">Display</span></h3>
<h4><span class="mw-headline" id="Touchscreen">Touchscreen</span></h4>
<p>Works out of the box as single touch. The hardware is multitouch, but current stable drivers only support left-click mouse emulation. Seems to work with <a href="../en/Touchegg.html" title="Touchegg">Touchegg</a>.
</p>
<h4><span class="mw-headline" id="GPU">GPU</span></h4>
<p>The video card installed is an integrated Intel Haswell GPU. See <a href="../en/Intel_graphics.html" class="mw-redirect" title="Intel">intel</a> for more info.
</p>
<h4><span class="mw-headline" id="HiDPI">HiDPI</span></h4>
<p>Since the display has such a high pixel density, you might encounter problems. See here: <a href="../en/HiDPI.html" title="HiDPI">HiDPI</a>
</p>
<h4><span class="mw-headline" id="Xbindkeys">Xbindkeys</span></h4>
<p>For alternative window managers (Fluxbox, etc..), try installing <a href="../en/Xbindkeys.html" title="Xbindkeys">xbindkeys</a> and adding the following to <code>~/.xbindkeysrc</code>
</p>
<pre>"xbacklight -dec 5"
  XF86MonBrightnessDown
"xbacklight -inc 5"
  XF86MonBrightnessUp
</pre>
<h3><span class="mw-headline" id="KMS">KMS</span></h3>
<p>Get <a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a> working by adding i915 to the modules line
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mkinitcpio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">MODULES="i915"</pre>
<p>Then <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a>.
</p>
<h3><span class="mw-headline" id="Webcam">Webcam</span></h3>
<p>Works out of the box.
</p>
<h3><span class="mw-headline" id="Fingerprint_Reader">Fingerprint Reader</span></h3>
<p>The fingerprint reader is a Validity Sensors model (138a:0017) also used on the Thinkpad X240 and T440.  ThinkFinger does NOT support this reader.
</p>
<p>This fingerprint reader works with the current release of <a href="../en/Fprint.html" title="Fprint">fprint</a>.
</p>
<h3>
<span id="WWAN_.28Mobile_broadband.29"></span><span class="mw-headline" id="WWAN_(Mobile_broadband)">WWAN (Mobile broadband)</span>
</h3>
<p>The SIM-card must be inserted in the back of the laptop.
</p>
<p>This is usually a Sierra Wireless EM7345. It uses the cdc_mbim kernel module from kernel 3.14 forward. Since Gnome 3.14.1 it works with NetworkManager after installing modemmanager (after a reboot to catch the udev event).
</p>
<h3><span class="mw-headline" id="GPS">GPS</span></h3>
<p>This is provided by the Sierra Wireless EM7345. mbim_gpsd is required as well as a udev rule.
</p>
<p>Untested
</p>
<h3><span class="mw-headline" id="Bluetooth">Bluetooth</span></h3>
<p>Works out of the box after <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enabling">enabling</a> <code>bluetooth.service</code>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/ThinkWiki">ThinkWiki</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_2)&amp;oldid=781909">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_2)&amp;oldid=781909</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 24 June 2023, at 22:37.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
