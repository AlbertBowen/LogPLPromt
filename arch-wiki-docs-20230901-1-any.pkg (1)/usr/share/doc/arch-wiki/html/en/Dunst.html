<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Dunst - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dunst rootpage-Dunst skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Appearance" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Appearance">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Appearance</div>
			</a>
			
				<button aria-controls="toc-Appearance-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Appearance subsection
				</button>
			
			<ul id="toc-Appearance-sublist" class="sidebar-toc-list">
				<li id="toc-Icon_sets" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Icon_sets">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Icon sets</div>
			</a>
			
			<ul id="toc-Icon_sets-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Shortcuts" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Shortcuts">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Shortcuts</div>
			</a>
			
			<ul id="toc-Shortcuts-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Rules" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Rules">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Rules</div>
			</a>
			
				<button aria-controls="toc-Rules-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Rules subsection
				</button>
			
			<ul id="toc-Rules-sublist" class="sidebar-toc-list">
				<li id="toc-Filtering" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Filtering">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Filtering</div>
			</a>
			
			<ul id="toc-Filtering-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Modifying" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Modifying">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2</span>Modifying</div>
			</a>
			
			<ul id="toc-Modifying-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Scripting" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Scripting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.3</span>Scripting</div>
			</a>
			
			<ul id="toc-Scripting-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Disable_dunst_temporarily" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Disable_dunst_temporarily">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Disable dunst temporarily</div>
			</a>
			
			<ul id="toc-Disable_dunst_temporarily-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Dunstify" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Dunstify">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Dunstify</div>
			</a>
			
				<button aria-controls="toc-Dunstify-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Dunstify subsection
				</button>
			
			<ul id="toc-Dunstify-sublist" class="sidebar-toc-list">
				<li id="toc-Replacing_notifications" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Replacing_notifications">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6.1</span>Replacing notifications</div>
			</a>
			
			<ul id="toc-Replacing_notifications-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Actions" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Actions">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6.2</span>Actions</div>
			</a>
			
			<ul id="toc-Actions-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Tips_and_tricks" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Tips_and_tricks">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7</span>Tips and tricks</div>
			</a>
			
				<button aria-controls="toc-Tips_and_tricks-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Tips and tricks subsection
				</button>
			
			<ul id="toc-Tips_and_tricks-sublist" class="sidebar-toc-list">
				<li id="toc-Using_dunstify_as_volume/brightness_level_indicator" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Using_dunstify_as_volume/brightness_level_indicator">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7.1</span>Using dunstify as volume/brightness level indicator</div>
			</a>
			
			<ul id="toc-Using_dunstify_as_volume/brightness_level_indicator-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Overwrite_previous_notification" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Overwrite_previous_notification">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7.2</span>Overwrite previous notification</div>
			</a>
			
			<ul id="toc-Overwrite_previous_notification-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Troubleshooting" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Troubleshooting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8</span>Troubleshooting</div>
			</a>
			
				<button aria-controls="toc-Troubleshooting-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Troubleshooting subsection
				</button>
			
			<ul id="toc-Troubleshooting-sublist" class="sidebar-toc-list">
				<li id="toc-Dunst_fails_to_start_via_systemd" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Dunst_fails_to_start_via_systemd">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8.1</span>Dunst fails to start via systemd</div>
			</a>
			
			<ul id="toc-Dunst_fails_to_start_via_systemd-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Non-matching_font_sizes_(Emojis_much_larger_than_text)" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Non-matching_font_sizes_(Emojis_much_larger_than_text)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8.2</span>Non-matching font sizes (Emojis much larger than text)</div>
			</a>
			
			<ul id="toc-Non-matching_font_sizes_(Emojis_much_larger_than_text)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Notifications_from_some_applications_do_not_obey_timeout_rules" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Notifications_from_some_applications_do_not_obey_timeout_rules">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8.3</span>Notifications from some applications do not obey timeout rules</div>
			</a>
			
			<ul id="toc-Notifications_from_some_applications_do_not_obey_timeout_rules-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Dunst.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Dunst.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Dunst.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Dunst&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Dunst&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Dunst.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Dunst&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Dunst&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/Desktop_notifications.html" title="Desktop notifications">Desktop notifications</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://dunst-project.org/">Dunst</a> is a lightweight replacement for the notification-daemons provided by most desktop environments.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dunst">dunst</a></span> package. 
</p>
<p>An example configuration file is included at <code>/etc/dunst/dunstrc</code>. Copy this file to <code>~/.config/dunst/dunstrc</code> and edit it accordingly.
</p>
<p>Launch <code>/usr/bin/dunst</code> and make sure your window manager or desktop environment starts it on startup/login.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It may seem like there is no need to manually start dunst, as it may get autostarted by dbus-daemon when programs send notifications through D-Bus. However, the notification service frequently has multiple daemons installed, and there is no way to know which daemon will be autostarted. The dbus-daemon maintainers explicitly warn against relying on autostart for multiple-provider services.</div>
<h2><span class="mw-headline" id="Appearance">Appearance</span></h2>
<p>Text in notifications can be styled. Some examples are bold, italics, strikethrough and underline. For a complete reference see <a rel="nofollow" class="external text" href="https://docs.gtk.org/Pango/pango_markup.html">Pango markup</a>. Pango can be stripped from notifications if <code>markup</code> is set to <code>none</code>.
</p>
<p>The formatting of the notification can be specified. Options are as follows:
</p>
<pre>%a  appname
%s  summary
%b  body
%i  iconname (including its path)
%I  iconname (without its path)
%p  progress value if set ([  0%] to [100%]) or nothing
</pre>
<p>These can be used in conjunction with HTML markup. For example the <code>format</code> can be set to <code>&lt;b&gt;%s&lt;/b&gt;\n%b</code> for a bolded notification summary, a newline and the body unformatted.
</p>
<h3><span class="mw-headline" id="Icon_sets">Icon sets</span></h3>
<p>Icons are set in the option <code>icon_path</code> of the <code>global</code> section of the configuration file. Status, devices and legacy icons are needed. By default, Dunst looks for the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-icon-theme/">gnome-icon-theme</a></span><sup><small>AUR</small></sup> icons. For example, to use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=adwaita-icon-theme">adwaita-icon-theme</a></span> (gnome-icon-theme's successor), instead:
</p>
<pre>icon_path = /usr/share/icons/Adwaita/16x16/status/:/usr/share/icons/Adwaita/16x16/devices/:/usr/share/icons/Adwaita/16x16/legacy/
</pre>
<p>Instead of specifying the path to the icon folder, it is possible to specify the icon theme directly, also in the <code>global</code> section of the configuration file. In this case, you also need to set <code>enable_recursive_icon_lookup=true</code> to enable search in the subfolders of the theme main folder.
</p>
<p>Example:
</p>
<pre>icon_theme = Papirus
enable_recursive_icon_lookup = true
</pre>
<h2><span class="mw-headline" id="Shortcuts">Shortcuts</span></h2>
<p>Dunst can be controlled with <i>dunstctl</i>. You can update your <a href="../en/Keyboard_shortcuts.html" title="Keyboard shortcuts">keyboard shortcuts</a> to call <i>dunstctl</i>.
</p>
<p>For example, to close all notifications:
</p>
<pre>$ dunstctl close-all
</pre>
<p>To show history:
</p>
<pre>$ dunstctl history-pop
</pre>
<h2><span class="mw-headline" id="Rules">Rules</span></h2>
<p>You can create rules in your dunstrc file which match certain notifications and then perform an action on it such as executing a script.
</p>
<h3><span class="mw-headline" id="Filtering">Filtering</span></h3>
<p>To create a new rule, create a new section with a custom name in your configuration file. 
In that section you can now use the attributes appname, summary, body, icon, category, match_transient and msg_urgency to match the notification.
Globbing is supported. See <a href="#Scripting">Scripting</a> for an example.
Start dunst with the <code>-print</code> option to find out useful information about a notification to write proper rules.
</p>
<h3><span class="mw-headline" id="Modifying">Modifying</span></h3>
<p>When a notification is matched you can perform certain actions on it like modifying the format string, which is especially
useful if you want to completely ignore certain notifications. 
In that case simply add the line <code>format=""</code> to your rule.
</p>
<p>Another useful feature is if you want to keep certain notifications out of your history for example if you use dunst 
as a <a href="#Using_dunstify_as_volume/brightness_level_indicator">Volume indicator</a>.
To achieve this simply add <code>history_ignore=yes</code> to your rule.
</p>
<h3><span class="mw-headline" id="Scripting">Scripting</span></h3>
<p>Dunst can be configured to run scripts based on certain notification content. Here is an example using Dunst to run a script when someone from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pidgin">pidgin</a></span> signs on:
</p>
<pre>[signed_on]
   appname = Pidgin
   summary = "*signed on*"
   urgency = low
   script = do_something.sh
</pre>
<p>The specified script will be passed the following parameters in that order: appname, summary, body, icon, urgency.
</p>
<h2><span class="mw-headline" id="Disable_dunst_temporarily">Disable dunst temporarily</span></h2>
<p>To disable dunst temporarily there are two options.
</p>
<dl>
<dt>Use <code>dunstctl</code>
</dt>
<dd>You can use <code>dunstctl set-paused true/false/toggle</code> to disable/reenable or toggle pausing notifications. Use <code>dunstctl is-paused</code> to check if dunst is currently running or paused.</dd>
</dl>
<dl>
<dt>Use <code>killall</code>
</dt>
<dd>Use <code>killall -SIGUSR1 dunst</code> to disable and <code>killall -SIGUSR2 dunst</code> to reenable</dd>
</dl>
<p>Once paused dunst will hold back all notifications. 
After enabling dunst again all held back notifications will be displayed.
</p>
<h2><span class="mw-headline" id="Dunstify">Dunstify</span></h2>
<p>Dunstify is an alternative to the <a href="../en/Desktop_notifications.html#Usage_in_programming" title="Desktop notifications">notify-send</a> command
which is completely compatible to notify-send and can be used alongside it, but offers some more features.
Dunstify works only with the <a class="mw-selflink selflink">Dunst</a> notification daemon.
</p>
<p>Additionally to the options available in notify-send, dunstify offers some more features like IDs and actions.
</p>
<h3><span class="mw-headline" id="Replacing_notifications">Replacing notifications</span></h3>
<p>You can assign an ID to a notification by calling dunstify with the <code>-r ID</code> option, where <code>ID</code> must be an integer.
If a notification with that ID already exists it will be replaced with the new one.
You may also close a notification with <code>dunstify -C ID</code>.
</p>
<p>However, for most use cases, implementing tags is preferred over micromanaging IDs because the latter option has many hidden pitfalls <a rel="nofollow" class="external autonumber" href="https://github.com/dunst-project/dunst/issues/672">[1]</a>. Replacing IDs may be considered for debugging and for very complex notification senders instead of common practice <a rel="nofollow" class="external autonumber" href="https://github.com/dunst-project/dunst/issues/672#issuecomment-554530659">[2]</a>.
</p>
<p>Notifications with the same tag ("test" in this example) are replaced without having to care for IDs.
</p>
<pre>$ dunstify -h string:x-dunst-stack-tag:test Test -A 'tested,default'
$ dunstify -h string:x-dunst-stack-tag:test Testing
</pre>
<h3><span class="mw-headline" id="Actions">Actions</span></h3>
<p>You can define actions which can be invoked directly from the notification by specifying one or more <code>--action=action,label</code> parameters.
For instance:
</p>
<pre>$ dunstify --action="replyAction,reply" "Message received"
</pre>
<p>The user can then access the specified actions via Dunst's context menu. The call to dunstify will block until either the notification disappears or an action is selected. In the former case dunstify will return 1 if the notification timed out and 2 if it was dismissed manually <a rel="nofollow" class="external autonumber" href="https://specifications.freedesktop.org/notification-spec/latest/ar01s09.html#signals">[3]</a>. In the latter case it returns the action which was selected by the Dunst context menu.
</p>
<p>In addition to invoking actions with the context menu, you may also define how mouse events invoke actions <a rel="nofollow" class="external autonumber" href="https://github.com/dunst-project/dunst/blob/3f3082efb3724dcd369de78dc94d41190d089acf/dunstrc#L237">[4]</a>. This allows Dunst to be used interactively, as was suggested in <a rel="nofollow" class="external autonumber" href="https://github.com/dunst-project/dunst/issues/163#issuecomment-573191650">[5]</a>. When a notification has only one action, or when an action is named "default", that action may be invoked by middle-clicking the notification (by default or when <code>dunstrc</code> defines <code>mouse_middle_click = do_action</code>).
</p>
<pre>reply_action () {}
forward_action () {}
handle_dismiss () {}

ACTION=$(dunstify --action="default,Reply" --action="forwardAction,Forward" "Message Received")

case "$ACTION" in
"default")
    reply_action
    ;;
"forwardAction")
    forward_action
    ;;
"2")
    handle_dismiss
    ;;
esac
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3>
<span id="Using_dunstify_as_volume.2Fbrightness_level_indicator"></span><span class="mw-headline" id="Using_dunstify_as_volume/brightness_level_indicator">Using dunstify as volume/brightness level indicator</span>
</h3>
<p>You can use the replace id feature to implement a simple volume or brightness indicator notification like in this picture <a rel="nofollow" class="external autonumber" href="https://i.postimg.cc/j2CDkS1H/screen1712.png">[6]</a>.
</p>
<p>To realize that volume indicator place the following script somewhere on your <code>PATH</code>.
</p>
<pre>#!/bin/bash
# changeVolume

# Arbitrary but unique message tag
msgTag="myvolume"

# Change the volume using alsa(might differ if you use pulseaudio)
amixer -c 0 set Master "$@" &gt; /dev/null

# Query amixer for the current volume and whether or not the speaker is muted
volume="$(amixer -c 0 get Master | tail -1 | awk '{print $4}' | sed 's/[^0-9]*//g')"
mute="$(amixer -c 0 get Master | tail -1 | awk '{print $6}' | sed 's/[^a-z]*//g')"
if [[ $volume == 0 || "$mute" == "off" ]]; then
    # Show the sound muted notification
    dunstify -a "changeVolume" -u low -i audio-volume-muted -h string:x-dunst-stack-tag:$msgTag "Volume muted" 
else
    # Show the volume notification
    dunstify -a "changeVolume" -u low -i audio-volume-high -h string:x-dunst-stack-tag:$msgTag \
    -h int:value:"$volume" "Volume: ${volume}%"
fi

# Play the volume changed sound
canberra-gtk-play -i audio-volume-change -d "changeVolume"
</pre>
<p>Now simply bind <code>changeVolume 2dB+ unmute</code> etc. to some hotkey and you are done. You might also want to make dunst ignore these type of notifications in its history. See <a href="#Modifying">#Modifying</a>.
</p>
<h3><span class="mw-headline" id="Overwrite_previous_notification">Overwrite previous notification</span></h3>
<p>For some notifications (for example sound or brightness), you might want to overwrite the previous notification. You can either use the Dunst method in <a href="#Replacing_notifications">#Replacing notifications</a> or refer to <a href="../en/Desktop_notifications.html#Replace_previous_notification" title="Desktop notifications">Desktop notifications#Replace previous notification</a> for a more general example.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Dunst_fails_to_start_via_systemd">Dunst fails to start via systemd</span></h3>
<p>When using dunst without a Display Manager, the <code>DISPLAY</code> environment variable might not be correctly set.<a rel="nofollow" class="external autonumber" href="https://github.com/dunst-project/dunst/issues/347">[7]</a>
</p>
<p>To fix this, add the following to your <code>.xinitrc</code>:
</p>
<pre>systemctl --user import-environment DISPLAY
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> This is done automatically as part of <code>/etc/X11/xinit/xinitrc.d/50-systemd-user.sh</code> that comes with recent versions of <a href="../en/Systemd.html" title="Systemd">systemd</a>.</div>
<h3>
<span id="Non-matching_font_sizes_.28Emojis_much_larger_than_text.29"></span><span class="mw-headline" id="Non-matching_font_sizes_(Emojis_much_larger_than_text)">Non-matching font sizes (Emojis much larger than text)</span>
</h3>
<p>This is caused by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fontconfig">fontconfig</a></span> not rescaling bitmap fonts. This is usually only noticed with certain emoji fonts (e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=noto-fonts-emoji">noto-fonts-emoji</a></span>)
</p>
<p>To solve, simply run:
</p>
<pre># ln -s /etc/fonts/conf.avail/10-scale-bitmap-fonts.conf /etc/fonts/conf.d/
</pre>
<p>and restart Dunst.
</p>
<h3><span class="mw-headline" id="Notifications_from_some_applications_do_not_obey_timeout_rules">Notifications from some applications do not obey timeout rules</span></h3>
<p>The symptoms for this issue is having configured the timeouts for all urgency levels to be 30 seconds, but notifications from certain applications, such as Discord, Mattermost, and GitLab, disappearing very quickly (typically after only 3 seconds).
</p>
<p>You can find more details about this in upstream's <a rel="nofollow" class="external text" href="https://github.com/dunst-project/dunst/issues/276">issue #276</a>.
</p>
<p>This occurs because the notifications are being closed forcefully. To address this, a special parameter called <code>ignore_dbusclose</code> has been introduced. You can enable this parameter to disregard the <code>closeNotification</code> message sent via D-Bus. Enabling it ensures that the timeout defined in the dunst configuration is respected. By default, this parameter is set to false.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dunst&amp;oldid=783111">https://wiki.archlinux.org/index.php?title=Dunst&amp;oldid=783111</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 July 2023, at 05:40.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
