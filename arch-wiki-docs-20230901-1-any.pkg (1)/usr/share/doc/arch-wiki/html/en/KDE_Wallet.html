<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>KDE Wallet - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-KDE_Wallet rootpage-KDE_Wallet skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Unlock_KDE_Wallet_automatically_on_login" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Unlock_KDE_Wallet_automatically_on_login">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Unlock KDE Wallet automatically on login</div>
			</a>
			
				<button aria-controls="toc-Unlock_KDE_Wallet_automatically_on_login-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Unlock KDE Wallet automatically on login subsection
				</button>
			
			<ul id="toc-Unlock_KDE_Wallet_automatically_on_login-sublist" class="sidebar-toc-list">
				<li id="toc-Configure_PAM" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Configure_PAM">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Configure PAM</div>
			</a>
			
			<ul id="toc-Configure_PAM-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Using_the_KDE_Wallet_to_store_ssh_key_passphrases" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Using_the_KDE_Wallet_to_store_ssh_key_passphrases">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Using the KDE Wallet to store ssh key passphrases</div>
			</a>
			
			<ul id="toc-Using_the_KDE_Wallet_to_store_ssh_key_passphrases-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Using_the_KDE_Wallet_to_store_Git_credentials" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Using_the_KDE_Wallet_to_store_Git_credentials">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Using the KDE Wallet to store Git credentials</div>
			</a>
			
			<ul id="toc-Using_the_KDE_Wallet_to_store_Git_credentials-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-KDE_Wallet_for_Chrome_and_Chromium" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#KDE_Wallet_for_Chrome_and_Chromium">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>KDE Wallet for Chrome and Chromium</div>
			</a>
			
			<ul id="toc-KDE_Wallet_for_Chrome_and_Chromium-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Query_passwords_from_the_terminal" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Query_passwords_from_the_terminal">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Query passwords from the terminal</div>
			</a>
			
			<ul id="toc-Query_passwords_from_the_terminal-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Unlocking_KWallet_automatically_in_a_window_manager" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Unlocking_KWallet_automatically_in_a_window_manager">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Unlocking KWallet automatically in a window manager</div>
			</a>
			
			<ul id="toc-Unlocking_KWallet_automatically_in_a_window_manager-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Disable_KWallet" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Disable_KWallet">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7</span>Disable KWallet</div>
			</a>
			
			<ul id="toc-Disable_KWallet-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Automatic_D-Bus_activation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Automatic_D-Bus_activation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8</span>Automatic D-Bus activation</div>
			</a>
			
			<ul id="toc-Automatic_D-Bus_activation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-See_also" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#See_also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">9</span>See also</div>
			</a>
			
			<ul id="toc-See_also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/KDE_Wallet.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:KDE_Wallet.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/KDE_Wallet.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=KDE_Wallet&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=KDE_Wallet&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/KDE_Wallet.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=KDE_Wallet&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=KDE_Wallet&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="https://utils.kde.org/projects/kwalletmanager/">KDE Wallet Manager</a> is a tool to manage passwords on the <a href="../en/KDE.html" title="KDE">KDE</a> Plasma system. By using the KWallet subsystem it not only allows you to keep your own secrets but also to access and manage the passwords of every application that integrates with KWallet.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Since KDE Frameworks 5.97.0 KDE Wallet supports org.freedesktop.secrets DBus API and can now be used by libsecret for storing and retrieving passwords and other secrets using the Secret Service API.
</div>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Unlock_KDE_Wallet_automatically_on_login">Unlock KDE Wallet automatically on login</span></h2>
<p>To unlock KDE Wallet automatically on login, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kwallet-pam">kwallet-pam</a></span> for the <a href="../en/PAM.html" title="PAM">PAM</a> compatible module. The chosen KWallet password must be the same as the current <a href="../en/Users_and_groups.html" class="mw-redirect" title="User">user</a> password.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kwallet-pam">kwallet-pam</a></span> is not compatible with <a href="../en/GnuPG.html" title="GnuPG">GnuPG</a> keys, the KDE Wallet must use the standard <code>blowfish</code> encryption.</li>
<li>When using autologin, the wallet can only be unlocked if the autologin method saves the password. <a href="../en/Pam_autologin.html" title="Pam autologin">pam_autologin</a> does, for example.</li>
<li>The wallet cannot be unlocked when using a fingerprint reader to login</li>
<li>The wallet must be named <code>kdewallet</code> (default name). It does not unlock any other wallet(s).</li>
<li>If using <a href="../en/KDE.html" title="KDE">KDE</a>, one may want to disable <i>Close when last application stops using it</i> in KDE Wallet settings to prevent the wallet from being closed after each usage (<a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="WiFi">WiFi</a>-passphrase unlock, etc.).</li>
<li>It may be needed to remove the default created wallet first, thus removing all stored entries.</li>
<li>If the kwallet Migration Assistant asks for a password after every login, rename or delete the <code>~/.kde4/share/apps/kwallet</code> folder.</li>
</ul>
</div>
<p>Optionally <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kwalletmanager">kwalletmanager</a></span> for the wallet management tool. This tool can be used to create a KDE Wallet with <code>blowfish</code> encryption and more settings not provided by the <i>kcm-module</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> An alternative is to use KWalletManager and set an empty Kwallet-password, thus preventing the need of entering a password to unlock a wallet. Simply do not enter a password on both fields in <i>Change Password..</i>. This may however lead to unwanted (read/write) access to the user's wallet. Enabling <i>Prompt when an application accesses a wallet</i> under <i>Access Control</i> is highly recommended to prevent unwanted access to the wallet.</div>
<h3><span class="mw-headline" id="Configure_PAM">Configure PAM</span></h3>
<p>The following lines must be present under their corresponding sections:
</p>
<pre>auth            optional        pam_kwallet5.so
session         optional        pam_kwallet5.so auto_start</pre>
<p>Edit the <a href="../en/PAM.html" title="PAM">PAM</a> configuration corresponding to your situation:
</p>
<ul>
<li>For <a href="../en/SDDM.html" title="SDDM">SDDM</a> no further edits should be needed because the lines are already present in <code>/etc/pam.d/sddm</code>.</li>
<li>For <a href="../en/GDM.html" title="GDM">GDM</a> edit <code>/etc/pam.d/gdm-password</code> accordingly.</li>
<li>For <a href="../en/Greetd.html" title="Greetd">greetd</a> edit <code>/etc/pam.d/greetd</code> accordingly.</li>
<li>For <a href="../en/LightDM.html" title="LightDM">LightDM</a> edit <code>/etc/pam.d/lightdm</code> and <code>/etc/pam.d/lightdm-autologin</code> files:</li>
<li>For unlocking on tty login (no display manager), edit <code>/etc/pam.d/login</code> accordingly. You will need to specify the <b>force_run</b> parameter.</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/login</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">auth            optional        pam_kwallet5.so
session         optional        pam_kwallet5.so auto_start <b>force_run</b></pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/lightdm</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0
auth            include         system-login
<b>auth            optional        pam_kwallet5.so</b>

account         include         system-login

password        include         system-login

session         include         system-login
<b>session         optional        pam_kwallet5.so auto_start</b></pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/lightdm-autologin</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0
auth        required    pam_env.so
auth        required    pam_faillock.so preauth
auth        required    pam_shells.so
auth        required    pam_nologin.so
auth        [success=1 default=ignore]  pam_succeed_if.so user ingroup autologin
auth        required    pam_unix.so
auth        required    pam_permit.so
<b>auth        optional    pam_kwallet5.so</b>

account     include     system-local-login

password    include     system-local-login

session     include     system-local-login
<b>session     optional    pam_kwallet5.so auto_start</b></pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/greetd</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0

auth       required     pam_securetty.so
auth       requisite    pam_nologin.so
auth       include      system-local-login
<b>auth       optional     pam_kwallet5.so</b>
account    include      system-local-login
session    include      system-local-login
<b>session    optional     pam_kwallet5.so auto_start force_run</b></pre>
<h2><span class="mw-headline" id="Using_the_KDE_Wallet_to_store_ssh_key_passphrases">Using the KDE Wallet to store ssh key passphrases</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> An <a href="../en/SSH_keys.html#SSH_agents" class="mw-redirect" title="SSH agent">SSH agent</a> should be up and running.</div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ksshaskpass">ksshaskpass</a></span> package.
</p>
<p><a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Create">Create</a> an <a href="../en/KDE.html#Autostart" title="KDE">autostart .desktop file</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/autostart/ssh-add.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Exec=ssh-add -q
Name=ssh-add
Type=Application</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> By default, <span class="plainlinks archwiki-template-man" title="$ man 1 ssh-add"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ssh-add.1">ssh-add(1)</a></span> will only add the default key <code>~/.ssh/id_rsa</code>. Assuming you have different SSH keys named <code>key1</code>, <code>key2</code>, <code>key3</code> in <code>~/.ssh/</code>, you may add them automatically on login by passing them as arguments to <i>ssh-add</i>. E.g.:
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/autostart/ssh-add.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Exec=ssh-add -q .ssh/key1 .ssh/key2 .ssh/key3
Name=ssh-add
Type=Application</pre>
<p>To use <a href="../en/Command-line_shell.html" class="mw-redirect" title="Shell">shell</a> features like globbing, change the <code>Exec=</code> line to start the shell and execute the <i>ssh-add</i> command with it. For example, to add all private keys whose file names start with <code>id</code> to <i>ssh-add</i> using the extended globbing features of <a href="../en/Zsh.html" title="Zsh">Zsh</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/autostart/ssh-add.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Exec=zsh --extendedglob -c 'ssh-add -q ~/.ssh/id^*.pub &lt; /dev/null'
Name=ssh-add
Type=Application
X-KDE-AutostartScript=true</pre>
</div>
<p>You also have to set the <code>SSH_ASKPASS</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> to <code>ksshaskpass</code> and <code>SSH_ASKPASS_REQUIRE</code> to <code>prefer</code> (prefer to use the askpass program instead of the TTY). To set it automatically on each login, create the following <a rel="nofollow" class="external text" href="https://man.archlinux.org/man/environment.d.5">systemd environment file</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/environment.d/ssh_askpass.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SSH_ASKPASS='/usr/bin/ksshaskpass'
SSH_ASKPASS_REQUIRE=prefer</pre>
<p>It will ask for your password and unlock your SSH keys. Upon restart your SSH keys should be unlocked once you give your kwallet password. 
</p>
<p>To add a new key and store the password with kwallet use the following command
</p>
<pre>$ ssh-add <i>/path/to/new/key</i> &lt;/dev/null
</pre>
<p>and append the key to the list of keys in <code>~/.config/autostart/ssh-add.desktop</code> as explained above to have it unlocked upon providing the kwallet password.
</p>
<h2><span class="mw-headline" id="Using_the_KDE_Wallet_to_store_Git_credentials">Using the KDE Wallet to store Git credentials</span></h2>
<p><a href="../en/Git.html" title="Git">Git</a> can delegate credential handling to a credential helper. By using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ksshaskpass">ksshaskpass</a></span> as a credential helper, the HTTP/HTTPS and SMTP passwords can be safely stored in the KDE Wallet.
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ksshaskpass">ksshaskpass</a></span> package.
</p>
<p>Configure Git by setting the <code>GIT_ASKPASS</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/environment.d/git_askpass.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GIT_ASKPASS='/usr/bin/ksshaskpass'</pre>
<p><br>
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If the <code>SSH_ASKPASS</code> environment variable <a href="#Using_the_KDE_Wallet_to_store_ssh_key_passphrases">is set to ksshaskpass</a>, then additionally setting <code>GIT_ASKPASS</code> is not required.</div>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 7 gitcredentials"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gitcredentials.7">gitcredentials(7)</a></span> for alternatives and more details.
</p>
<h2><span class="mw-headline" id="KDE_Wallet_for_Chrome_and_Chromium">KDE Wallet for Chrome and Chromium</span></h2>
<p>Chrome/Chromium/Opera has built in wallet integration. To enable it, run Chromium with the <code>--password-store=kwallet5</code> or <code>--password-store=detect</code> argument. To make the change persistent, see <a href="../en/Chromium.html#Making_flags_persistent" title="Chromium">Chromium#Making flags persistent</a>. (Setting CHROMIUM_USER_FLAGS will not work.)
</p>
<h2><span class="mw-headline" id="Query_passwords_from_the_terminal">Query passwords from the terminal</span></h2>
<p>Instead of storing passwords in plain text files, you can manually add new entries in your wallet and retrieve them with <i>kwallet-query</i>.
</p>
<p>For example, if you want to log into the Docker Hub registry with Podman, which supports getting the passwords from stdin with the <code>--password-stdin</code> flag, you can use the following command to login:
</p>
<pre>$ kwallet-query -r folder_entry wallet_name -f folder_name | podman login docker.io -u dockerhub_username --password-stdin
</pre>
<p>This way, your password is not stored in any text file and neither is it stored in the terminal history file.
</p>
<h2><span class="mw-headline" id="Unlocking_KWallet_automatically_in_a_window_manager">Unlocking KWallet automatically in a window manager</span></h2>
<p>To unlock KWallet protected by the login password, it is necessary to add
</p>
<pre>exec --no-startup-id /usr/lib/pam_kwallet_init
</pre>
<p>to the configuration file of the window manager in addition to configuring <a href="../en/PAM.html" title="PAM">PAM</a>.
</p>
<h2><span class="mw-headline" id="Disable_KWallet">Disable KWallet</span></h2>
<p>In case you want to permanently disable kwallet:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/kwalletrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Wallet]
<b>Enabled=false</b></pre>
<h2><span class="mw-headline" id="Automatic_D-Bus_activation">Automatic D-Bus activation</span></h2>
<p>Most applications use <code>org.freedesktop.secrets.service</code> D-Bus service. KWallet does not provide a service file for it out of the box.
</p>
<p>You can achieve automatic activation by creating such service file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.local/share/dbus-1/services/org.freedesktop.secrets.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[D-BUS Service]
Name=org.freedesktop.secrets
Exec=/usr/bin/kwalletd5</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.dennogumi.org/2014/04/unlocking-kwallet-with-pam/">Unlocking KWallet with PAM</a></li>
<li><a rel="nofollow" class="external text" href="https://invent.kde.org/frameworks/kwallet/-/merge_requests/11">org.freedesktop.secrets DBus API initial support</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:KDE.html" title="Category:KDE">KDE</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=KDE_Wallet&amp;oldid=766461">https://wiki.archlinux.org/index.php?title=KDE_Wallet&amp;oldid=766461</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 4 February 2023, at 11:21.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
