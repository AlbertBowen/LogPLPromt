<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad X1 Carbon (Gen 7) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_X1_Carbon_Gen_7 rootpage-Lenovo_ThinkPad_X1_Carbon_Gen_7 skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Firmware" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Firmware">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Firmware</div>
			</a>
			
				<button aria-controls="toc-Firmware-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Firmware subsection
				</button>
			
			<ul id="toc-Firmware-sublist" class="sidebar-toc-list">
				<li id="toc-Updates" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Updates">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Updates</div>
			</a>
			
			<ul id="toc-Updates-sublist" class="sidebar-toc-list">
				<li id="toc-Automatic_(Linux_Vendor_Firmware_Service)" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Automatic_(Linux_Vendor_Firmware_Service)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1.1</span>Automatic (Linux Vendor Firmware Service)</div>
			</a>
			
			<ul id="toc-Automatic_(Linux_Vendor_Firmware_Service)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Manual_(fwupdmgr)" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Manual_(fwupdmgr)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1.2</span>Manual (fwupdmgr)</div>
			</a>
			
			<ul id="toc-Manual_(fwupdmgr)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Sleep/Suspend" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Sleep/Suspend">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>Sleep/Suspend</div>
			</a>
			
			<ul id="toc-Sleep/Suspend-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-S3_Suspend_Bug_with_Bluetooth_Devices" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#S3_Suspend_Bug_with_Bluetooth_Devices">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.3</span>S3 Suspend Bug with Bluetooth Devices</div>
			</a>
			
			<ul id="toc-S3_Suspend_Bug_with_Bluetooth_Devices-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS_configurations" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#BIOS_configurations">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.4</span>BIOS configurations</div>
			</a>
			
			<ul id="toc-BIOS_configurations-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Firmware_issues" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Firmware_issues">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.5</span>Firmware issues</div>
			</a>
			
			<ul id="toc-Firmware_issues-sublist" class="sidebar-toc-list">
				<li id="toc-Touchpad_issues" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Touchpad_issues">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.5.1</span>Touchpad issues</div>
			</a>
			
			<ul id="toc-Touchpad_issues-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Freeze_when_suspending" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Freeze_when_suspending">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.5.2</span>Freeze when suspending</div>
			</a>
			
			<ul id="toc-Freeze_when_suspending-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Power_management/Throttling_issues" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Power_management/Throttling_issues">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.5.3</span>Power management/Throttling issues</div>
			</a>
			
			<ul id="toc-Power_management/Throttling_issues-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Audio" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Audio">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Audio</div>
			</a>
			
				<button aria-controls="toc-Audio-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Audio subsection
				</button>
			
			<ul id="toc-Audio-sublist" class="sidebar-toc-list">
				<li id="toc-Clicking/cracking_noise_when_using_headphones" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Clicking/cracking_noise_when_using_headphones">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Clicking/cracking noise when using headphones</div>
			</a>
			
			<ul id="toc-Clicking/cracking_noise_when_using_headphones-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Clicking/cracking_noise_when_using_speakers" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Clicking/cracking_noise_when_using_speakers">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Clicking/cracking noise when using speakers</div>
			</a>
			
			<ul id="toc-Clicking/cracking_noise_when_using_speakers-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Microphone" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Microphone">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>Microphone</div>
			</a>
			
			<ul id="toc-Microphone-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Camera" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Camera">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Camera</div>
			</a>
			
				<button aria-controls="toc-Camera-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Camera subsection
				</button>
			
			<ul id="toc-Camera-sublist" class="sidebar-toc-list">
				<li id="toc-Secondary_IR" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Secondary_IR">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Secondary IR</div>
			</a>
			
			<ul id="toc-Secondary_IR-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Function_Keys" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Function_Keys">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Function Keys</div>
			</a>
			
			<ul id="toc-Function_Keys-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Fingerprint_sensor" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Fingerprint_sensor">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Fingerprint sensor</div>
			</a>
			
			<ul id="toc-Fingerprint_sensor-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Mobile_broadband" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Mobile_broadband">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Mobile broadband</div>
			</a>
			
			<ul id="toc-Mobile_broadband-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Disabling_red_LED_in_ThinkPad_logo" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Disabling_red_LED_in_ThinkPad_logo">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7</span>Disabling red LED in ThinkPad logo</div>
			</a>
			
			<ul id="toc-Disabling_red_LED_in_ThinkPad_logo-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-See_also" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#See_also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8</span>See also</div>
			</a>
			
			<ul id="toc-See_also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_7).html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Lenovo_ThinkPad_X1_Carbon_(Gen_7).html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_7).html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_7).html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>Video</td>
<td><code>8086:3ea0</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wireless</td>
<td><code>8086:9df0</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Ethernet</td>
<td><code>8086:15be</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Mobile broadband</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td><code>8086:9dc8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Touchpad</td>
<td><code>06cb:cd8b</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>TrackPoint</td>
<td><code>06cb:cd8b</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Camera</td>
<td><code>13d3:56ba</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint reader</td>
<td><code>06cb:00bd</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>8087:0aaa</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>NFC</td>
<td></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No
</td>
</tr>
</tbody>
</table>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> There are reports that enrolling custom Secure Boot keys may brick this machine because of firmware bugs.</div> 
<p>The most convenient way to install Arch Linux is by disabling "Secure Boot" <code>Security -&gt; Secure Boot - Set to "Disabled"</code>. However it is possible to self-sign your kernel and boot with it enabled. For further information have a look at the <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> article.
</p>
<p>In case your <code>efivars</code> are not properly set it is most likely due to you not being booted into <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a>. Should the problem persist be sure to consult the <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_variables" class="mw-redirect" title="UEFI">UEFI#UEFI variables</a> section.
</p>
<h3><span class="mw-headline" id="Updates">Updates</span></h3>
<h4>
<span id="Automatic_.28Linux_Vendor_Firmware_Service.29"></span><span class="mw-headline" id="Automatic_(Linux_Vendor_Firmware_Service)">Automatic (Linux Vendor Firmware Service)</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://blogs.gnome.org/hughsie/2018/08/06/please-welcome-lenovo-to-the-lvfs/">In August of 2018 Lenovo has joined</a> the <a rel="nofollow" class="external text" href="https://fwupd.org/">Linux Vendor Firmware Service (LVFS)</a> project, which enables firmware updates from within the OS.
BIOS updates (and possibly other firmware such as the Thunderbolt controller) can be queried for and installed through <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>.
</p>
<p>If your thunderbolt port is unstable after upgrading with fwupd, you can visit the <a rel="nofollow" class="external text" href="https://pcsupport.lenovo.com/us/en/products/laptops-and-netbooks/thinkpad-x-series-laptops/thinkpad-x1-carbon-7th-gen-type-20qd-20qe/downloads/driver-list">Lenovo ThinkPad X1 Carbon (Gen 7) driver website</a> and upgrade the thunderbolt firmware manually.
</p>
<h4>
<span id="Manual_.28fwupdmgr.29"></span><span class="mw-headline" id="Manual_(fwupdmgr)">Manual (fwupdmgr)</span>
</h4>
<p>Lenovo may in the future provide cabinet files that can be directly installed with fwupdmgr.
Check for Linux <code>.cab</code> files from the <a rel="nofollow" class="external text" href="https://pcsupport.lenovo.com/us/en/products/laptops-and-netbooks/thinkpad-x-series-laptops/thinkpad-x1-carbon-7th-gen-type-20qd-20qe/downloads">Lenovo ThinkPad X1 Carbon (Gen 7) driver website</a>.
</p>
<ol>
<li>Make sure the AC adapter is firmly connected to the target computer.</li>
<li>Launch Terminal.</li>
<li>Move to the directory where the cabinet file was placed.</li>
<li>Run <code>fwupdmgr install xxxxxxxx.cab</code> to schedule firmware update.</li>
<li>Restart the system.</li>
<li>The computer will be restarted and the UEFI BIOS will be updated.</li>
</ol>
<h3>
<span id="Sleep.2FSuspend"></span><span class="mw-headline" id="Sleep/Suspend">Sleep/Suspend</span>
</h3>
<p>The BIOS has two "Sleep State" options, Windows and Linux, which you can find in <code>Config -&gt; Power -&gt; Sleep State</code>. The Linux option is the traditional S3 power state where all hardware components are turned off except for the RAM, and it should work normally. The Windows option is a newer software-based "modern standby" which works on Linux (despite the name). One possible benefit to the Windows sleep state is faster wake up time, and one possible drawback is increased power usage.
</p>
<p>Mark Pearson, a Lenovo employee, <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Fedora/Fedora-32-Workstation-image-for-Thinkpad-P1G2/m-p/5042732?page=1#5156832">recommends using the "Windows" sleep state option</a> as it is better supported on modern Intel processors. The same is true for other modern Thinkpads <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/T14-AMD-battery-drain-in-standby-Linux/m-p/5037674?page=3#5189273">except for AMD models</a> (as of November 2020).
</p>
<h3><span class="mw-headline" id="S3_Suspend_Bug_with_Bluetooth_Devices">S3 Suspend Bug with Bluetooth Devices</span></h3>
<p>Occasionally your Thinkpad will wake up immediately after suspending with certain <a href="../en/Bluetooth.html" title="Bluetooth">bluetooth</a> devices added. To prevent this, remove the devices or disable <a href="../en/Bluetooth.html" title="Bluetooth">bluetooth</a> before suspending.
</p>
<h3><span class="mw-headline" id="BIOS_configurations">BIOS configurations</span></h3>
<p>In <i>Config &gt; Thunderbolt BIOS Assist Mode</i> set to <i>Enabled</i>. When disabled, power usage appears to be significantly higher because of a substantial number of CPU wakeups in s2idle.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You may need to disable Kernel DMA protection in <i>Security &gt; Virtualization &gt; Kernel DMA Protection</i> set to <i>Disabled</i>
</div>
<h3><span class="mw-headline" id="Firmware_issues">Firmware issues</span></h3>
<p>The following issues can all be resolved by upgrading the firmware with fwupdmgr (<i>see <a href="#Updates">#BIOS Updates</a></i>), but there may be alternative manual/temporary fixes.
</p>
<h4><span class="mw-headline" id="Touchpad_issues">Touchpad issues</span></h4>
<p>Due to a bug in a touchpad firmware, the touchpad might not work with following logs in <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a>:
</p>
<pre>[    4.499490] i2c_designware i2c_designware.1: i2c_dw_handle_tx_abort: lost arbitration
[...]
[   12.668795] i2c_hid i2c-SYNA8005:00: failed to set a report to device.
[   13.678765] i2c_designware i2c_designware.1: controller timed out
</pre>
<h4><span class="mw-headline" id="Freeze_when_suspending">Freeze when suspending</span></h4>
<p>There are reports of the system freezing after initiating a suspend or hibernate. A temporary fix is to add <code>snd_hda_intel.dmic_detect=0</code> to your kernel parameters. see <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/archlinux/comments/e5oe4p/systemctl_suspend_causes_freeze/fa8mzft/">[1]</a>. This temporary fix is somehow disable the microphone, use this at your own risk
</p>
<h4>
<span id="Power_management.2FThrottling_issues"></span><span class="mw-headline" id="Power_management/Throttling_issues">Power management/Throttling issues</span>
</h4>
<p>A <a rel="nofollow" class="external text" href="https://web.archive.org/web/20191114160718/https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/td-p/4028489/highlight/true">bug</a> causes the CPU to consume less power than under Windows and throttle at 80°C instead of 97°. 
</p>
<p>Lenovo has confirmed the issue, <a rel="nofollow" class="external text" href="https://web.archive.org/web/20191115170150/https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/m-p/4534535/highlight/true#M13642">explained the cause</a> and published <a rel="nofollow" class="external text" href="https://web.archive.org/web/20191114160928/https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/m-p/4535310/highlight/true#M13653">updates for the embedded controller and the BIOS</a> to LVFS .
</p>
<p>The alternative fix is to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=throttled">throttled</a></span>, then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>throttled.service</code>.
</p>
<h2><span class="mw-headline" id="Audio">Audio</span></h2>
<p>This laptop requires <a href="../en/Advanced_Linux_Sound_Architecture.html#ALSA_firmware" class="mw-redirect" title="ALSA firmware">ALSA firmware</a> to work.
</p>
<p>If you are still having issues, add the following: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklist.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist snd_hda_intel
blacklist snd_soc_skl
</pre>
<p>and <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">append</a> the following: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">load-module module-alsa-sink device=hw:0,0 channels=4
load-module module-alsa-source device=hw:0,7 channels=4</pre>
<p>Afterwards, reboot.
</p>
<h3>
<span id="Clicking.2Fcracking_noise_when_using_headphones"></span><span class="mw-headline" id="Clicking/cracking_noise_when_using_headphones">Clicking/cracking noise when using headphones</span>
</h3>
<p>If you are hearing clicking/cracking noises when using headphones, this command helped me. I have to run it after each restart.
</p>
<pre># hda-verb /dev/snd/hwC0D0 0x1d SET_PIN_WIDGET_CONTROL 0x0
</pre>
<h3>
<span id="Clicking.2Fcracking_noise_when_using_speakers"></span><span class="mw-headline" id="Clicking/cracking_noise_when_using_speakers">Clicking/cracking noise when using speakers</span>
</h3>
<p>The newest alsa-ucm-conf is missing the speakers configuration. Downgrade it to 1.2.3-2.
</p>
<pre># downgrade alsa-ucm-conf
</pre>
<h3><span class="mw-headline" id="Microphone">Microphone</span></h3>
<p>On version 5.3 and newer the SOF firmware can be enabled, see <a href="../en/Talk:Lenovo_ThinkPad_X1_Carbon_(Gen_7).html#Microphone" title="Talk:Lenovo ThinkPad X1 Carbon (Gen 7)">Talk#Microphone</a>.
</p>
<p>If you are having issues getting the microphone to be detected, see the troubleshooting section in <a href="#Audio">#Audio</a>.
</p>
<h2><span class="mw-headline" id="Camera">Camera</span></h2>
<h3><span class="mw-headline" id="Secondary_IR">Secondary IR</span></h3>
<p>Some models of this laptop include a second infrared (IR) <a href="../en/Webcam_setup.html" class="mw-redirect" title="Webcam">webcam</a> (originally to be used with Windows Hello) which is uncovered by the privacy slider. <code>v4l2-ctl --list-devices</code> will show all available video devices. The IR emitter can be manipulated using <a rel="nofollow" class="external text" href="https://github.com/PetePriority/chicony-ir-toggle">chicony-ir-toggle</a>.
</p>
<p>Facial authentication can be archived using <a href="../en/Howdy.html" title="Howdy">Howdy</a>.
</p>
<h2><span class="mw-headline" id="Function_Keys">Function Keys</span></h2>
<p>In the firmware configuration it is possible to swap the <code>Ctrl</code> and <code>Fn</code> keys.
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Key
</th>
<th>Visible?<sup>1</sup>
</th>
<th>Marked?<sup>2</sup>
</th>
<th>Effect
</th>
</tr>
<tr>
<td><code>Fn+Esc</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Toggles Fn lock
</td>
</tr>
<tr>
<td><code>Fn+F1</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioMute</code>
</td>
</tr>
<tr>
<td><code>Fn+F2</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioLowerVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F3</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioRaiseVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F4</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioMicMute</code>
</td>
</tr>
<tr>
<td><code>Fn+F5</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessDown</code>
</td>
</tr>
<tr>
<td><code>Fn+F6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessUp</code>
</td>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Display</code>
</td>
</tr>
<tr>
<td><code>Fn+F8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86WLAN</code>
</td>
</tr>
<tr>
<td><code>Fn+F9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Tools</code>
</td>
</tr>
<tr>
<td><code>Fn+F10</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Bluetooth</code>
</td>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>No Effect
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Favorites</code>
</td>
</tr>
</tbody>
</table>
<ol>
<li>The key is visible to <code>xev</code> and similar tools.</li>
<li>The physical key has a symbol on it, which describes its function.</li>
</ol>
<h2><span class="mw-headline" id="Fingerprint_sensor">Fingerprint sensor</span></h2>
<p>An official Lenovo firmware with Linux support is available from <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>. After installing fwupd, you can update the Synaptics Prometheus driver for the fingerprint sensor:
</p>
<pre># fwupdmgr refresh
# fwupdmgr get-updates
   Prometheus Fingerprint Reader Device Update:
   New version:       10.01.3158804
   New features and enhancements:   Support Linux system
# fwupdmgr update
</pre>
<p>To use the fingerprint sensor, follow the instructions from <a href="../en/Fprint.html" title="Fprint">Fprint</a>.
</p>
<p>If you had previously installed the testing version of this driver from lvfs-testing, there should be no issues updating to this driver version from the main repository.
</p>
<h2><span class="mw-headline" id="Mobile_broadband">Mobile broadband</span></h2>
<p>The Fibocom LTE module has Linux support once switched to USB mode; see <a rel="nofollow" class="external autonumber" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/How-To-Configure-X1-Carbon-Gen-7-on-Debian-FingerPrint-4G-Modem/td-p/4550327">[2]</a> and <a rel="nofollow" class="external autonumber" href="https://github.com/abrasive/xmm7360">[3]</a>
</p>
<h2><span class="mw-headline" id="Disabling_red_LED_in_ThinkPad_logo">Disabling red LED in ThinkPad logo</span></h2>
<p>You can temporarily disable the red LED in the ThinkPad logo on the cover:
</p>
<ol>
<li>Enable writing to the embedded controller registers by adding the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> <code>ec_sys.write_support=1</code>.</li>
<li>Disable the LED with this command:</li>
</ol>
<pre># echo -n -e "\x0a" | dd of="/sys/kernel/debug/ec/ec0/io" bs=1 seek=12 count=1 conv=notrunc 2&gt; /dev/null
</pre>
<p>This would need to be run after each suspend/reboot to be permanent.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external free" href="https://www.thinkwiki.org/wiki/ThinkWiki">https://www.thinkwiki.org/wiki/ThinkWiki</a></li>
<li>
<a rel="nofollow" class="external text" href="https://gist.github.com/greigdp/bb70fbc331a0aaf447c2d38eacb85b8f">Dell XPS 13 9370 quirks</a>: Some pointers on getting Watt usage down to ~2W, Intel video powersaving features might be interesting, see also the <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> page for interesting power-saving options.</li>
<li>
<a rel="nofollow" class="external text" href="https://01.org/blogs/rzhang/2015/best-practice-debug-linux-suspend/hibernate-issues">Intel Blog: Best practice to debug Linux* suspend/hibernate issues</a>, including the <a rel="nofollow" class="external text" href="https://github.com/01org/pm-graph">pm-graph</a> tool to analyze power usage during suspend</li>
<li>
<a rel="nofollow" class="external text" href="https://forums.linuxmint.com/viewtopic.php?t=91453">How to fix volume control (ALSA problem)</a> This is where the volume fix came from originally.</li>
<li><a rel="nofollow" class="external text" href="https://docs.microsoft.com/en-us/windows/win32/power/system-power-states">Windows System Power States</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/sleep-states.html">System Sleep States at kernel.org</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;oldid=777044">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;oldid=777044</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 5 May 2023, at 17:59.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
