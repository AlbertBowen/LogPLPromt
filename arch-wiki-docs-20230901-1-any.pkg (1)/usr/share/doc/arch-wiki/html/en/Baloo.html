<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Baloo - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Baloo rootpage-Baloo skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Usage_and_configuration" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Usage_and_configuration">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Usage and configuration</div>
			</a>
			
			<ul id="toc-Usage_and_configuration-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Command-line_usage" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Command-line_usage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Command-line usage</div>
			</a>
			
			<ul id="toc-Command-line_usage-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Indexing_a_removable_or_remote_device" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Indexing_a_removable_or_remote_device">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Indexing a removable or remote device</div>
			</a>
			
			<ul id="toc-Indexing_a_removable_or_remote_device-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Disabling_the_indexer" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Disabling_the_indexer">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Disabling the indexer</div>
			</a>
			
			<ul id="toc-Disabling_the_indexer-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Troubleshooting" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Troubleshooting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Troubleshooting</div>
			</a>
			
				<button aria-controls="toc-Troubleshooting-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Troubleshooting subsection
				</button>
			
			<ul id="toc-Troubleshooting-sublist" class="sidebar-toc-list">
				<li id="toc-Index_file_size_increases_after_each_boot_when_using_btrfs_subvolumes" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Index_file_size_increases_after_each_boot_when_using_btrfs_subvolumes">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6.1</span>Index file size increases after each boot when using btrfs subvolumes</div>
			</a>
			
			<ul id="toc-Index_file_size_increases_after_each_boot_when_using_btrfs_subvolumes-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Inotify_folder_watch_limit_error" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Inotify_folder_watch_limit_error">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6.2</span>Inotify folder watch limit error</div>
			</a>
			
			<ul id="toc-Inotify_folder_watch_limit_error-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Plasma_Vault_Files_are_indexed_and_available_even_when_vault_is_closed" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Plasma_Vault_Files_are_indexed_and_available_even_when_vault_is_closed">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6.3</span>Plasma Vault Files are indexed and available even when vault is closed</div>
			</a>
			
			<ul id="toc-Plasma_Vault_Files_are_indexed_and_available_even_when_vault_is_closed-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Baloo.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Baloo&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Baloo.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Baloo&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Baloo&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Baloo.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Baloo&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Baloo&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="https://community.kde.org/Baloo">Baloo</a> is a file indexing and searching framework for <a href="../en/KDE.html" title="KDE">KDE</a> Plasma.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=baloo">baloo</a></span> package.
</p>
<h2><span class="mw-headline" id="Usage_and_configuration">Usage and configuration</span></h2>
<p>In order to search using Baloo on the Plasma desktop, start <a href="../en/KRunner.html" title="KRunner">KRunner</a> (default keyboard shortcut <code>ALT+F2</code>) and type in your query. Within Dolphin press <code>Ctrl+f</code>.
</p>
<p>By default the Desktop Search KCM exposes only two options: A panel to blacklist folders and a way to disable it with one click. Alternatively you can edit your <code>~/.config/baloofilerc</code> file (<a rel="nofollow" class="external text" href="https://community.kde.org/Baloo/Configuration">info</a>). 
</p>
<p>Additionally the <code>balooctl</code> process can also be used to control Baloo, e.g. in order to stop/start Baloo use <code>balooctl suspend</code> or <code>balooctl start</code> to resume.
</p>
<p>Once you added additional folders to the blacklist or disabled Baloo entirely, a process named <code>baloo_file_cleaner</code> removes all unneeded index files automatically. These are stored under <code>~/.local/share/baloo/</code>.
</p>
<h2><span class="mw-headline" id="Command-line_usage">Command-line usage</span></h2>
<pre>$ baloosearch <i>query</i>
</pre>
<p>Support for range queries:
</p>
<pre>$ baloosearch "width&gt;=6000 width&lt;7000"
</pre>
<p>Groups and OR/AND operators:
</p>
<pre>$ baloosearch "tag:coolpicture OR (width&gt;=6000 width&lt;7000)"
</pre>
<p>For a list of all supported filter properties available, see (<a rel="nofollow" class="external text" href="https://api.kde.org/frameworks/baloo/html/searching.html">info</a>).
</p>
<p>Note that text search index breaks down all metadata (including filenames) into "words", and does all its searches over it from the beginning of the word only. What this means is that while <code>baloosearch "tutorial"</code> would match <code>my_great_tutorial.txt</code>, <code>baloosearch "utorial"</code> would not match it.
To see what "words" baloo stored in the index for a particular file do:
</p>
<pre>$ balooshow -x <i>filename</i>
</pre>
<h2><span class="mw-headline" id="Indexing_a_removable_or_remote_device">Indexing a removable or remote device</span></h2>
<p>By default every removable and remote device is blacklisted. It is possible to remove devices from the blacklist in the KCM panel.
</p>
<h2><span class="mw-headline" id="Disabling_the_indexer">Disabling the indexer</span></h2>
<p>To disable the Baloo file indexer:
</p>
<pre>$ balooctl suspend
$ balooctl disable
</pre>
<p>The indexer will be disabled on next login.
</p>
<p>Alternatively, disable <i>Enable File Search</i> in <i>System settings</i> under <i>Search &gt; File search</i>.
</p>
<p>To permanently delete the index database, run:
</p>
<pre>$ balooctl purge
</pre>
<p>This will also resolve the following error message in file dialogs and other applications (<a rel="nofollow" class="external text" href="https://bugs.kde.org/show_bug.cgi?id=437176">KDE bug 437176</a>):
</p>
<pre>kf.kio.core: "Could not enter folder tags:/."
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Index_file_size_increases_after_each_boot_when_using_btrfs_subvolumes">Index file size increases after each boot when using btrfs subvolumes</span></h3>
<p>See the bug on the <a rel="nofollow" class="external text" href="https://bugs.kde.org/show_bug.cgi?id=402154#c43">KDE bugtracker, comment 43</a>.
</p>
<h3><span class="mw-headline" id="Inotify_folder_watch_limit_error">Inotify folder watch limit error</span></h3>
<p>If you get the following error:
</p>
<pre>KDE Baloo Filewatch service reached the inotify folder watch limit. File changes may be ignored.
</pre>
<p>Then you will need to increase the inotify folder watch limit:
</p>
<pre># echo 524288 &gt; /proc/sys/fs/inotify/max_user_watches
</pre>
<p>To make changes permanent, create a <a href="../en/Sysctl.html" title="Sysctl">sysctl</a> configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/40-max-user-watches.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">fs.inotify.max_user_watches=524288</pre>
<h3><span class="mw-headline" id="Plasma_Vault_Files_are_indexed_and_available_even_when_vault_is_closed">Plasma Vault Files are indexed and available even when vault is closed</span></h3>
<p>This is a major security <a rel="nofollow" class="external text" href="https://bugs.kde.org/show_bug.cgi?id=390830">bug</a> not yet fixed. Any file inside vault is by default indexed and available through file manager search, Krunner and Kickoff.
</p>
<p>One workaround is to <b>stop</b> folder(s) from being indexed by Baloo. The relevant options are available in <i>System Settings &gt; Search &gt; File Search &gt; Folder specific configuration &gt; Add folder configuration &gt; Stop indexing a folder</i>. After adding the desired folder, the existing Baloo data  needs to be removed and freshly indexed again:
</p>
<pre>$ balooctl disable
$ balooctl purge
$ balooctl enable
$ balooctl check
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Search.html" title="Category:Search">Search</a></li>
<li><a href="../en/Category:KDE.html" title="Category:KDE">KDE</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Baloo&amp;oldid=738425">https://wiki.archlinux.org/index.php?title=Baloo&amp;oldid=738425</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 19 July 2022, at 11:08.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
