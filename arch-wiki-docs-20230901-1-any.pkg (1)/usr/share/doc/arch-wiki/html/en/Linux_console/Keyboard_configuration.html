<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Linux console/Keyboard configuration - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Linux_console_Keyboard_configuration rootpage-Linux_console skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Viewing_keyboard_settings" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Viewing_keyboard_settings">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Viewing keyboard settings</div>
			</a>
			
			<ul id="toc-Viewing_keyboard_settings-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Keymaps" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Keymaps">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Keymaps</div>
			</a>
			
				<button aria-controls="toc-Keymaps-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Keymaps subsection
				</button>
			
			<ul id="toc-Keymaps-sublist" class="sidebar-toc-list">
				<li id="toc-Listing_keymaps" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Listing_keymaps">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Listing keymaps</div>
			</a>
			
			<ul id="toc-Listing_keymaps-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Loadkeys" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Loadkeys">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Loadkeys</div>
			</a>
			
			<ul id="toc-Loadkeys-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Persistent_configuration" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Persistent_configuration">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>Persistent configuration</div>
			</a>
			
			<ul id="toc-Persistent_configuration-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Creating_a_custom_keymap" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Creating_a_custom_keymap">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.4</span>Creating a custom keymap</div>
			</a>
			
			<ul id="toc-Creating_a_custom_keymap-sublist" class="sidebar-toc-list">
				<li id="toc-Adding_directives" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Adding_directives">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.4.1</span>Adding directives</div>
			</a>
			
			<ul id="toc-Adding_directives-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Other_examples" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Other_examples">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.4.2</span>Other examples</div>
			</a>
			
			<ul id="toc-Other_examples-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Saving_changes" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Saving_changes">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.4.3</span>Saving changes</div>
			</a>
			
			<ul id="toc-Saving_changes-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Adjusting_typematic_delay_and_rate" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Adjusting_typematic_delay_and_rate">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Adjusting typematic delay and rate</div>
			</a>
			
				<button aria-controls="toc-Adjusting_typematic_delay_and_rate-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Adjusting typematic delay and rate subsection
				</button>
			
			<ul id="toc-Adjusting_typematic_delay_and_rate-sublist" class="sidebar-toc-list">
				<li id="toc-Systemd_service" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Systemd_service">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Systemd service</div>
			</a>
			
			<ul id="toc-Systemd_service-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../../en/Linux_console/Keyboard_configuration.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../../en/Talk:Linux_console/Keyboard_configuration.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../../en/Linux_console/Keyboard_configuration.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Linux_console/Keyboard_configuration&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Linux_console/Keyboard_configuration&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../../en/Linux_console/Keyboard_configuration.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Linux_console/Keyboard_configuration&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Linux_console/Keyboard_configuration&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../../en/Linux_console.html" title="Linux console">Linux console</a></span></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../../en/Xorg/Keyboard_configuration.html" title="Xorg/Keyboard configuration">Xorg/Keyboard configuration</a></li>
<li><a href="../../en/Keyboard_input.html" title="Keyboard input">Keyboard input</a></li>
<li><a href="../../en/Linux_console.html#Fonts" title="Linux console">Linux console#Fonts</a></li>
</ul>
</div>
<p>Keyboard mappings (keymaps), console fonts and console maps for the <a href="../../en/Linux_console.html" title="Linux console">Linux console</a> are provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kbd">kbd</a></span> package (a dependency of <a href="../../en/Systemd.html" title="Systemd">systemd</a>), which also provides many low-level tools for managing text console. In addition, <i>systemd</i> also provides the <i>localectl</i> tool, which can control both the system <a href="../../en/Locale.html" title="Locale">locale</a> and keyboard layout settings for both the console and Xorg.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Viewing_keyboard_settings">Viewing keyboard settings</span></h2>
<p>Use <code>localectl status</code> to view the current keyboard configurations.
</p>
<h2><span class="mw-headline" id="Keymaps">Keymaps</span></h2>
<p>The keymap files are stored in the <code>/usr/share/kbd/keymaps/</code> directory tree. Usually one keymap file corresponds to one keyboard layout (the <code>include</code> statement can be used to share common parts and a keymap file can contain multiple layouts with some key combination used for switching). For more details see <span class="plainlinks archwiki-template-man" title="$ man 5 keymaps"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/keymaps.5">keymaps(5)</a></span>.
</p>
<h3><span class="mw-headline" id="Listing_keymaps">Listing keymaps</span></h3>
<p>The naming conventions of console keymaps are somewhat arbitrary, but usually they are based on:
</p>
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/ISO_639-1" class="extiw" title="wikipedia:ISO 639-1">Language codes</a>: where the language code is the same as its country code (e.g. <code>de</code> for German, or <code>fr</code> for French).</li>
<li>
<a href="https://en.wikipedia.org/wiki/Country_code" class="extiw" title="wikipedia:Country code">Country codes</a>: where variations of the same language are used in different countries (e.g.<code>uk</code> for United Kingdom English, or <code>us</code> for United States English); a list of country codes can also be found in <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Officially_assigned_code_elements" class="extiw" title="wikipedia:ISO 3166-1">wikipedia:ISO 3166-1#Officially assigned code elements</a>.</li>
<li>
<a href="https://en.wikipedia.org/wiki/Keyboard_layout" class="extiw" title="wikipedia:Keyboard layout">Keyboard layouts</a>: where the layout is not related to a particular country or language (e.g. <code>dvorak</code> for the <a href="https://en.wikipedia.org/wiki/Dvorak_Simplified_Keyboard" class="extiw" title="wikipedia:Dvorak Simplified Keyboard">Dvorak keyboard layout</a>).</li>
</ul>
<p>For a list of all the available keymaps, use the command:
</p>
<pre>$ localectl list-keymaps
</pre>
<p>To search for a keymap, use the following command, replacing <code><i>search_term</i></code> with the code for your language, country, or layout:
</p>
<pre>$ localectl list-keymaps | grep -i <i>search_term</i>
</pre>
<p>Alternatively, using find:
</p>
<pre>$ find /usr/share/kbd/keymaps/ -type f -name "*<i>search_term</i>*"
</pre>
<h3><span class="mw-headline" id="Loadkeys">Loadkeys</span></h3>
<p>It is possible to set a keymap just for current session. This is useful for testing different keymaps, solving problems etc.
</p>
<p>The <i>loadkeys</i> tool is used for this purpose, it is used internally by <a href="../../en/Systemd.html" title="Systemd">systemd</a> when loading the keymap configured in <code>/etc/vconsole.conf</code>. It can be used very simply for this purpose:
</p>
<pre># loadkeys <i>keymap</i>
</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 loadkeys"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/loadkeys.1">loadkeys(1)</a></span> details.
</p>
<h3><span class="mw-headline" id="Persistent_configuration">Persistent configuration</span></h3>
<p>A persistent keymap can be set in <code>/etc/vconsole.conf</code>, which is read by <a href="../../en/Systemd.html" title="Systemd">systemd</a> on start-up. The <code>KEYMAP</code> variable is used for specifying the keymap. If the variable is empty or not set, the <code>us</code> keymap is used as default value. See <span class="plainlinks archwiki-template-man" title="$ man 5 vconsole.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vconsole.conf.5">vconsole.conf(5)</a></span> for all options. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/vconsole.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KEYMAP=<i>uk</i></pre>
<p>For convenience, <i>localectl</i> may be used to set console keymap. It will change the <code>KEYMAP</code> variable in <code>/etc/vconsole.conf</code> and also set the keymap for current session:
</p>
<pre># localectl set-keymap --no-convert <i>keymap</i>
</pre>
<p>The <code>--no-convert</code> option can be used to prevent <code>localectl</code> from automatically changing the <a href="../../en/Xorg/Keyboard_configuration.html" class="mw-redirect" title="Keyboard configuration in Xorg">Xorg keymap</a> to the nearest match. See <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span> for more information.
</p>
<p>If required, the keymap from <code>/etc/vconsole.conf</code> can be loaded during early userspace by the <code>keymap</code> <a href="../../en/Mkinitcpio.html#Common_hooks" title="Mkinitcpio">mkinitcpio hook</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>If you saved your custom keymap somewhere other than <code>/usr/share/kbd/keymaps/</code>, it must be specified by a full path to the file in <code>vconsole.conf</code> or when using the <i>localectl</i> command above.</li>
<li>The <code>XKB<i>*</i></code> variables in <code>/etc/vconsole.conf</code> are for <a href="../../en/Xorg/Keyboard_configuration.html" title="Xorg/Keyboard configuration">Xorg/Keyboard configuration</a>. <i>loadkeys</i> does not yet support using them; see <a rel="nofollow" class="external text" href="https://github.com/legionus/kbd/issues/72">kbd issue 72</a>. And neither does Xorg.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Creating_a_custom_keymap">Creating a custom keymap</span></h3>
<p>When using the console, you can use hotkeys to print a specific character. Moreover we can also print a sequence of characters and some escape sequences. Thus, if we print the sequence of characters constituting a command and afterwards an escape character for a new line, that command will be executed.
</p>
<p>One method of doing this is editing the keymap file. However, since it will be rewritten anytime the package it belongs to is updated, editing this file is discouraged. It is better to integrate the existing keymap with a personal keymap. The <code>loadkeys</code> utility can do this. 
</p>
<p>First, create a keymap file. This keymap file can be anywhere, but one method is to mimic the directory hierarchy in <code>/usr/local</code>: <a href="../../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Create">create</a> the <code>/usr/local/share/kbd/keymaps</code> directory, then <a href="../../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Textedit">edit</a> <code>/usr/local/share/kbd/keymaps/personal.map</code>. 
</p>
<p>As a side note, it is worth noting that such a personal keymap is useful also to redefine the behaviour of keys already treated by the default keymap: when loaded with <code>loadkeys</code>, the directives in the default keymap will be replaced when they conflict with the new directives and conserved otherwise. This way, only changes to the keymap must be specified in the personal keymap.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>You can also edit an existing keymap located in the <code>/usr/share/kbd/keymaps/</code> directory tree. Keymaps have an <i>.map.gz</i> extension, for example <code>us.map.gz</code> is an American keymap. Just copy the keymap to <code>/usr/local/share/kbd/keymaps/personal.map.gz</code> and <i>gunzip</i> it.</li>
<li>The custom keymap can be made persistent by setting it in <code>/etc/vconsole.conf</code>. Given this, if you use the <code>sd-vconsole</code> <a href="../../en/Mkinitcpio.html#Common_hooks" title="Mkinitcpio">mkinitcpio hook</a> instead of <code>keymap</code>, you could place your custom keymap file in <code>/usr/share/kbd/keymaps/</code>. This way its dependencies from <code>/usr/share/kbd/keymaps</code> will be automatically added to the initial ramdisk image by the hook. On the other hand, if you place your custom keymap file under <code>/usr/local/</code>, then its dependencies will need to be manually specified in the <code>FILES</code> array in <code>mkinitcpio.conf</code>.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Adding_directives">Adding directives</span></h4>
<p>Two kinds of directives are required in this personal keymap. First of all, the <a href="../../en/Extra_keyboard_keys.html" title="Extra keyboard keys">keycode</a> directives, which matches the format seen in the default keymaps. These directives associate a keycode with a keysym. Keysyms represent keyboard actions. The actions available include outputting character codes or character sequences, switching consoles or keymaps, booting the machine, and many other actions. The full currently active keymap can be obtained with
</p>
<pre># dumpkeys -l
</pre>
<p>Most keysyms are intuitive. For example, to set key 112 to output an 'e', the directive will be:
</p>
<pre>keycode 112  = e
</pre>
<p>To set key 112 to output a euro symbol, the directive will be:
</p>
<pre>keycode 112 = euro
</pre>
<p>Some keysym are not immediately connected to a keyboard actions. In particular, the keysyms prefixed by a capital F and one to three digits (F1-F246) constituting a number greater than 30 are always free. This is useful directing a hotkey to output a sequence of characters and other actions:
</p>
<pre>keycode 112 = F70
</pre>
<p>Then, F70 can be bound to output a specific string:
</p>
<pre>string F70 = "Hello"
</pre>
<p>When key 112 is pressed, it will output the contents of F70. In order to execute a printed command in a terminal, a newline escape character must be appended to the end of the command string. For example, to <a href="../../en/Power_management.html#Suspend_and_hibernate" title="Power management">enter a system into hibernation</a>, the following keymap is added:
</p>
<pre>string F70 = "sudo systemctl hibernate\n"
</pre>
<h4><span class="mw-headline" id="Other_examples">Other examples</span></h4>
<ul><li>To make the Right Alt key same as Left Alt key (for Emacs), use the following line in your keymap. It will include the file <code>/usr/share/kbd/keymaps/i386/include/linux-with-two-alt-keys.inc</code>, check it for details.</li></ul>
<pre>include "linux-with-two-alt-keys"
</pre>
<ul><li>To swap CapsLock with Escape (for Vim), remap the respective keycodes:</li></ul>
<pre>keycode 1 = Caps_Lock
keycode 58 = Escape
</pre>
<ul><li>To make CapsLock another Control key, remap the respective keycode:</li></ul>
<pre>keycode 58 = Control
</pre>
<ul><li>To swap CapsLock with Left Control key, remap the respective keycodes:</li></ul>
<pre>keycode 29 = Caps_Lock
keycode 58 = Control
</pre>
<h4><span class="mw-headline" id="Saving_changes">Saving changes</span></h4>
<p>In order to make use of the personal keymap, it must be loaded with <i>loadkeys</i>:
</p>
<pre># loadkeys /usr/local/share/kbd/keymaps/personal.map
</pre>
<p>However this keymap is only active for the current session. In order to load the keymap at boot, specify the full path to the file in the <code>KEYMAP</code> variable in <a href="#Persistent_configuration">/etc/vconsole.conf</a>. The file does not have to be gzipped as the official keymaps provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kbd">kbd</a></span>.
</p>
<h2><span class="mw-headline" id="Adjusting_typematic_delay_and_rate">Adjusting typematic delay and rate</span></h2>
<p>The <i>typematic delay</i> indicates the amount of time (typically in milliseconds) a key needs to be pressed and held in order for the repeating process to begin. After the repeating process has been triggered, the character will be repeated with a certain frequency (usually given in Hz) specified by the <i>typematic rate</i>. These values can be changed using the <i>kbdrate</i> command. Note that these settings are configured separately for the console and <a href="../../en/Xorg/Keyboard_configuration.html#Adjusting_typematic_delay_and_rate" title="Xorg/Keyboard configuration">for Xorg</a>.
</p>
<pre># kbdrate [-d <i>delay</i>] [-r <i>rate</i>]
</pre>
<p>For example to set a typematic delay to 200ms and a typematic rate to 30Hz, use the following command:
</p>
<pre># kbdrate -d 200 -r 30
</pre>
<p>Issuing the command without specifying the delay and rate will reset the typematic values to their respective defaults; a delay of 250ms and a rate of 11Hz:
</p>
<pre># kbdrate
</pre>
<h3><span class="mw-headline" id="Systemd_service">Systemd service</span></h3>
<p>A systemd service can be used to set the keyboard rate. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/kbdrate.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Keyboard repeat rate in tty.

[Service]
Type=oneshot
RemainAfterExit=yes
StandardInput=tty
StandardOutput=tty
ExecStart=/usr/bin/kbdrate --silent --delay 250 --rate 30
 
[Install]
WantedBy=multi-user.target
</pre>
<p>Then <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> the <code>kbdrate.service</code> systemd service.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../../en/Category:Linux_console.html" title="Category:Linux console">Linux console</a></li>
<li><a href="../../en/Category:Keyboard_configuration.html" title="Category:Keyboard configuration">Keyboard configuration</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Linux_console/Keyboard_configuration&amp;oldid=783566">https://wiki.archlinux.org/index.php?title=Linux_console/Keyboard_configuration&amp;oldid=783566</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 22 July 2023, at 14:41.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
