<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Stress testing - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Stress_testing rootpage-Stress_testing skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Stress_testing_tasks" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Stress_testing_tasks">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Stress testing tasks</div>
			</a>
			
				<button aria-controls="toc-Stress_testing_tasks-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Stress testing tasks subsection
				</button>
			
			<ul id="toc-Stress_testing_tasks-sublist" class="sidebar-toc-list">
				<li id="toc-Updating_patches_for_OpenWRT" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Updating_patches_for_OpenWRT">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Updating patches for OpenWRT</div>
			</a>
			
			<ul id="toc-Updating_patches_for_OpenWRT-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-stress" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#stress">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>stress</div>
			</a>
			
			<ul id="toc-stress-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-stress++" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#stress++">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.3</span>stress++</div>
			</a>
			
			<ul id="toc-stress++-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-MPrime" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#MPrime">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.4</span>MPrime</div>
			</a>
			
			<ul id="toc-MPrime-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Linpack" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Linpack">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.5</span>Linpack</div>
			</a>
			
			<ul id="toc-Linpack-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Systester" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Systester">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.6</span>Systester</div>
			</a>
			
			<ul id="toc-Systester-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Intel_Processor_Diagnostic_Tool" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Intel_Processor_Diagnostic_Tool">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.7</span>Intel Processor Diagnostic Tool</div>
			</a>
			
			<ul id="toc-Intel_Processor_Diagnostic_Tool-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-MemTest86+" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#MemTest86+">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.8</span>MemTest86+</div>
			</a>
			
			<ul id="toc-MemTest86+-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Writing_to_an_image_file" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Writing_to_an_image_file">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.9</span>Writing to an image file</div>
			</a>
			
			<ul id="toc-Writing_to_an_image_file-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-GCC" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#GCC">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.10</span>GCC</div>
			</a>
			
			<ul id="toc-GCC-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Video_encoding" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Video_encoding">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.11</span>Video encoding</div>
			</a>
			
			<ul id="toc-Video_encoding-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Discovering_errors" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Discovering_errors">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Discovering errors</div>
			</a>
			
			<ul id="toc-Discovering_errors-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Stress_testing.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Stress_testing.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Stress_testing.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Stress_testing&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Stress_testing&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Stress_testing.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Stress_testing&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Stress_testing&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/Benchmarking.html" title="Benchmarking">Benchmarking</a></li>
<li><a href="../en/List_of_applications/Utilities.html#System_monitors" class="mw-redirect" title="Sysstat">Sysstat</a></li>
</ul>
</div>
<p>Stress testing is the process of running various work loads on a computer to assess its stability. This is often used to reliably check the stability of overclocked/undervolted hardware and monitor the thermal behavior of the system (e.g. maximum temperatures, throttling, noise levels). There are several programs available to stress test various parts of the system such as CPU, GPU, RAM, and storage, using different types of work loads.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Stress_testing_tasks">Stress testing tasks</span></h2>
<p>The table below lists some stress testing software based on the kind of test and the overall intensity of the work load. It is important to stress test using mixed loads to verify stability under many use cases.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Before proceeding, it is <b>highly</b> recommended that users have some means to monitor the system temperatures. See <a href="../en/Lm_sensors.html" class="mw-redirect" title="Sensors">Sensors</a>.</div>
<table class="wikitable" align="center">

<tbody>
<tr>
<th>Work load</th>
<th>Tested hardware<sup>1</sup>
</th>
<th>Task</th>
<th>Description
</th>
</tr>
<tr>
<td rowspan="4" data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">Light<sup>2</sup>
</td>
</tr>
<tr>
<td>CPU, storage</td>
<td>Updating patches</td>
<td>Custom script Refreshing hundreds of kernel patches in the OpenWRT project. See <a href="#Updating_patches_for_OpenWRT">#Updating patches for OpenWRT</a>.
</td>
</tr>
<tr>
<td>CPU, storage</td>
<td>Writing a disk image</td>
<td>See <a href="#Writing_to_an_image_file">#Writing to an image file</a>.
</td>
</tr>
<tr>
<td>RAM</td>
<td>Memory stressing</td>
<td>See <a href="#MemTest86+">#MemTest86+</a>.
</td>
</tr>
<tr>
<td rowspan="5" data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Realistic<sup>3</sup>
</td>
</tr>
<tr>
<td>CPU, RAM, storage</td>
<td>Compilation</td>
<td>Parallel compilation is a good way to stress test the CPU. See <a href="#GCC">#GCC</a>.
</td>
</tr>
<tr>
<td>CPU, RAM</td>
<td>Video encoding</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ffmpeg">ffmpeg</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=x264">x264</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=handbrake-cli">handbrake-cli</a></span>, etc. can be used to encode video. See <a href="#Video_encoding">#Video encoding</a>.
</td>
</tr>
<tr>
<td>CPU, RAM</td>
<td>Cryptocurrencies mining</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmrig">xmrig</a></span> - <code>xmrig --stress</code> will use different cryptocurrency mining algorithms (based on CPU model) to generate the highest possible load. A good way to test stability and temperatures.
</td>
</tr>
<tr>
<td>GPU</td>
<td>3D rendering</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/unigine-heaven/">unigine-heaven</a></span><sup><small>AUR</small></sup> is a GPU benchmark that runs in a loop. It is a decent stress test for GPUs. See <a href="../en/Benchmarking.html#Graphics" title="Benchmarking">Benchmarking#Graphics</a>.
</td>
</tr>
<tr>
<td rowspan="5" data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Synthetic<sup>4</sup>
</td>
<td>CPU, RAM, storage</td>
<td>Synthetic stressing</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=stress">stress</a></span> is a simple CPU, memory, I/O, and disk workload generator implemented in C. See <a href="#stress">#stress</a>.
</td>
</tr>
<tr>
<td>CPU, RAM</td>
<td>Prime numbers calculation</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mprime-bin/">mprime-bin</a></span><sup><small>AUR</small></sup> factors large numbers and is an excellent way to stress CPU and memory. See <a href="#MPrime">#MPrime</a>.
</td>
</tr>
<tr>
<td>CPU</td>
<td>Algebra calculation</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linpack/">linpack</a></span><sup><small>AUR</small></sup> - Linpack makes use of the BLAS (Basic Linear Algebra Subprograms) libraries for performing basic vector and matrix operations and is an excellent way to stress CPUs for stability. See <a href="#Linpack">#Linpack</a>.
</td>
</tr>
<tr>
<td>CPU</td>
<td>Pi decimals calculation</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systester/">systester</a></span><sup><small>AUR</small></sup> Systester is a multithreaded piece of software capable of deriving values of pi out to 128,000,000 decimal places. It has built in check for system stability. See <a href="#Systester">#Systester</a>.
</td>
</tr>
<tr>
<td>RAM</td>
<td>Memory stressing</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/stressapptest/">stressapptest</a></span><sup><small>AUR</small></sup> is a memory interface test.
</td>
</tr>
</tbody>
</table>
<ul>
<li>
<sup>1</sup> The main target of the test, virtually all testing will also involve the CPU and RAM to some extent.</li>
<li>
<sup>2</sup> Light tests do not push the components very hard (in terms of power/heat limits). These tests are still useful to test how the hardware behaves in lower power levels (P states), in particular for undervolted systems.</li>
<li>
<sup>3</sup> Realistic tests are based on real world workloads.</li>
<li>
<sup>4</sup> Synthetic tests are explicitely designed to torture the hardware as much as possible and may not be representative of real world workloads.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To ensure the stability of a system, it is recommended to run such tests for a long period of time, from a few hours to a few days, in different temperature conditions. If the room temperature can for example vary significantly between winter and summer time, this is something to be considered.</div>
<h3><span class="mw-headline" id="Updating_patches_for_OpenWRT">Updating patches for OpenWRT</span></h3>
<p>A good stability test of a low load workload is to run though updating the patch sets in the OpenWRT project. Follow these steps.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Several dependencies including git and curl are needed, most others should be provided by the dependencies of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base-devel">base-devel</a></span> <a href="../en/Meta_package_and_package_group.html#Difference_between_meta_package_and_package_group" class="mw-redirect" title="Meta package">meta package</a>. To be safe, users can always install the metapackage <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/openwrt-devel/">openwrt-devel</a></span><sup><small>AUR</small></sup>.</div>
<pre>git clone --depth 1 git@github.com:openwrt/openwrt.git
cd openwrt
mkdir -p staging_dir/host/bin
cp /usr/bin/sed ./staging_dir/host/bin
curl -Os <a rel="nofollow" class="external free" href="https://raw.githubusercontent.com/KanjiMonster/maintainer-tools/master/update_kernel.sh">https://raw.githubusercontent.com/KanjiMonster/maintainer-tools/master/update_kernel.sh</a>
chmod +x update_kernel.sh
./update_kernel.sh -v -u 5.15
</pre>
<h3><span class="mw-headline" id="stress">stress</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=stress">stress</a></span> performs a loop that calculates the square root of a random number in order to stress the CPU. It can run simultaneously several workers to load all the cores of a CPU for example. It can also generate memory, I/O or disk workload depending on the parameters passed. The <a rel="nofollow" class="external text" href="https://web.archive.org/web/20190629131203/http://people.seas.harvard.edu/~apw/stress/FAQ">FAQ</a> provides examples and explanations.
</p>
<p>To spawn 4 workers working on calculating a square root, use the command:
</p>
<pre>$ stress --cpu 4
</pre>
<h3>
<span id="stress.2B.2B"></span><span class="mw-headline" id="stress++">stress++</span>
</h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/stress%2B%2B/">stress++</a></span><sup><small>AUR</small></sup> is a lightweight stress-testing program written by CodeLog that stimulates the processor by computing the <a href="https://en.wikipedia.org/wiki/Ackermann_function" class="extiw" title="wikipedia:Ackermann function">Ackermann function</a>.
</p>
<h3><span class="mw-headline" id="MPrime">MPrime</span></h3>
<p>MPrime (also known as Prime95 in its Windows and MacOS implementation) is recognised universally as one defacto measure of system stability. MPrime under torture test mode will perform a series of very CPU intensive calculations and compare the values it gets to known good values.
</p>
<p>The Linux implementation is called <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mprime/">mprime</a></span><sup><small>AUR</small></sup>.
</p>
<p>To run mprime, simply open a shell and type "mprime":
</p>
<pre>$ mprime
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If using <a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a>, sometimes users need to manually set the processor to run with its highest multiplier because mprime uses a nice value that does not always trip the step-up in multiplier.</div>
<p>When the software loads, simply answer 'N' to the first question to begin the torture testing:
</p>
<pre>Main Menu

1.  Test/Primenet
2.  Test/Worker threads
3.  Test/Status
4.  Test/Continue
5.  Test/Exit
6.  Advanced/Test
7.  Advanced/Time
8.  Advanced/P-1
9.  Advanced/ECM
10.  Advanced/Manual Communication
11.  Advanced/Unreserve Exponent
12.  Advanced/Quit Gimps
13.  Options/CPU
14.  Options/Preferences
15.  Options/Torture Test
16.  Options/Benchmark
17.  Help/About
18.  Help/About PrimeNet Server
</pre>
<p>There are several options for the torture test (menu option 15).
</p>
<ul>
<li>Small FFTs (option 1) to stress the CPU</li>
<li>In-place large FFTs (option 2) to test the CPU and memory controller</li>
<li>Blend (option 3) is the default and constitutes a hybrid mode which stresses the CPU and RAM.</li>
</ul>
<p>Errors will be reported should they occur both to stdout and to <code>~/results.txt</code> for review later. Many do not consider a system as 'stable' unless it can run the Large FFTs for a 24 hour period.
</p>
<p>Example <code>~/results.txt</code>; note that the two runs from 26-June indicate a hardware failure. In this case, due to insufficient vcore to the CPU:
</p>
<pre>[Sun Jun 26 20:10:35 2011]
FATAL ERROR: Rounding was 0.5, expected less than 0.4
Hardware failure detected, consult stress.txt file.
FATAL ERROR: Rounding was 0.5, expected less than 0.4
Hardware failure detected, consult stress.txt file.
[Sat Aug 20 10:50:45 2011]
Self-test 480K passed!
Self-test 480K passed!
[Sat Aug 20 11:06:02 2011]
Self-test 128K passed!
Self-test 128K passed!
[Sat Aug 20 11:22:10 2011]
Self-test 560K passed!
Self-test 560K passed!
...
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Users suspecting bad memory or memory controllers should try the blend test first as the small FFT test uses very little memory.</div>
<h3><span class="mw-headline" id="Linpack">Linpack</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linpack/">linpack</a></span><sup><small>AUR</small></sup> makes use of the BLAS (Basic Linear Algebra Subprograms) libraries for performing basic vector and matrix operations. It is an excellent way to stress CPUs for stability (only Intel CPUs are supported). After installation, users should copy <code>/usr/share/linpack/linpack.conf</code> to <code>~/.config/linpack.conf</code> and adjust it according to the amount of memory on the system.
</p>
<h3><span class="mw-headline" id="Systester">Systester</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/Systester/">Systester</a></span><sup><small>AUR</small></sup> (aka SuperPi for Windows) is available in both CLI and GUI version. It tests system stability by calculating up to 128 millions of Pi digits and includes error checking. Note that one can select from two different calculation algorithms: Quadratic Convergence of Borwein and Gauss-Legendre. The latter being the same method that the popular SuperPi for Windows uses.
</p>
<p>A CLI example using 8 threads is given:
</p>
<pre>$ systester-cli -gausslg 64M -threads 8
</pre>
<h3><span class="mw-headline" id="Intel_Processor_Diagnostic_Tool">Intel Processor Diagnostic Tool</span></h3>
<p>The <a rel="nofollow" class="external text" href="https://downloadcenter.intel.com/download/19792/Intel-Processor-Diagnostic-Tool-64-bit-">Intel Processor Diagnostic Tool</a> is a tool that verifies the functionality of an Intel Microprocessor by stress testing the CPU. A Fedora Linux LiveUSB ISO images are <a rel="nofollow" class="external text" href="https://web.archive.org/web/20181005045417/http://www.tcsscreening.com/files/users/IPDT_LiveUSB/LiveUSB/index.html">available</a>. The LiveUSB image allows you to stress test your machine without using your main operating system; such method might be useful in extreme cases especially when dealing with cold reboots/crashes.
</p>
<p>Burn the image to a USB stick by using <a href="../en/Dd.html" title="Dd">dd</a> or Gnome Disks and then boot the Live CD. Once booted, open the terminal and type the following command to install Intel Processor Diagnostic Tool for 64-bit machines:
</p>
<pre>$ install64
</pre>
<p>Once it is installed, you can run the Diagnostic Tool by clicking on the IPDT Icon that is located on the desktop.
</p>
<h3>
<span id="MemTest86.2B"></span><span class="mw-headline" id="MemTest86+">MemTest86+</span>
</h3>
<p>Use <a rel="nofollow" class="external text" href="https://www.memtest86.com/">MemTest86</a> (proprietary) or <a rel="nofollow" class="external text" href="https://www.memtest.org/">Memtest86+</a> (GPL) to test your memory (RAM). 
</p>
<ul>
<li>The GPL version is available on the <a rel="nofollow" class="external text" href="https://archlinux.org/download/">Arch Linux install image</a>. It can be installed:
<ul>
<li>for EFI systems with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=memtest86%2B-efi">memtest86+-efi</a></span>,</li>
<li>for BIOS systems with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=memtest86%2B">memtest86+</a></span>
</li>
</ul>
</li>
<li>The proprietary versions does not support BIOS. Install it as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/memtest86-efi/">memtest86-efi</a></span><sup><small>AUR</small></sup>.</li>
<li>After installation, its users can <a href="../en/GRUB.html#Generate_the_main_configuration_file" title="GRUB">update GRUB</a>: it will auto-detect the package and allow users to boot directly to it.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>A reliable source of the version history is the <a rel="nofollow" class="external text" href="https://www.memtest86.com/memtest86.html">History of MemTest86</a> section in memtest86.com, in particular the section "2002 - 2004" and following. Notice the proprietary MemTest86 from version 5 through 7 claims to support both BIOS and UEFI, but they simply bundle old and new versions.</li>
<li>Allowing tests to run for at least 10 cycles without errors is usually sufficient.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Writing_to_an_image_file">Writing to an image file</span></h3>
<p>A good stability test under a low load workload is using <code>dd</code> to format an image. This can be a physical disk or a loop mounted image. The script below uses mounted image and cycles through each core one-by-one. Note that you should adjust the variables in the top of script to match your system. By default the script will run the command just once per core. It can be easily customised to run on known-weak cores rather than scanning all core 0 through n by altering the for loop. Run the script as root.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">format-test.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

# define the path to store the image, recommended to be a tmpfs mounted location to avoid read/writes
img=/scratch/image.img

# define the mount point
mnt=/mnt/loop

# size of time arg to pass to truncate, make sure you select something less than the free memory on the system
# see truncate --help for available options
size=40G

# defaults to 1 less than the number of virtual cores, manually redefine if desired
max=$(($(nproc) - 1))

if [[ ! -f $img ]]; then
  truncate -s $size $img
  mkfs.ext4 $img
  [[ -d $mnt ]] || mkdir -p $mnt
  if ! mountpoint -q $mnt; then
    mount -o loop $img $mnt || exit 1
  fi
fi

for i in $(eval echo "{0..$max}"); do
  echo "using core $i of $max"
  taskset -c "$i" time dd if=/dev/zero of=$mnt/zerofill status=progress
done

umount $mnt
rm $img
</pre>
<h3><span class="mw-headline" id="GCC">GCC</span></h3>
<p>Parallel compilation using GCC (or other compilers) will generate a heavy load on the CPU and memory. To avoid I/O bottlenecking, compile on a SSD or in a <a href="../en/Tmpfs.html" title="Tmpfs">tmpfs</a>.
</p>
<p>A good example would be compiling the kernel: see <a href="../en/Kernel/Arch_build_system.html" title="Kernel/Arch build system">Kernel/Arch build system</a> for detailed instructions, run <code>makepkg -sf MAKEFLAGS="-j$(nproc)"</code> at <a href="../en/Kernel/Arch_build_system.html#Compiling" title="Kernel/Arch build system">Kernel/Arch build system#Compiling</a>.
</p>
<h3><span class="mw-headline" id="Video_encoding">Video encoding</span></h3>
<p>Most video encoders are highly parallel and are designed to use most of a CPU's capabilities. The example below will encode noise using x265, and discard the result. This will heavily load the CPU.
</p>
<pre>ffmpeg -y -f rawvideo -video_size 1920x1080 -pixel_format yuv420p -framerate 60 -i /dev/urandom -c:v libx265 -preset placebo -f matroska /dev/null
</pre>
<h2><span class="mw-headline" id="Discovering_errors">Discovering errors</span></h2>
<p>Some stressing applications like <a href="#MPrime">#MPrime</a> or <a href="#Linpack">#Linpack</a> have built in consistency checks to discover errors due to non-matching results. A more general and simple method for measuring hardware instabilities can be found in the kernel itself. To use it, simply filter the journal on a crash like so:
</p>
<pre># journalctl -k --grep=mce
</pre>
<p>Multicore chips can also give info as to which physical/logical core gave the error. This can be important if users are optimizing settings on a per-core basis.
</p>
<p>The kernel can throw these errors while the stressing application is running, before it ends the calculation and reports the error, thus providing a very sensitive method to assess stability. Consider the following from a Ryzen 5900X:
</p>
<pre>mce: [Hardware Error]: Machine check events logged
mce: [Hardware Error]: CPU 21: Machine Check: 0 Bank 5: baa0000000030150
mce: [Hardware Error]: TSC 0 MISC d012000100000000 SYND 4d000002 IPID 500b000000000
mce: [Hardware Error]: PROCESSOR 2:a20f10 TIME 1625265814 SOCKET 0 APIC 4 microcode a201016
</pre>
<p>This chip as 12 physical cores. In this case, CPU 21 can be traced back to physical core 10. Use <i>lstopo</i> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hwloc">hwloc</a></span> to print the hardware topology.
</p>
<pre>Core 0 = CPU 0 + CPU 1
Core 1 = CPU 2 + CPU 3
Core 2 = CPU 4 + CPU 5
Core 3 = CPU 6 + CPU 7
Core 4 = CPU 8 + CPU 9
Core 5 = CPU 10 + CPU 11
Core 6 = CPU 12 + CPU 13
Core 7 = CPU 14 + CPU 15
Core 8 = CPU 16 + CPU 17
Core 9 = CPU 18 + CPU 19
<b>Core 10 = CPU 20 + CPU 21</b>
Core 11 = CPU 22 + CPU 23
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Numbering can vary based on different CPU model and vendor, but in general both Cores and CPUs start at 0, not 1.</div>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:CPU.html" title="Category:CPU">CPU</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Stress_testing&amp;oldid=785101">https://wiki.archlinux.org/index.php?title=Stress_testing&amp;oldid=785101</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 11 August 2023, at 06:18.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
