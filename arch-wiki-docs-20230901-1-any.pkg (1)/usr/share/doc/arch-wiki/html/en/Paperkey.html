<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Paperkey - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Paperkey rootpage-Paperkey skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Usage" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Usage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Usage</div>
			</a>
			
				<button aria-controls="toc-Usage-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Usage subsection
				</button>
			
			<ul id="toc-Usage-sublist" class="sidebar-toc-list">
				<li id="toc-Backup" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Backup">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Backup</div>
			</a>
			
			<ul id="toc-Backup-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Restore_secret_key" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Restore_secret_key">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Restore secret key</div>
			</a>
			
			<ul id="toc-Restore_secret_key-sublist" class="sidebar-toc-list">
				<li id="toc-Error:_unable_to_parse_OpenPGP_packets_(is_this_armored_data?)" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Error:_unable_to_parse_OpenPGP_packets_(is_this_armored_data?)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2.1</span>Error: unable to parse OpenPGP packets (is this armored data?)</div>
			</a>
			
			<ul id="toc-Error:_unable_to_parse_OpenPGP_packets_(is_this_armored_data?)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Tips_and_tricks" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Tips_and_tricks">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Tips and tricks</div>
			</a>
			
				<button aria-controls="toc-Tips_and_tricks-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Tips and tricks subsection
				</button>
			
			<ul id="toc-Tips_and_tricks-sublist" class="sidebar-toc-list">
				<li id="toc-Print_secret_key_directly" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Print_secret_key_directly">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Print secret key directly</div>
			</a>
			
			<ul id="toc-Print_secret_key_directly-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Encode_the_secret_key_as_QR_Code" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Encode_the_secret_key_as_QR_Code">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Encode the secret key as QR Code</div>
			</a>
			
			<ul id="toc-Encode_the_secret_key_as_QR_Code-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Restore_the_secret_key_from_QR_code" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Restore_the_secret_key_from_QR_code">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3</span>Restore the secret key from QR code</div>
			</a>
			
			<ul id="toc-Restore_the_secret_key_from_QR_code-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Paperkey.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Paperkey&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Paperkey.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Paperkey&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Paperkey&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Paperkey.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Paperkey&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Paperkey&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/GnuPG.html" title="GnuPG">GnuPG</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.jabberwocky.com/software/paperkey/">Paperkey</a> is a command line tool to export GnuPG keys on paper. It reduces the size of the exported key, by removing the public key parts from the private key. Paperkey also includes CRC-24 checksums in the key to allow the user to check whether their private key has been restored correctly.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=paperkey">paperkey</a></span> package.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<h3><span class="mw-headline" id="Backup">Backup</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong>  You need to have the public key available when restoring the paperkey backup! Since it is safe to have your public key available publicly, consider uploading it to a <a href="../en/GnuPG.html#Use_a_keyserver" title="GnuPG">keyserver</a>. </div>
<p>To create a backup of your GnuPG key, pipe the private key to paperkey:
</p>
<pre>$ gpg --export-secret-key <i>key-id</i> | paperkey --output <i>secret-key-paper</i>.asc
</pre>
<h3><span class="mw-headline" id="Restore_secret_key">Restore secret key</span></h3>
<p>To restore the secret key you need to have a file with the paperkey data and the public key. Then run the following command to import the private key to <code>~/.gnupg</code>:
</p>
<pre>$ paperkey --pubring <i>public-key</i>.gpg --secrets <i>secret-key-paper</i>.asc | gpg --import
</pre>
<p>Alternatively, restore the private key to a file:
</p>
<pre>$ paperkey --pubring <i>public-key</i>.gpg --secrets <i>secret-key-paper</i>.asc --output <i>secret-key</i>.gpg
</pre>
<h4>
<span id="Error:_unable_to_parse_OpenPGP_packets_.28is_this_armored_data.3F.29"></span><span class="mw-headline" id="Error:_unable_to_parse_OpenPGP_packets_(is_this_armored_data?)">Error: unable to parse OpenPGP packets (is this armored data?)</span>
</h4>
<p>If you receive this error while restoring your key, you need to dearmor your public key first:
</p>
<pre>$ gpg --dearmor <i>public-key</i>.asc
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Print_secret_key_directly">Print secret key directly</span></h3>
<p>If no <code>--output</code> argument is given, paperkey will print its output to <code>stdout</code>. It is possible to print the key directly without intermediate file, which might have security implications. To do so, install <a href="../en/CUPS.html" title="CUPS">CUPS</a>, and pipe to <code>lpr</code>:
</p>
<pre>$ gpg --export-secret-key <i>key-id</i> | paperkey | lpr
</pre>
<h3><span class="mw-headline" id="Encode_the_secret_key_as_QR_Code">Encode the secret key as QR Code</span></h3>
<p>By default, paperkey will output the secret key as human readable text. While this format guarantees the ability to read and restore the printed information, it is not very convenient. The <code>--output-type raw</code> option tells paperkey to output the raw secret key data instead. This enables the use of other encodings, including machine-readable ones such as the <a href="https://en.wikipedia.org/wiki/QR_code" class="extiw" title="wikipedia:QR code">QR code</a>.
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qrencode">qrencode</a></span> program can be used for this:
</p>
<pre>$ gpg --export-secret-key <i>key-id</i> | paperkey --output-type raw | qrencode --8bit --output <i>secret-key.qr.png</i>
</pre>
<p>It is possible to increase the <a rel="nofollow" class="external text" href="https://www.qrcode.com/en/about/error_correction.html">error correction level</a> to maximum with the <code>--level H</code> option. This provides a lost data restoration rate of about 30% at the cost of reduced <a rel="nofollow" class="external text" href="https://www.qrcode.com/en/about/version.html">capacity</a>. Should the secret key not fit in the QR code, the lower <code>Q</code> and <code>M</code> error correction levels are also available and give restoration rates of about 25% and 15% respectively. The default error correction level is <code>L</code> which allows restoration of about 7% of lost data.
</p>
<h3><span class="mw-headline" id="Restore_the_secret_key_from_QR_code">Restore the secret key from QR code</span></h3>
<p>With <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zbar">zbar</a></span> it is possible to restore the key using a <a href="../en/Webcam_setup.html" title="Webcam setup">camera</a>:
</p>
<pre>$ zbarcam -1 --raw -Sbinary | paperkey --pubring <i>public-key</i>.gpg | gpg --import
</pre>
<p>The same options can also be applied to <code>zbarimg</code>:
</p>
<pre>$ zbarimg -1 --raw -q -Sbinary <i>secret-key.qr.png</i> | paperkey --pubring <i>public-key</i>.gpg | gpg --import
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Running zbarimg with the <code>-q</code> option suppresses status text printing after the decoded data is printed. Without it, the data passed into paperkey could be contaminated.</div>
<p>If you are using a scanned image, you might have to blur it by
</p>
<pre>$ convert secret-key.qr.png -blur 0 secret-key-blurred.qr.png
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Encryption.html" title="Category:Encryption">Encryption</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Paperkey&amp;oldid=784308">https://wiki.archlinux.org/index.php?title=Paperkey&amp;oldid=784308</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 2 August 2023, at 10:27.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
