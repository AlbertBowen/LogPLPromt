<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Arch build system - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Arch_build_system rootpage-Arch_build_system skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Toolchain" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Toolchain">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Toolchain</div>
			</a>
			
				<button aria-controls="toc-Toolchain-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Toolchain subsection
				</button>
			
			<ul id="toc-Toolchain-sublist" class="sidebar-toc-list">
				<li id="toc-Repository_structure" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Repository_structure">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Repository structure</div>
			</a>
			
			<ul id="toc-Repository_structure-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Use_cases" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Use_cases">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Use cases</div>
			</a>
			
			<ul id="toc-Use_cases-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Usage" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Usage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Usage</div>
			</a>
			
				<button aria-controls="toc-Usage-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Usage subsection
				</button>
			
			<ul id="toc-Usage-sublist" class="sidebar-toc-list">
				<li id="toc-Retrieve_PKGBUILD_source" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Retrieve_PKGBUILD_source">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Retrieve PKGBUILD source</div>
			</a>
			
			<ul id="toc-Retrieve_PKGBUILD_source-sublist" class="sidebar-toc-list">
				<li id="toc-Using_the_pkgctl_tool" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Using_the_pkgctl_tool">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1.1</span>Using the pkgctl tool</div>
			</a>
			
			<ul id="toc-Using_the_pkgctl_tool-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Using_git_directly" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Using_git_directly">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1.2</span>Using git directly</div>
			</a>
			
			<ul id="toc-Using_git_directly-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Build_package" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Build_package">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Build package</div>
			</a>
			
			<ul id="toc-Build_package-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Tips_and_tricks" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Tips_and_tricks">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Tips and tricks</div>
			</a>
			
				<button aria-controls="toc-Tips_and_tricks-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Tips and tricks subsection
				</button>
			
			<ul id="toc-Tips_and_tricks-sublist" class="sidebar-toc-list">
				<li id="toc-Preserve_modified_packages" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Preserve_modified_packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Preserve modified packages</div>
			</a>
			
			<ul id="toc-Preserve_modified_packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Other_tools" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Other_tools">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Other tools</div>
			</a>
			
			<ul id="toc-Other_tools-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Arch_build_system.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Arch_build_system.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Arch_build_system.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Arch_build_system&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Arch_build_system&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Arch_build_system.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Arch_build_system&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Arch_build_system&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/Arch_package_guidelines.html" class="mw-redirect" title="Arch packaging standards">Arch packaging standards</a></li>
<li><a href="../en/Arch_User_Repository.html" title="Arch User Repository">Arch User Repository</a></li>
<li><a href="../en/Creating_packages.html" title="Creating packages">Creating packages</a></li>
<li><a href="../en/Kernel/Arch_build_system.html" title="Kernel/Arch build system">Kernel/Arch build system</a></li>
<li><a href="../en/Makepkg.html" title="Makepkg">makepkg</a></li>
<li><a href="../en/Official_repositories.html" title="Official repositories">Official repositories</a></li>
<li><a href="../en/Pacman.html" title="Pacman">pacman</a></li>
<li><a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a></li>
<li><a href="../en/Patching_packages.html" title="Patching packages">Patching packages</a></li>
</ul>
</div>
<p>The Arch build system (ABS) is a <i>ports-like</i> system for building and packaging software from source code. While <a href="../en/Pacman.html" title="Pacman">pacman</a> is the specialized Arch tool for binary package management, the Arch build system is a collection of tools for compiling source into installable <i>.pkg.tar.zst</i> packages.
</p>
<p><i>Ports</i> is a system used by *BSD to automate the process of building software from source code. The system uses a <i>port</i> to download, unpack, patch, compile, and install the given software. A <i>port</i> is merely a small directory on the user's computer, named after the corresponding software to be installed, that contains a few files with the instructions for building and installing the software from source. This makes installing software as simple as typing <code>make</code> or <code>make install clean</code> within the port's directory.
</p>
<p>The Arch build system is based on a similar concept. It comprises a collection of git repositories for every package available in Arch Linux. Each repository contains a <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a> file (and sometimes other files), and does not contain the software source nor binary. By running <a href="../en/Makepkg.html" title="Makepkg">makepkg</a> inside a directory, the software sources are downloaded, the software is compiled, and then packaged within the build directory. Then you can use <a href="../en/Pacman.html" title="Pacman">pacman</a> to install the package.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Toolchain">Toolchain</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Add <i>pkgctl</i>/<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=devtools">devtools</a></span> to the list. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Arch_build_system">Talk:Arch build system</a>)</div>
</div>
<p>The Arch build system includes and relies on several components and tools that are used in the process of building packages from source:
</p>
<dl>
<dt>Repository</dt>
<dd>The directory structure containing files needed to build all official packages but not the packages themselves nor the source files of the software. It is available in the form of <a href="../en/Git.html" title="Git">Git</a> repositories hosted on <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages">gitlab.archlinux.org</a>. See the section <a href="#Repository_structure">#Repository structure</a> for more information.</dd>
</dl>
<dl>
<dt><a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a></dt>
<dd>A <a href="../en/Bash.html" title="Bash">Bash</a> script that contains the URL of the source code along with the compilation and packaging instructions.</dd>
</dl>
<dl>
<dt><a href="../en/Makepkg.html" title="Makepkg">makepkg</a></dt>
<dd>A shell command tool which reads the PKGBUILDs, automatically downloads and compiles the sources and creates a <i>.pkg.tar*</i> according to the <code>PKGEXT</code> array in <code>makepkg.conf</code>. You may also use makepkg to make your own custom packages from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> or third-party sources. See <a href="../en/Creating_packages.html" title="Creating packages">Creating packages</a> for more information.</dd>
</dl>
<dl>
<dt><a href="../en/Pacman.html" title="Pacman">pacman</a></dt>
<dd>pacman is completely separate, but is necessarily invoked, either by makepkg or manually, to install and remove the built packages and for fetching dependencies.</dd>
</dl>
<dl>
<dt><a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a></dt>
<dd>The Arch User Repository is separate from the official repository of PKGBUILDs, but packages from the AUR can be built using the same tools. It contains many thousands of user-contributed PKGBUILDs for software which is unavailable as an official Arch package. If you need to build a package outside the official Arch tree, chances are it is in the AUR.</dd>
</dl>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Official PKGBUILDs assume that packages are <a href="../DeveloperWiki:Building_in_a_clean_chroot.html" title="DeveloperWiki:Building in a clean chroot">built in a clean chroot</a>. Building software on a <i>dirty</i> build system may fail or cause unexpected behaviour at runtime, because if the build system detects dependencies dynamically, the result depends on what packages are available on the build system.</div>
<h3><span class="mw-headline" id="Repository_structure">Repository structure</span></h3>
<p>The <i>core</i>, <i>extra</i>, <i>core-testing</i>, and <i>extra-testing</i> <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a> are hosted on the <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/">Arch Linux GitLab instance</a>.
</p>
<p>Each package has its own repository in the <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages">archlinux/packaging/packages</a> namespace. Each repository contains the PKGBUILD and files used in official builds. Also some files which are used by the developers for the build process can be found there.
</p>
<p>For example, the tree for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acl">acl</a></span> looks like this:
</p>
<pre>acl
├── keys
│   └── pgp
│       ├── 259B3792B3D6D319212CC4DCD5BF9FEB0313653A.asc
│       ├── 600CD204FBCEA418BD2CA74F154343260542DF34.asc
│       └── B902B5271325F892AC251AD441633B9FE837F581.asc
└── PKGBUILD
</pre>
<p>The source code for the package is not present in the directory. Instead, the <code>PKGBUILD</code> contains a URL that will download the source code when the package is built.
</p>
<h2><span class="mw-headline" id="Use_cases">Use cases</span></h2>
<p>The Arch build system automates certain tasks related to compilation from source. Its use cases are:
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The main use case is obviously building official binary packages for Arch Linux by developers and packagers. User customizations and unofficial builds are secondary. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Arch_build_system">Talk:Arch build system</a>)</div>
</div>
<ul>
<li>Any use case that requires you to compile or recompile a package.</li>
<li>Make and install new packages from source of software for which no packages are yet available (see <a href="../en/Creating_packages.html" title="Creating packages">Creating packages</a>).</li>
<li>Customize existing packages to fit your needs (e.g. enabling or disabling options, patching).</li>
<li>Rebuild your entire system using your compiler flags, "à la FreeBSD".</li>
<li>Cleanly build and install your own custom kernel (see <a href="../en/Kernel.html#Compilation" class="mw-redirect" title="Kernels">Kernel compilation</a>).</li>
<li>Get kernel modules working with a custom kernel.</li>
<li>Easily compile and install a newer, older, beta, or development version of an Arch package by editing the version number in the PKGBUILD.</li>
</ul>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<h3><span class="mw-headline" id="Retrieve_PKGBUILD_source">Retrieve PKGBUILD source</span></h3>
<p>To retrieve the <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a> file required to build a certain package from source, you can either use the <i>pkgctl</i> tool or directly use <a href="../en/Git.html" title="Git">Git</a>. 
</p>
<h4><span class="mw-headline" id="Using_the_pkgctl_tool">Using the pkgctl tool</span></h4>
<p>As a precondition, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=devtools">devtools</a></span> package. <i>pkgctl</i> is a tool work with build source files for Arch Linux packages using Git.
</p>
<p>To clone the <a href="../en/Git.html" title="Git">git</a> repository with the latest build files using <i>pkgctl</i>, the following command is used:
</p>
<pre>$ pkgctl repo clone <i>pkgname</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> This clones over SSH by default so if you have not set an SSH key in your Arch GitLab account, you need to clone over HTTPS: <code>pkgctl repo clone --protocol=https <i>pkgname</i></code>.</div>
<p>Note that here, build source files refers to <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a>, possibly with some few other required files, such as keys. That is, the essential files the are required for Arch Linux build system. It does not refer to the source files of the package that were written by the team that authored the package, such as C or Python files. 
</p>
<p>This will give you not only the current source build files, but also their previous versions. Furthermore, you can use all other <a href="../en/Git.html" title="Git">git</a> commands to checkout an older version of the package or to track custom changes.
</p>
<p>If you want to get a specific version of a package you can use something like the following:
</p>
<pre>$ pkgctl repo clone --switch="2:1.19.5-1" go
</pre>
<p>Do read <span class="plainlinks archwiki-template-man" title="$ man 1 pkgctl-repo-clone"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pkgctl-repo-clone.1">pkgctl-repo-clone(1)</a></span> for more insight, and for the other commands available.
</p>
<h4><span class="mw-headline" id="Using_git_directly">Using git directly</span></h4>
<p>Use the following git command to clone a package:
</p>
<pre>$ git clone https://gitlab.archlinux.org/archlinux/packaging/packages/<i>pkgname</i>.git
</pre>
<p>For example, to copy the Apache build files:
</p>
<pre>$ git clone https://gitlab.archlinux.org/archlinux/packaging/packages/apache.git
</pre>
<h3><span class="mw-headline" id="Build_package">Build package</span></h3>
<p>Configure <i>makepkg</i> for building packages from the <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILDs</a> you have checked out, as explained in <a href="../en/Makepkg.html#Configuration" title="Makepkg">makepkg#Configuration</a>.
</p>
<p>Then, copy the directory containing the <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a> you wish to modify to a new location. Make the desired modifications there and use <i>makepkg</i> there as described in <a href="../en/Makepkg.html#Usage" title="Makepkg">makepkg#Usage</a> to create and install the new package.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Preserve_modified_packages">Preserve modified packages</span></h3>
<p>Updating the system with <a href="../en/Pacman.html" title="Pacman">pacman</a> will replace a modified package with the package of the same name from the official repositories. See the following instructions for how to avoid this.
</p>
<p>Insert a group array into the <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a>, and add the package to a group called <code>modified</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">PKGBUILD</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">groups=('modified')</pre>
<p>Add this group to the section <code>IgnoreGroup</code> in <code>/etc/pacman.conf</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">IgnoreGroup = modified</pre>
<p>If new versions are available in the official repositories during a system update, pacman prints a note that it is skipping this update because it is in the IgnoreGroup section. At this point, the modified package should be rebuilt to avoid partial upgrades.
</p>
<h2><span class="mw-headline" id="Other_tools">Other tools</span></h2>
<ul><li>
<a rel="nofollow" class="external text" href="https://xyne.dev/projects/pbget/">pbget</a> - retrieve PKGBUILDs for individual packages directly from the web interface. Includes AUR support.</li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:About_Arch.html" title="Category:About Arch">About Arch</a></li>
<li><a href="../en/Category:Package_development.html" title="Category:Package development">Package development</a></li>
<li><a href="../en/Category:Package_management.html" title="Category:Package management">Package management</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Arch_build_system&amp;oldid=785248">https://wiki.archlinux.org/index.php?title=Arch_build_system&amp;oldid=785248</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 August 2023, at 06:15.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
