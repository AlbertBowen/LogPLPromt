<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>FluidSynth - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-FluidSynth rootpage-FluidSynth skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Usage" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Usage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Usage</div>
			</a>
			
				<button aria-controls="toc-Usage-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Usage subsection
				</button>
			
			<ul id="toc-Usage-sublist" class="sidebar-toc-list">
				<li id="toc-Standalone_mode" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Standalone_mode">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Standalone mode</div>
			</a>
			
			<ul id="toc-Standalone_mode-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-ALSA_daemon_mode" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#ALSA_daemon_mode">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>ALSA daemon mode</div>
			</a>
			
			<ul id="toc-ALSA_daemon_mode-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-SDL_Mixer" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#SDL_Mixer">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>SDL_Mixer</div>
			</a>
			
			<ul id="toc-SDL_Mixer-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-How_to_convert_MIDI_to_MP3/OGG" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#How_to_convert_MIDI_to_MP3/OGG">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>How to convert MIDI to MP3/OGG</div>
			</a>
			
			<ul id="toc-How_to_convert_MIDI_to_MP3/OGG-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Troubleshooting" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Troubleshooting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Troubleshooting</div>
			</a>
			
				<button aria-controls="toc-Troubleshooting-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Troubleshooting subsection
				</button>
			
			<ul id="toc-Troubleshooting-sublist" class="sidebar-toc-list">
				<li id="toc-Conflicting_with_PulseAudio" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Conflicting_with_PulseAudio">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Conflicting with PulseAudio</div>
			</a>
			
			<ul id="toc-Conflicting_with_PulseAudio-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/FluidSynth.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:FluidSynth.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/FluidSynth.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=FluidSynth&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=FluidSynth&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/FluidSynth.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=FluidSynth&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=FluidSynth&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="https://www.fluidsynth.org/">FluidSynth</a> is a real-time software synthesizer based on the SoundFont 2 specifications. It is optionally used by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gst-plugins-bad">gst-plugins-bad</a></span>.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fluidsynth">fluidsynth</a></span> package.
</p>
<p>A <a href="https://en.wikipedia.org/wiki/SoundFont" class="extiw" title="wikipedia:SoundFont">SoundFont</a> is also needed. See <a href="../en/MIDI.html#List_of_SoundFonts" title="MIDI">MIDI#List of SoundFonts</a> for a list of SoundFonts.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>There are two ways to use FluidSynth. Either as <a href="../en/MIDI.html" title="MIDI">MIDI</a> player or as daemon adding MIDI support to <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a>.
</p>
<h3><span class="mw-headline" id="Standalone_mode">Standalone mode</span></h3>
<p>You can simply use fluidsynth to play MIDI files:
</p>
<pre>$ fluidsynth -a alsa -m alsa_seq -l -i /usr/share/soundfonts/FluidR3_GM.sf2 example.midi
</pre>
<p>assuming than you installed <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=soundfont-fluid">soundfont-fluid</a></span>.
</p>
<p>There are many other options to fluidsynth; see manpage or use -h to get help.
</p>
<p>One may wish to use pipewire or pulseaudio instead of alsa as the argument to the -a option.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The soundfont does not needed to be specified every time if a symbolic link created for the default soundfont, e.g. <pre>ln -s FluidR3_GM.sf2 /usr/share/soundfonts/default.sf2</pre>
</div>
<h3><span class="mw-headline" id="ALSA_daemon_mode">ALSA daemon mode</span></h3>
<p>If you want fluidsynth to run as ALSA daemon, edit <code>/etc/conf.d/fluidsynth</code> and add your soundfont along with any other changes you would like to make. For e.g., fluidr3:
</p>
<pre>SOUND_FONT=/usr/share/soundfonts/FluidR3_GM.sf2
OTHER_OPTS='-a alsa -m alsa_seq -r 48000'
</pre>
<p>After that, you can <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>fluidsynth.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You cannot use root to start the fluidsynth service, if you are using the pulseaudio driver. Pulseaudio will not allow root to connect, since the pulseaudio server is usually started by the user (and not root). Hence the service is provided as a <a href="../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>.</div>
<p>The following will give you an output software MIDI port (in addition of hardware MIDI ports on your system, if any):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ aconnect -o</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">client 128: 'FLUID Synth (5117)' [type=user]
   0 'Synth input port (5117:0)'</pre>
<p>An example of usage for this is aplaymidi:
</p>
<pre>$ aplaymidi -p128:0 example.midi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To achieve a low latency in a real-time setup, it is important to set the RATE/NUM/SIZE parameters described in the <a rel="nofollow" class="external text" href="https://github.com/FluidSynth/fluidsynth/wiki/LowLatency">FluidSynth wiki</a>. Common values of these parameters and additional tips are also listed at <a href="../en/Professional_audio.html#JACK_parameters" title="Professional audio">Professional audio#JACK parameters</a>.</div>
<h3><span class="mw-headline" id="SDL_Mixer">SDL_Mixer</span></h3>
<p>To use fluidsynth with programs that use SDL_Mixer, you need to specify the soundfont as:
</p>
<pre> $ SDL_SOUNDFONTS=/usr/share/soundfonts/FluidR3_GM.sf2 ./program
</pre>
<h2>
<span id="How_to_convert_MIDI_to_MP3.2FOGG"></span><span class="mw-headline" id="How_to_convert_MIDI_to_MP3/OGG">How to convert MIDI to MP3/OGG</span>
</h2>
<p>Requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=soundfont-fluid">soundfont-fluid</a></span> or any other soundfont of your choice. 
</p>
<p><code>/usr/share/soundfonts</code> is the default location of FluidR3_GM
</p>
<p>Simple command lines to convert midi to mp3:
</p>
<pre>$ fluidsynth -l -T raw -F - /usr/share/soundfonts/FluidR3_GM.sf2 example.mid | twolame -b 256 -r - example.mp3 
</pre>
<p>Requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=twolame">twolame</a></span>.
</p>
<p>Simple command lines to convert midi to ogg:
</p>
<pre>$ fluidsynth -nli -r 48000 -o synth.cpu-cores=2 -T oga -F example.ogg /usr/share/soundfonts/FluidR3_GM.sf2 example.MID
</pre>
<p>Here is a little script to convert multiple midi files to ogg in parallel:
</p>
<pre>#!/bin/bash
maxjobs=$(grep processor /proc/cpuinfo | wc -l)
midi2ogg() {
	name=$(echo $@ | sed -r s/[.][mM][iI][dD][iI]?$//g | sed s/^[.][/]//g)
	for arg; do 
	fluidsynth -nli -r 48000 -o synth.cpu-cores=$maxjobs -F "/dev/shm/$name.raw" /usr/share/soundfonts/FluidR3_GM.sf2 "$@"
	oggenc -r -B 16 -C 2 -R 48000 "/dev/shm/$name.raw" -o "$name.ogg"
	rm "/dev/shm/$name.raw"
	## Uncomment for replaygain tagging
	#vorbisgain -f "$name.ogg" 
	done
}
export -f midi2ogg
find . -regex '.*[.][mM][iI][dD][iI]?$' -print0 | xargs -0 -n 1 -P $maxjobs bash -c 'midi2ogg "$@"' --
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Conflicting_with_PulseAudio">Conflicting with PulseAudio</span></h3>
<p>If your <i>fluidsynth</i> application is set to use alsa as driver, the sound card will be accessed directly and pulseaudio and applications using pulseaudio will not be able to work properly. You can modify the  configuration file <code>/etc/conf.d/fluidsynth</code> and change the driver to PulseAudio, then restart <i>fluidsynth</i> and PulseAudio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/fluidsynth</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">OTHER_OPTS='-a pulseaudio -m alsa_seq -r 48000'</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Multimedia.html" title="Category:Multimedia">Multimedia</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=FluidSynth&amp;oldid=784312">https://wiki.archlinux.org/index.php?title=FluidSynth&amp;oldid=784312</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 2 August 2023, at 12:05.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
