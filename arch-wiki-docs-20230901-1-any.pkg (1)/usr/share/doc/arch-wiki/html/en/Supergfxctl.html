<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>supergfxctl - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Supergfxctl rootpage-Supergfxctl skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Pre-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Pre-Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Pre-Installation</div>
			</a>
			
				<button aria-controls="toc-Pre-Installation-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Pre-Installation subsection
				</button>
			
			<ul id="toc-Pre-Installation-sublist" class="sidebar-toc-list">
				<li id="toc-Initramfs_and_kernel_parameters" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Initramfs_and_kernel_parameters">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Initramfs and kernel parameters</div>
			</a>
			
			<ul id="toc-Initramfs_and_kernel_parameters-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Usage" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Usage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Usage</div>
			</a>
			
				<button aria-controls="toc-Usage-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Usage subsection
				</button>
			
			<ul id="toc-Usage-sublist" class="sidebar-toc-list">
				<li id="toc-Show_supported_modes" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Show_supported_modes">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Show supported modes</div>
			</a>
			
			<ul id="toc-Show_supported_modes-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Get_current_mode" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Get_current_mode">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Get current mode</div>
			</a>
			
			<ul id="toc-Get_current_mode-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Switch_modes" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Switch_modes">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3</span>Switch modes</div>
			</a>
			
			<ul id="toc-Switch_modes-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Using_supergfxctl_for_GPU_passthrough_(VFIO)" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Using_supergfxctl_for_GPU_passthrough_(VFIO)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Using supergfxctl for GPU passthrough (VFIO)</div>
			</a>
			
			<ul id="toc-Using_supergfxctl_for_GPU_passthrough_(VFIO)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Using_supergfxctl_and_the_MUX_switch" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Using_supergfxctl_and_the_MUX_switch">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Using supergfxctl and the MUX switch</div>
			</a>
			
			<ul id="toc-Using_supergfxctl_and_the_MUX_switch-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Graphical_utilities" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Graphical_utilities">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Graphical utilities</div>
			</a>
			
			<ul id="toc-Graphical_utilities-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Supergfxctl.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Supergfxctl&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Supergfxctl.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Supergfxctl&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Supergfxctl&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Supergfxctl.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Supergfxctl&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Supergfxctl&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This article needs expanding with instructions for non NVIDIA based hybrid laptops. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Supergfxctl">Talk:Supergfxctl</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/ASUS_Linux.html" title="ASUS Linux">ASUS Linux</a></li>
<li><a href="../en/Asusctl.html" title="Asusctl">asusctl</a></li>
</ul>
</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/supergfxctl/">supergfxctl</a></span><sup><small>AUR</small></sup> is a useful utility provided by <a href="../en/ASUS_Linux.html" title="ASUS Linux">ASUS Linux</a>. It helps with managing GPU switching functionality on hybrid laptops.
</p>
<p>While supergfxctl was originally designed with ASUS <a href="../en/NVIDIA_Optimus.html" class="mw-redirect" title="Optimus">Optimus</a> laptops in mind, it has since evolved into a standalone tool that functions with any laptops with <a href="../en/Hybrid_graphics.html" title="Hybrid graphics">hybrid graphics</a>.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Pre-Installation">Pre-Installation</span></h2>
<p>For Optimus laptops make sure that the <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> drivers are installed. Do not install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span>. Remove <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/optimus-manager/">optimus-manager</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bumblebee">bumblebee</a></span> if they are installed and make sure no residual configs for <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a>, <a href="../en/Intel_graphics.html" class="mw-redirect" title="Intel">Intel</a> and the PRIME managers are located in the following locations.
</p>
<pre>/etc/X11/xorg.conf.d/
/etc/modprobe.d/
/etc/udev/rules.d/
</pre>
<h3><span class="mw-headline" id="Initramfs_and_kernel_parameters">Initramfs and kernel parameters</span></h3>
<p><b>Do not</b> include <code>i915</code> or any of the NVIDIA modules in your early start up filesystem. Doing so can affect the discrete GPUs ability to properly power down.
</p>
<p>Edit <code>/etc/mkinitcpio.conf</code> and remove i915 and all NVIDIA modules from the modules section then <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a>.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Installation can be done through ASUS Linux's own <a href="../en/Unofficial_user_repositories.html#g14" title="Unofficial user repositories">repository</a>. You can also <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/supergfxctl/">supergfxctl</a></span><sup><small>AUR</small></sup> package. Then, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>supergfxd.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You only need to install this tool if you have a hybrid GPU laptop.</div>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Supergfxctl supports the following modes, <code>Integrated</code>, <code>Hybrid</code> and <code>VFIO</code>. It also has the ability to detect if a mux switch is in use for <code>Dedicated</code> mode.
</p>
<h3><span class="mw-headline" id="Show_supported_modes">Show supported modes</span></h3>
<p>The following command is used to display all the modes your laptop supports:
</p>
<pre>$ supergfxctl -s
</pre>
<h3><span class="mw-headline" id="Get_current_mode">Get current mode</span></h3>
<p>The following command is used to query the current GPU mode:
</p>
<pre>$ supergfxctl -g
</pre>
<h3><span class="mw-headline" id="Switch_modes">Switch modes</span></h3>
<p>The following command is used to switch the current GPU mode to <code>Hybrid</code>:
</p>
<pre>$ supergfxctl -m hybrid
</pre>
<h2>
<span id="Using_supergfxctl_for_GPU_passthrough_.28VFIO.29"></span><span class="mw-headline" id="Using_supergfxctl_for_GPU_passthrough_(VFIO)">Using supergfxctl for GPU passthrough (VFIO)</span>
</h2>
<p><a href="../en/PCI_passthrough_via_OVMF.html" title="PCI passthrough via OVMF">VFIO</a> GPU passthrough can be enabled by editing <code>/etc/supergfxd.conf</code>. In this configuration file, it is also recommended to change the <code>hotplug_type</code> value to <code>Asus</code>, instead of <code>None</code> as is documented <a rel="nofollow" class="external text" href="https://gitlab.com/asus-linux/supergfxctl">upstream</a>.
</p>
<pre>/etc/supergfxd.conf

{
"vfio_enable": true,
..
"hotplug_type": "Asus"
}
</pre>
<h2><span class="mw-headline" id="Using_supergfxctl_and_the_MUX_switch">Using supergfxctl and the MUX switch</span></h2>
<p>If your laptop comes with a multiplexer switch then utilizing the MUX switch will give lower latency and more performance in video games when it is used as compared to using <a href="../en/PRIME.html" title="PRIME">PRIME</a>.
</p>
<p>If the system is in Hybrid mode, <i>prime-run</i> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-prime">nvidia-prime</a></span> can be used to run programs on the discrete GPU. This does not break applications while the MUX switch is enabled, so it can be used wherever more graphics performance is needed. 
</p>
<p>Using the MUX switch requires that you are running <a href="../en/Asusctl.html" title="Asusctl">asusctl</a>, for details please see <a href="../en/Asusctl.html#Using_the_MUX_switch" title="Asusctl">asusctl#Using the MUX switch</a>.
</p>
<h2><span class="mw-headline" id="Graphical_utilities">Graphical utilities</span></h2>
<p>Users of <a href="../en/GNOME.html" title="GNOME">GNOME</a> &amp; <a href="../en/KDE.html" title="KDE">KDE</a> can make use of desktop environment add-ons to control <i>supergfxctl</i> from their desktop. The following is a list of these including links:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Name</th>
<th>Desktop</th>
<th>Link
</th>
</tr>
<tr>
<td>supergfxctl-gex</td>
<td>Gnome</td>
<td>
<a rel="nofollow" class="external free" href="https://extensions.gnome.org/extension/5344/supergfxctl-gex/">https://extensions.gnome.org/extension/5344/supergfxctl-gex/</a>
</td>
</tr>
<tr>
<td>plasma5-applets-supergfxctl</td>
<td>KDE Plasma</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/plasma5-applets-supergfxctl/">plasma5-applets-supergfxctl</a></span><sup><small>AUR</small></sup>
</td>
</tr>
<tr>
<td>rog-control-center</td>
<td>Any</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rog-control-center/">rog-control-center</a></span><sup><small>AUR</small></sup>
</td>
</tr>
</tbody>
</table>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:ASUS.html" title="Category:ASUS">ASUS</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Supergfxctl&amp;oldid=776111">https://wiki.archlinux.org/index.php?title=Supergfxctl&amp;oldid=776111</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 22 April 2023, at 19:52.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
