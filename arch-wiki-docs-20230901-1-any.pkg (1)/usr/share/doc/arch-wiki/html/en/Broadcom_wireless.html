<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Broadcom wireless - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Broadcom_wireless rootpage-Broadcom_wireless skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-History" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#History">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>History</div>
			</a>
			
			<ul id="toc-History-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Driver_selection" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Driver_selection">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Driver selection</div>
			</a>
			
			<ul id="toc-Driver_selection-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Installation</div>
			</a>
			
				<button aria-controls="toc-Installation-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Installation subsection
				</button>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
				<li id="toc-brcm80211" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#brcm80211">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>brcm80211</div>
			</a>
			
			<ul id="toc-brcm80211-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-b43" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#b43">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>b43</div>
			</a>
			
			<ul id="toc-b43-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-broadcom-wl" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#broadcom-wl">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3</span>broadcom-wl</div>
			</a>
			
			<ul id="toc-broadcom-wl-sublist" class="sidebar-toc-list">
				<li id="toc-Offline_installation" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Offline_installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3.1</span>Offline installation</div>
			</a>
			
			<ul id="toc-Offline_installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Manually" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Manually">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3.2</span>Manually</div>
			</a>
			
			<ul id="toc-Manually-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Known_issues" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Known_issues">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Known issues</div>
			</a>
			
				<button aria-controls="toc-Known_issues-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Known issues subsection
				</button>
			
			<ul id="toc-Known_issues-sublist" class="sidebar-toc-list">
				<li id="toc-Ethernet_card_is_not_detected" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Ethernet_card_is_not_detected">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Ethernet card is not detected</div>
			</a>
			
			<ul id="toc-Ethernet_card_is_not_detected-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Troubleshooting" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Troubleshooting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Troubleshooting</div>
			</a>
			
				<button aria-controls="toc-Troubleshooting-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Troubleshooting subsection
				</button>
			
			<ul id="toc-Troubleshooting-sublist" class="sidebar-toc-list">
				<li id="toc-Setting_broadcom-wl_in_monitor_mode" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Setting_broadcom-wl_in_monitor_mode">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1</span>Setting broadcom-wl in monitor mode</div>
			</a>
			
			<ul id="toc-Setting_broadcom-wl_in_monitor_mode-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Device_inaccessible_after_kernel_upgrade" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Device_inaccessible_after_kernel_upgrade">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.2</span>Device inaccessible after kernel upgrade</div>
			</a>
			
			<ul id="toc-Device_inaccessible_after_kernel_upgrade-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Device_with_broadcom-wl_driver_not_working/showing" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Device_with_broadcom-wl_driver_not_working/showing">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.3</span>Device with broadcom-wl driver not working/showing</div>
			</a>
			
			<ul id="toc-Device_with_broadcom-wl_driver_not_working/showing-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Interface_is_showing_but_not_allowing_connections" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Interface_is_showing_but_not_allowing_connections">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.4</span>Interface is showing but not allowing connections</div>
			</a>
			
			<ul id="toc-Interface_is_showing_but_not_allowing_connections-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Suppressing_console_messages" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Suppressing_console_messages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.5</span>Suppressing console messages</div>
			</a>
			
			<ul id="toc-Suppressing_console_messages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Device_BCM43241_not_detected" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Device_BCM43241_not_detected">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.6</span>Device BCM43241 not detected</div>
			</a>
			
			<ul id="toc-Device_BCM43241_not_detected-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Device_BCM43241_EFI_Vars" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Device_BCM43241_EFI_Vars">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.7</span>Device BCM43241 EFI Vars</div>
			</a>
			
			<ul id="toc-Device_BCM43241_EFI_Vars-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Connection_is_unstable_with_some_routers" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Connection_is_unstable_with_some_routers">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.8</span>Connection is unstable with some routers</div>
			</a>
			
			<ul id="toc-Connection_is_unstable_with_some_routers-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-No_5GHz_for_BCM4360_(14e4:43a0)_/_BCM43602_(14e4:43ba)_devices" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#No_5GHz_for_BCM4360_(14e4:43a0)_/_BCM43602_(14e4:43ba)_devices">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.9</span>No 5GHz for BCM4360 (14e4:43a0) / BCM43602 (14e4:43ba)  devices</div>
			</a>
			
			<ul id="toc-No_5GHz_for_BCM4360_(14e4:43a0)_/_BCM43602_(14e4:43ba)_devices-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Device_works_intermittently" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Device_works_intermittently">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.10</span>Device works intermittently</div>
			</a>
			
			<ul id="toc-Device_works_intermittently-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-SSH_freeze_for_BCM4331_with_b43" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#SSH_freeze_for_BCM4331_with_b43">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.11</span>SSH freeze for BCM4331 with b43</div>
			</a>
			
			<ul id="toc-SSH_freeze_for_BCM4331_with_b43-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Broadcom_wireless.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Broadcom_wireless.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Broadcom_wireless.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Broadcom_wireless&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Broadcom_wireless&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Broadcom_wireless.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Broadcom_wireless&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Broadcom_wireless&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Wireless">Wireless</a></li>
</ul>
</div>
<p>This article details how to install and setup a Broadcom wireless network device.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="History">History</span></h2>
<p>Broadcom has a noted history with its support for Wi-Fi devices regarding GNU/Linux. For a good portion of its initial history, Broadcom devices were either entirely unsupported or required the user to tinker with the firmware. The limited set of wireless devices that were supported were done so by a reverse-engineered driver. The reverse-engineered <code>b43</code> driver was introduced in the 2.6.24 kernel.
</p>
<p>In August 2008, Broadcom released the <a rel="nofollow" class="external text" href="https://www.broadcom.com/support/802.11/linux_sta.php">802.11 Linux STA driver</a> officially supporting Broadcom wireless devices on GNU/Linux. This is a restrictively licensed driver and it does not work with hidden ESSIDs, but Broadcom promised to work towards a more open approach in the future.
</p>
<p>In September 2010, Broadcom <a rel="nofollow" class="external text" href="https://lwn.net/Articles/404248/">released</a> a fully open source driver. The <a rel="nofollow" class="external text" href="https://wireless.wiki.kernel.org/en/users/drivers/brcm80211">brcm80211</a> driver was introduced in the 2.6.37 kernel and in the 2.6.39 kernel it was sub-divided into the <code>brcmsmac</code> and <code>brcmfmac</code> drivers.
</p>
<p>The types of available drivers are:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Driver</th>
<th>Description
</th>
</tr>
<tr>
<td>brcm80211</td>
<td>Kernel driver mainline version (recommended)
</td>
</tr>
<tr>
<td>b43</td>
<td>Kernel driver reverse-engineered version
</td>
</tr>
<tr>
<td>broadcom-wl</td>
<td>Broadcom driver with restricted license
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Driver_selection">Driver selection</span></h2>
<p>To know what driver(s) are operable on the computer's Broadcom wireless network device, the <a href="https://en.wikipedia.org/wiki/PCI_configuration_space" class="extiw" title="wikipedia:PCI configuration space">device ID</a> and chipset name will need to be detected. Cross-reference them with the driver list of supported <a rel="nofollow" class="external text" href="https://wireless.wiki.kernel.org/en/users/Drivers/brcm80211#supported_chips">brcm80211</a> and <a rel="nofollow" class="external text" href="https://wireless.wiki.kernel.org/en/users/Drivers/b43#list_of_hardware">b43</a> devices.
</p>
<pre>$ lspci -vnn -d 14e4:
</pre>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="brcm80211">brcm80211</span></h3>
<p>The kernel contains two built-in open-source drivers: <b>brcmfmac</b> for native FullMAC and <b>brcmsmac</b> for mac80211-based SoftMAC. They should be automatically loaded when booting.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<b>brcmfmac</b> supports newer chipsets, and supports AP mode, P2P mode, or hardware encryption.</li>
<li>
<b>brcmsmac</b> only supports old chipsets like BCM4313, BCM43224, BCM43225.</li>
</ul>
</div>
<p>Chips supported by the brcm80211 driver can be found in <a rel="nofollow" class="external autonumber" href="https://wireless.wiki.kernel.org/en/users/drivers/brcm80211">[1]</a>.
</p>
<h3><span class="mw-headline" id="b43">b43</span></h3>
<p>Two reverse-engineered open-source drivers are built-in to the kernel: <b>b43</b> and <b>b43legacy</b>. b43 supports most newer Broadcom chipsets, while the b43legacy driver only supports the early BCM4301 and BCM4306 rev.2 chipsets. To avoid erroneous detection of your WiFi cards chipset, <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklist">blacklist</a> the unused driver.
</p>
<p>Both of these drivers require non-free firmware to function. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware/">b43-firmware</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware-classic/">b43-firmware-classic</a></span><sup><small>AUR</small></sup>, or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43legacy-firmware/">b43legacy-firmware</a></span><sup><small>AUR</small></sup> depending on the chipset.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>If unsure which firmware package you need, check the output of <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a> and search for "b43". If you see a message like <code>Loading firmware <b>b43</b>/ucode4.fw</code>, you need either <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware/">b43-firmware</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware-classic/">b43-firmware-classic</a></span><sup><small>AUR</small></sup>. If you see a message like <code>Loading firmware <b>b43legacy</b>/ucode4.fw</code>, you need the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43legacy-firmware/">b43legacy-firmware</a></span><sup><small>AUR</small></sup> package.</li>
<li>BCM4306 rev.3, BCM4311, BCM4312 and BCM4318 rev.2 have been noticed to experience problems with <b>b43-firmware</b>. Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware-classic/">b43-firmware-classic</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43legacy-firmware/">b43legacy-firmware</a></span><sup><small>AUR</small></sup> for these cards instead.</li>
<li>BCM4331 noticed to have problems with <b>b43-firmware-classic</b>. Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware/">b43-firmware</a></span><sup><small>AUR</small></sup> for this card instead, or switch to the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl">broadcom-wl</a></span> mentioned below for a more stable experience.</li>
</ul>
</div>
<p>The <code>b43</code> should be loaded automatically, but you may need to explicitly <a href="../en/Kernel_module.html#Automatic_module_loading" class="mw-redirect" title="Load the module at boot">load the module at boot</a>.
</p>
<h3><span class="mw-headline" id="broadcom-wl">broadcom-wl</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Is it still necessary to mention the <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/commit/39bd71c25c1910f8c42705170af42fdd7d46fe3c">blacklist override</a>? (Discuss in <a href="../en/Talk:Broadcom_wireless.html#Installation:_broadcom-wl_is_in_the_official_repos_now" title="Talk:Broadcom wireless">Talk:Broadcom wireless#Installation: broadcom-wl is in the official repos now</a>)</div>
</div>
<p>There are two variants of the restrictively licensed driver:
</p>
<ul>
<li>the regular variant: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl">broadcom-wl</a></span>
</li>
<li>the <a href="../en/Dynamic_Kernel_Module_Support.html" class="mw-redirect" title="DKMS">DKMS</a> variant: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl-dkms">broadcom-wl-dkms</a></span>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The DKMS variant <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl-dkms">broadcom-wl-dkms</a></span> 
<ul>
<li>is kernel agnostic. This means it supports different kernels you may use (e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-ck/">linux-ck</a></span><sup><small>AUR</small></sup>).</li>
<li>is kernel-release agnostic, too. It will be automatically rebuilt after every kernel upgrade or fresh installation. If you use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl">broadcom-wl</a></span> or another kernel release dependant variant (e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/broadcom-wl-ck/">broadcom-wl-ck</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>), it may happen that kernel upgrades break wireless from time to time until the packages are in sync again.</li>
<li>will need the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-headers">linux-headers</a></span> package for the installed kernel(s) in order to build the module. Those packages are optional to the DKMS package and will need to be installed manually.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Offline_installation">Offline installation</span></h4>
<p>An Internet connection is the ideal way to install the <b>broadcom-wl</b> driver; many newer laptops with Broadcom cards forgo Ethernet ports, so a USB Ethernet adapter or <a href="../en/Android_tethering.html" title="Android tethering">Android tethering</a> may be helpful. If you have neither, you will need to first install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base-devel">base-devel</a></span> package during installation. Then, use another Internet-connected computer to download <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-headers">linux-headers</a></span> and the driver tarball from the AUR, and install them in that order.
</p>
<h4><span class="mw-headline" id="Manually">Manually</span></h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This method is not recommended. Drivers that are un-tracked can become problematic or nonfunctional on system updates.</div>
<p>Install the appropriate driver for your system architecture from the <a rel="nofollow" class="external text" href="https://www.broadcom.com/support/?gid=1">Broadcom website</a>. After this, to avoid driver/module collisions with similar modules and make the driver available, do:
</p>
<pre># rmmod b43
# rmmod ssb
# modprobe wl
</pre>
<p>The <i>wl</i> module should automatically load <i>lib80211</i> or <i>lib80211_crypt_tkip</i> otherwise they will have to be manually loaded.
</p>
<p>If the driver does not work at this point, you may need to update dependencies:
</p>
<pre># depmod -a
</pre>
<p>If needed, <a href="../en/Kernel_module.html#Automatic_module_loading" class="mw-redirect" title="Load the module at boot">load the module at boot</a>. It is recommended that you <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklist">blacklist</a> conflicting modules.
</p>
<h2><span class="mw-headline" id="Known_issues">Known issues</span></h2>
<h3><span class="mw-headline" id="Ethernet_card_is_not_detected">Ethernet card is not detected</span></h3>
<p>Broadcom wireless module has a history of conflicting with Broadcom Ethernet module.
</p>
<p>Due to conflicts between <code>wl</code> (wireless module) and <code>tg3</code> (Ethernet module), <code>tg3</code> is now blacklisted as of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl-dkms">broadcom-wl-dkms</a></span> 6.30.223.271-27<a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/packaging/packages/broadcom-wl-dkms/-/commit/02389ab5e4c8da6fb9c7d0d51a4a175a9b57a26a">[2]</a>.  See also <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/70476">FS#70476</a>.
</p>
<p>This also affects <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl">broadcom-wl</a></span> as it is built based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl-dkms">broadcom-wl-dkms</a></span>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Setting_broadcom-wl_in_monitor_mode">Setting broadcom-wl in monitor mode</span></h3>
<p>Monitor mode is used to capture 802.11 frames over the air. This can be useful for diagnosing issues on a network or testing the security of your wireless network. Often, monitor mode is required to capture certain frames for wireless penetration testing, but it may be unethical or even illegal to capture frames on any network you do not own, manage or have permission to perform penetration testing against.
</p>
<p>To set broadcom-wl in monitor mode you have to set 1 to <code>/proc/brcm_monitor0</code>:
</p>
<pre># echo 1 &gt; /proc/brcm_monitor0
</pre>
<p>It will create a new network interface called <code>prism0</code>.
</p>
<p>To work in monitor mode, use this newly created network interface.
</p>
<h3><span class="mw-headline" id="Device_inaccessible_after_kernel_upgrade">Device inaccessible after kernel upgrade</span></h3>
<p>Since the 3.3.1 kernel the <b>bcma</b> module was introduced. If using a <b>brcm80211</b> driver be sure it has not been <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Kernel modules">blacklisted</a>. It should be blackisted if using a <b>b43</b> driver.
</p>
<p>If you are using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl">broadcom-wl</a></span>, uninstall and reinstall it after upgrading your kernel or switch to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl-dkms">broadcom-wl-dkms</a></span> package.
</p>
<h3>
<span id="Device_with_broadcom-wl_driver_not_working.2Fshowing"></span><span class="mw-headline" id="Device_with_broadcom-wl_driver_not_working/showing">Device with broadcom-wl driver not working/showing</span>
</h3>
<p>Be sure the correct modules are blacklisted and occasionally it may be necessary to blacklist the <b>brcm80211</b> drivers if accidentally detected before the <b>wl</b> driver is loaded. Furthermore, update the modules dependencies <code>depmod -a</code>, verify the wireless interface with <code>ip addr</code>, kernel upgrades will require an upgrade of the non-<a href="../en/Dynamic_Kernel_Module_Support.html" class="mw-redirect" title="DKMS">DKMS</a> package.
</p>
<h3><span class="mw-headline" id="Interface_is_showing_but_not_allowing_connections">Interface is showing but not allowing connections</span></h3>
<p>Append the following <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>:
</p>
<pre>b43.allhwsupport=1
</pre>
<h3><span class="mw-headline" id="Suppressing_console_messages">Suppressing console messages</span></h3>
<p>You may continuously get some verbose and annoying messages during the boot, similar to
</p>
<pre>phy0: brcms_ops_bss_info_changed: arp filtering: enabled true, count 0 (implement)
phy0: brcms_ops_bss_info_changed: qos enabled: false (implement)
phy0: brcms_ops_bss_info_changed: arp filtering: enabled true, count 1 (implement)
enabled, active
</pre>
<p>To disable those messages, increase the loglevel of printk messages that get through to the console - see <a href="../en/Silent_boot.html#sysctl" title="Silent boot">Silent boot#sysctl</a>.
</p>
<h3><span class="mw-headline" id="Device_BCM43241_not_detected">Device BCM43241 not detected</span></h3>
<p>This device will not display with either <code>lspci</code> nor <code>lsusb</code>; there is no known solution yet.
</p>
<h3><span class="mw-headline" id="Device_BCM43241_EFI_Vars">Device BCM43241 EFI Vars</span></h3>
<p>As per <a rel="nofollow" class="external text" href="https://wireless.wiki.kernel.org/en/users/drivers/brcm80211">the driver page</a> it may be necessary to copy the efi vars before the driver will operate correctly. However the expected path depends on your system.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmesg | grep bcrm</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
Direct firmware load for bcrm/<i>your driver</i>.<i>your device</i> failed with error -2
</pre>
<p>Write the efi vars into the referenced location, e.g. on a thinkpad tablet:
</p>
<pre>$ cat /sys/firmware/efi/efivars/nvram-74b00bd9-805a-4d61-b51f-43268123d113 &gt; /lib/firmware/brcm/brcmfmac43241b5-sdio.LENOVO-20C1002PUK.txt
</pre>
<h3><span class="mw-headline" id="Connection_is_unstable_with_some_routers">Connection is unstable with some routers</span></h3>
<p>If no other approaches help, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>, or use a <a href="../en/Downgrading_packages.html" title="Downgrading packages">previous driver version</a>.
</p>
<h3>
<span id="No_5GHz_for_BCM4360_.2814e4:43a0.29_.2F_BCM43602_.2814e4:43ba.29_devices"></span><span class="mw-headline" id="No_5GHz_for_BCM4360_(14e4:43a0)_/_BCM43602_(14e4:43ba)_devices">No 5GHz for BCM4360 (14e4:43a0) / BCM43602 (14e4:43ba)  devices</span>
</h3>
<p>Issue appears to be linked to a <a rel="nofollow" class="external text" href="https://askubuntu.com/questions/749420/wireless-lost-ability-to-use-5ghz-pce-ac68">channel issue</a>. Changing the wireless channel to a lower channel number (like 40 or, if your router show MHz instead of channel numbers, like 5200 MHz or 5280 MHz) seems to allow connection to 5GHz bands.
If your router has the same SSID for the 2.4GHZ and 5GHZ, this can fix problems with your wireless connection being unstable or very slow.
</p>
<h3><span class="mw-headline" id="Device_works_intermittently">Device works intermittently</span></h3>
<p>In some cases (e.g. using BCM4331 and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware/">b43-firmware</a></span><sup><small>AUR</small></sup>), wifi connection works intermittently. One way to fix this is to check if the card is <i>hard-blocked</i> or <i>soft-blocked</i> by kernel, and if it is, unblock it with <a href="../en/Network_configuration/Wireless.html#Rfkill_caveat" class="mw-redirect" title="Rfkill">rfkill</a>.
</p>
<h3><span class="mw-headline" id="SSH_freeze_for_BCM4331_with_b43">SSH freeze for BCM4331 with b43</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/b43-firmware/">b43-firmware</a></span><sup><small>AUR</small></sup> driver has been observed hanging in ssh sessions with BCM4331. Installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl">broadcom-wl</a></span> and removing b43 solves it.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Wireless_networking.html" title="Category:Wireless networking">Wireless networking</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Broadcom_wireless&amp;oldid=783251">https://wiki.archlinux.org/index.php?title=Broadcom_wireless&amp;oldid=783251</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 July 2023, at 05:43.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
