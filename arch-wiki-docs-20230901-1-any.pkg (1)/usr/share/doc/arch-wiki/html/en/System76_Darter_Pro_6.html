<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>System76 Darter Pro 6 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-System76_Darter_Pro_6 rootpage-System76_Darter_Pro_6 skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Drivers" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Drivers">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Drivers</div>
			</a>
			
			<ul id="toc-Drivers-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Screen_Brightness" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Screen_Brightness">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Screen Brightness</div>
			</a>
			
			<ul id="toc-Screen_Brightness-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Keyboard_Backlight" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Keyboard_Backlight">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Keyboard Backlight</div>
			</a>
			
			<ul id="toc-Keyboard_Backlight-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Palm_Detection" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Palm_Detection">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Palm Detection</div>
			</a>
			
			<ul id="toc-Palm_Detection-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-X11" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#X11">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>X11</div>
			</a>
			
			<ul id="toc-X11-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Suspend/Resume" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Suspend/Resume">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Suspend/Resume</div>
			</a>
			
			<ul id="toc-Suspend/Resume-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-DisplayPort_and_HDMI_over_USB-C" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#DisplayPort_and_HDMI_over_USB-C">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7</span>DisplayPort and HDMI over USB-C</div>
			</a>
			
			<ul id="toc-DisplayPort_and_HDMI_over_USB-C-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/System76_Darter_Pro_6.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:System76_Darter_Pro_6&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/System76_Darter_Pro_6.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=System76_Darter_Pro_6&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=System76_Darter_Pro_6&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/System76_Darter_Pro_6.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=System76_Darter_Pro_6&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=System76_Darter_Pro_6&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Lacks hardware table and function keys section (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:System76_Darter_Pro_6">Talk:System76 Darter Pro 6</a>)</div>
</div>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Drivers">Drivers</span></h2>
<p>Driver support for the System76 Darter Pro 6 should be <a rel="nofollow" class="external text" href="https://old.reddit.com/r/System76/comments/ev4jry/archlinux_on_the_system76_darter_pro/fftl66v/">included the kernel as of Linux 5.5</a>. 
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=system76-firmware">system76-firmware</a></span> package provide firmware updating functionality such as <i>system76-firmware-cli</i>.
</p>
<h2><span class="mw-headline" id="Screen_Brightness">Screen Brightness</span></h2>
<p>Works out of the box with the <code>xorg-xbacklight</code> package.
</p>
<h2><span class="mw-headline" id="Keyboard_Backlight">Keyboard Backlight</span></h2>
<p>The keyboard backlight can be controlled programmatically via <code>/sys</code> entries. Specifically,
</p>
<pre># sh -c "echo 255 &gt; /sys/class/leds/system76_acpi::kbd_backlight/brightness"
</pre>
<p>will increase the brightness to its maximum, and
</p>
<pre># sh -c "echo FFA500 &gt; /sys/class/leds/system76_acpi::kbd_backlight/color"
</pre>
<p>will set the color of the backlight via a 6-digit RGB hex code.
</p>
<h2><span class="mw-headline" id="Palm_Detection">Palm Detection</span></h2>
<p>If the touchpad is not sensitive enough to detect your palm, then it is possible to reduce the palm pressure detection threshold using libinput's quirks. The first step is to <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/touchpad-pressure-debugging.html">follow the instructions for debugging touchpad pressure</a> (you will need the <code>python-pyudev</code> and <code>python-libevdev</code> packages installed). Once you run the program, you’ll be able to experiment with different ways to touch the touchpad and see which things are registered as clicks and which are registered as a palm.
</p>
<p>Once you have found the ideal palm pressure threshold, you can make it persistent by creating a libinput quirks file at <code>/etc/libinput/local-overrides.quirks</code>. For example, the following decreases the threshold to <code>70</code>:
</p>
<pre>[Touchpad pressure override]
MatchUdevType=touchpad
MatchName=*SynPS/2 Synaptics TouchPad
MatchDMIModalias=dmi:*svnSystem76*pvrdarp6*
AttrPalmPressureThreshold=70
</pre>
<p>To confirm it is working correctly, run
</p>
<pre>$ libinput quirks list /dev/input/eventXX
</pre>
<p>where <code>XX</code> is the number of the event device. (It should be shown in the output of the <code>libinput measure touchpad-pressure</code> command that you ran above.) The output should look something like this, with no errors:
</p>
<pre>ModelSynapticsSerialTouchpad=1
AttrPalmPressureThreshold=70
</pre>
<p>At this point, you can reboot and the setting should be applied persistently.
</p>
<h2><span class="mw-headline" id="X11">X11</span></h2>
<p>Install intel-media-driver for hardware accelerated graphics. Do NOT install xf86-video-intel, and libva-mesa-driver packages.
</p>
<h2>
<span id="Suspend.2FResume"></span><span class="mw-headline" id="Suspend/Resume">Suspend/Resume</span>
</h2>
<p>Occasionally, on Linux 5.4, it was found that the laptop would become unresponsive when resuming from sleep. After about 90 seconds, the laptop would unfreeze itself and resume normal operation. After profiling the kernel with <a rel="nofollow" class="external text" href="https://github.com/01org/suspendresume">suspendresume</a>, it was found that the culprit was the thunderbolt port. Namely, this error message was found in the output of <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a>:
</p>
<pre>[  803.725685] thunderbolt 0000:03:00.0: failed to send driver ready to ICM
</pre>
<p>One approach to fix this is to disable thunderbolt support on suspend and then re-enable it on resume. This can be done via a systemd hook script.
</p>
<p>Drop the following into <code>/usr/lib/systemd/system-sleep/system76-darter-hook-sleep</code> and make it executable:
</p>
<pre>#!/bin/sh

# This is a systemd hook script that is run whenever
# suspend/resume takes place. It should be symlinked into
# /usr/lib/systemd/system-sleep.

# $1 is 'pre' (going to sleep) or 'post' (waking up)
# $2 is 'suspend', 'hibernate' or 'hybrid-sleep'
case "$1/$2" in
  pre/*)
    if lsmod | grep -q thunderbolt; then
      rmmod thunderbolt
    fi
    ;;
  post/*)
    modprobe thunderbolt
    ;;
esac
</pre>
<p>Alternatively, System76 support <a rel="nofollow" class="external text" href="https://github.com/pop-os/system76-driver/blob/354d396bd7d37e591e5ed204b566c2d0c3f0dc3d/system76-thunderbolt-reload#L1">suggested disabling the corresponding PCI device on suspend and then reloading it on resume.</a> Adapting their <code>Pop!_OS</code> fix for Arch Linux, the above file might look like this instead:
</p>
<pre>#!/bin/sh

# This is a systemd hook script that is run whenever
# suspend/resume takes place. It should be symlinked into
# /usr/lib/systemd/system-sleep.

# $1 is 'pre' (going to sleep) or 'post' (waking up)
# $2 is 'suspend', 'hibernate' or 'hybrid-sleep'
case "$1/$2" in
  pre/*)
    echo 1 &gt; '/sys/devices/pci0000:00/0000:00:1c.0/remove'
    ;;
  post/*)
    echo 1 &gt; '/sys/devices/pci0000:00/pci_bus/0000:00/bus_rescan'     
    ;;
esac
</pre>
<p>You may find that <code>/sys/devices/pci0000:00/pci_bus/0000:00/bus_rescan</code> does not exist but <code>/sys/devices/pci0000:00/pci_bus/0000:00/rescan</code> does.
</p>
<h2><span class="mw-headline" id="DisplayPort_and_HDMI_over_USB-C">DisplayPort and HDMI over USB-C</span></h2>
<p>For proper operation of DisplayPort / HDMI over USB-C, you need to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-power/">system76-power</a></span><sup><small>AUR</small></sup> package, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>com.system76.PowerDaemon.service</code> and add the <code>iomem=relaxed</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<p>Only HDMI was tested with <a rel="nofollow" class="external text" href="https://plugable.com/products/ud-ca1a/">Plugable UD-CA1A dock</a>. See <a rel="nofollow" class="external text" href="https://support.system76.com/articles/docking-station/">officially supported docks</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-05-06 ⓘ]</sup> from System76.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:System76.html" title="Category:System76">System76</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=System76_Darter_Pro_6&amp;oldid=781158">https://wiki.archlinux.org/index.php?title=System76_Darter_Pro_6&amp;oldid=781158</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 June 2023, at 17:34.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
