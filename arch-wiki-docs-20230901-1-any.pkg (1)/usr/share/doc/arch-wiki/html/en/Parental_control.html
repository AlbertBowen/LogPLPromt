<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Parental control - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Parental_control rootpage-Parental_control skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Applications" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Applications">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Applications</div>
			</a>
			
			<ul id="toc-Applications-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Whitelist_with_Tinyproxy_and_Firehol" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Whitelist_with_Tinyproxy_and_Firehol">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Whitelist with Tinyproxy and Firehol</div>
			</a>
			
			<ul id="toc-Whitelist_with_Tinyproxy_and_Firehol-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-OpenDNS_Parental_Control" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#OpenDNS_Parental_Control">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>OpenDNS Parental Control</div>
			</a>
			
			<ul id="toc-OpenDNS_Parental_Control-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Editing_/etc/hosts" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Editing_/etc/hosts">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Editing /etc/hosts</div>
			</a>
			
			<ul id="toc-Editing_/etc/hosts-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Blocklisting_using_named" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Blocklisting_using_named">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Blocklisting using named</div>
			</a>
			
			<ul id="toc-Blocklisting_using_named-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Squid" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Squid">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Squid</div>
			</a>
			
			<ul id="toc-Squid-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Browser_add-ons" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Browser_add-ons">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7</span>Browser add-ons</div>
			</a>
			
			<ul id="toc-Browser_add-ons-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Parental_control.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Parental_control&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Parental_control.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Parental_control&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Parental_control&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Parental_control.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Parental_control&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Parental_control&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p>Several methods exist to protect and limit child activity on a computer.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Any security features will be effective only on the level you enforce them. For example, even after installing a parental control application in the operating system, the child may bypass it by downloading and booting any Linux distribution live image.</div>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Applications">Applications</span></h2>
<ul><li>
<b>timekpr-next</b> — Timekpr-nExT, a fresh, simple and easy to use screen time managing application that helps optimizing time spent at computer.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://mjasnik.gitlab.io/timekpr-next/">https://mjasnik.gitlab.io/timekpr-next/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/timekpr-next/">timekpr-next</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>timeoutd</b> — A lightweight alternative to timekpr, it scans <code>/var/run/utmp</code> every minute and checks <code>/etc/timeouts</code> for an entry matching a restricted user.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/sohonet/timeoutd">https://github.com/sohonet/timeoutd</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/timeoutd/">timeoutd</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>logkeys</b> — A daemon that logs keypresses into a logfile for later inspection.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/kernc/logkeys">https://github.com/kernc/logkeys</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/logkeys/">logkeys</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/DansGuardian.html" title="DansGuardian">DansGuardian</a></b> — DansGuardian is a web content filter which filters the actual content of pages instead  of being based on a banned list of sites.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://dansguardian.org/">https://dansguardian.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dansguardian/">dansguardian</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</dd></dl>
<ul><li>
<b>thyme</b> — While being primarily a time-tracking tool (helping one to achieve better productivity) it can also give a quick idea of what your kids are doing on the computer.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/sourcegraph/thyme">https://github.com/sourcegraph/thyme</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thyme-git/">thyme-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Whitelist_with_Tinyproxy_and_Firehol">Whitelist with Tinyproxy and Firehol</span></h2>
<p>The following description will enable you to filter any user's access to the internet with a whitelist of url-s using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/firehol/">firehol</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tinyproxy">tinyproxy</a></span> (or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tinyproxy-git/">tinyproxy-git</a></span><sup><small>AUR</small></sup>).
</p>
<p><code>/etc/tinyproxy/tinyproxy.conf</code> consists of the following changes:
</p>
<pre>FilterURLs On
FilterDefaultDeny Yes
Filter "/etc/tinyproxy/whitelist"
</pre>
<p><code>/etc/tinyproxy/whitelist</code> should hold the url's that will be only allowed accessed by selected users. A silly example:
</p>
<pre>(www|wiki|static).archlinux.org
google.com
</pre>
<p><code>/etc/firehol/firehol.conf</code> should contain the following line:
</p>
<pre>transparent_proxy "80 443" 8888 "nobody root bin myaccount"
</pre>
<p>where myaccount is my account that should no be filtered by Tinyproxy.
</p>
<h2><span class="mw-headline" id="OpenDNS_Parental_Control">OpenDNS Parental Control</span></h2>
<p><a rel="nofollow" class="external text" href="https://www.opendns.com/home-internet-security/">OpenDNS</a> provides free DNS services as an alternative to your ISP's default servers. Furthermore, they provide optional filtering capabilities. Different levels of filtering is possible; see the OpenDNS main page for details.
</p>
<p>For dynamic IP addresses, it is a good idea to keep them updated on OpenDNS. Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ddclient">ddclient</a></span> and edit <code>/etc/ddclient/ddclient.conf</code> as follows:
</p>
<pre># OpenDNS.com account-configuration
use=web, web=myip.dnsomatic.com
server=updates.opendns.com
protocol=dyndns2
login=myopendns@email.address
password=myopendnspassword
myhostname
</pre>
<p>You may sometimes even set up your router to use OpenDNS, therefore allowing protection spanning on all devices connected to that router.
</p>
<h2>
<span id="Editing_.2Fetc.2Fhosts"></span><span class="mw-headline" id="Editing_/etc/hosts">Editing /etc/hosts</span>
</h2>
<p>You may configure your <a href="https://en.wikipedia.org/wiki/Hosts_(file)" class="extiw" title="wikipedia:Hosts (file)">/etc/hosts</a> file to block access to certain domains. A more draconian approach is to only allow domains explicitly stated in <code>/etc/hosts</code>, as described <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/ParentalControls#Do_It_Yourself_Whitelisting">here</a>. If you do this, please remember that this will affect your whole system, so for example pacman may be unable to connect to the update server unless you make a proper binding in your <code>/etc/hosts</code>.
</p>
<h2><span class="mw-headline" id="Blocklisting_using_named">Blocklisting using named</span></h2>
<p>See also: <a href="../en/BIND.html" title="BIND">BIND</a>
</p>
<p>Create stub zone file ("/var/named/denied.zone") that redirects everything to localhost
</p>
<pre>@                               1D IN SOA   ns1.example.com. root.example.com. (
                                   42    ; serial (yyyymmdd##)
                                   3H    ; refresh
                                   15M   ; retry
                                   1W    ; expiry
                                   1D )  ; minimum ttl
                               1D  IN  NS      ns.example.com.
                      1D  IN  A       127.0.0.1
                      1D  IN  AAAA    ::1

*                      1D  IN  A       127.0.0.1
*                      1D  IN  AAAA    ::1
</pre>
<p>Add
</p>
<pre>zone "SOME-DOMAIN-1.TLD" IN { type master; file "denied.zone"; };
...
zone "SOME-DOMAIN-N.TLD" IN { type master; file "denied.zone"; };
</pre>
<p>to named.conf.
</p>
<p>Recent named versions support DoT and DoH, so you can expose named to internet and use it from outside your lan.
(For example Firefox can use DoH, android devices has global "private DNS server" setting for DoT)
</p>
<h2><span class="mw-headline" id="Squid">Squid</span></h2>
<p>Squid is feature reach proxy that supports authorization, caching, TLS bumping, transparency with firewall, access lists based on MAC, IP, domain, and TLS SNI.
It has separate <a href="../en/Squid.html" title="Squid">article</a>.
</p>
<h2><span class="mw-headline" id="Browser_add-ons">Browser add-ons</span></h2>
<p>Several add-ons exist for web browsers to filter web content. Some of them can even block out pages examining on their body, not only on their URL. Be warned, however, that this is not a very secure way. Starting Firefox in safe mode, messing with the Firefox profile directory or Firefox profile manager are obvious ways to attempt to shut down Firefox-based add-ons. If all else fails, the kid may simply use a different browser.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Security.html" title="Category:Security">Security</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Parental_control&amp;oldid=782276">https://wiki.archlinux.org/index.php?title=Parental_control&amp;oldid=782276</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 July 2023, at 06:14.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
