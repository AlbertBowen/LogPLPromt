<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Initiative for Open Authentication - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Initiative_for_Open_Authentication rootpage-Initiative_for_Open_Authentication skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Standards" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Standards">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Standards</div>
			</a>
			
			<ul id="toc-Standards-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-URI_credential_format" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#URI_credential_format">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>URI credential format</div>
			</a>
			
			<ul id="toc-URI_credential_format-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Tips_and_tricks" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Tips_and_tricks">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Tips and tricks</div>
			</a>
			
				<button aria-controls="toc-Tips_and_tricks-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Tips and tricks subsection
				</button>
			
			<ul id="toc-Tips_and_tricks-sublist" class="sidebar-toc-list">
				<li id="toc-Decode_QR_codes" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Decode_QR_codes">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>Decode QR codes</div>
			</a>
			
			<ul id="toc-Decode_QR_codes-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Create_QR_codes" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Create_QR_codes">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2</span>Create QR codes</div>
			</a>
			
			<ul id="toc-Create_QR_codes-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Generate_keys" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Generate_keys">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.3</span>Generate keys</div>
			</a>
			
			<ul id="toc-Generate_keys-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Generate_OTPs_from_the_command_line" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Generate_OTPs_from_the_command_line">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.4</span>Generate OTPs from the command line</div>
			</a>
			
			<ul id="toc-Generate_OTPs_from_the_command_line-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Linux_User_authentication_with_PAM" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Linux_User_authentication_with_PAM">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.5</span>Linux User authentication with PAM</div>
			</a>
			
			<ul id="toc-Linux_User_authentication_with_PAM-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-See_also" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#See_also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>See also</div>
			</a>
			
			<ul id="toc-See_also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Initiative_for_Open_Authentication.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Initiative_for_Open_Authentication.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Initiative_for_Open_Authentication.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Initiative_for_Open_Authentication&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Initiative_for_Open_Authentication&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Initiative_for_Open_Authentication.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Initiative_for_Open_Authentication&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Initiative_for_Open_Authentication&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p class="mw-no-invert">Related articles</p>
<ul>
<li><a href="../en/Universal_2nd_Factor.html" class="mw-redirect" title="U2F">U2F</a></li>
<li><a href="../en/Data-at-rest_encryption.html" title="Data-at-rest encryption">Data-at-rest encryption</a></li>
<li><a href="../en/Google_Authenticator.html" title="Google Authenticator">Google Authenticator</a></li>
<li><a href="../en/Identity_management.html" title="Identity management">identity management</a></li>
<li><a href="../en/YubiKey.html" class="mw-redirect" title="Yubikey">Yubikey</a></li>
<li><a href="../en/Pam_oath.html" title="Pam oath">pam_oath</a></li>
<li><a href="../en/Pass.html" title="Pass">pass</a></li>
</ul>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Initiative_for_Open_Authentication" class="extiw" title="wikipedia:Initiative for Open Authentication">Initiative for Open Authentication</a> (OATH) is an industry-wide collaboration to develop an open reference architecture using open standards to promote the adoption of strong authentication. They publish the standard which Google Authenticator and other common 2-factor applications use.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>The following packages can be used to generate, transfer, and validate OATH credentials:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=oath-toolkit">oath-toolkit</a></span> - Takes credentials and generates codes. Includes a PAM module for user authentication. See <a href="../en/Pam_oath.html" title="Pam oath">pam_oath</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libpam-google-authenticator">libpam-google-authenticator</a></span> - Offers a client program <code>google-authenticator</code> for generating new credentials and a PAM module for user authentication. See <a href="../en/Google_Authenticator.html" title="Google Authenticator">Google Authenticator</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pass-otp">pass-otp</a></span> - Adds OATH support to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pass">pass</a></span>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zbar">zbar</a></span> - Decodes QR codes</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qrencode">qrencode</a></span> - Encodes QR codes</li>
</ul>
<h2><span class="mw-headline" id="Standards">Standards</span></h2>
<p>OATH has created two standards of significance to an Arch user, both based on a Base32-encoded shared secret of arbitrary length:
</p>
<dl>
<dt>HOTP</dt>
<dd>HMAC (Hash-based message authentication code) One-time Password (<a href="https://en.wikipedia.org/wiki/HMAC-based_One-time_Password_algorithm" class="extiw" title="wikipedia:HMAC-based One-time Password algorithm">HOTP</a>). Every time a password is generated, a counter is incremented. This value is concatenated with a secret key, and then hashed to generate a 6-10 digit code. The authenticating party does the same, except it increments a counter when a code is successfully authenticated. To handle desynchronization of the counter, the authenticating party can also check several (30-100) additional values beyond its current counter state.</dd>
<dt>TOTP</dt>
<dd>Time-based one-time-password (<a href="https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm" class="extiw" title="wikipedia:Time-based One-time Password algorithm">TOTP</a>), which works much like HOTP except it uses the current time instead of a counter. This solves the desynchronization problem, and eliminates the possibility of an adversary recording OTPs for use later.</dd>
</dl>
<h2><span class="mw-headline" id="URI_credential_format">URI credential format</span></h2>
<p>Credentials are usually shared in a QR-encoded <a rel="nofollow" class="external text" href="https://github.com/google/google-authenticator/wiki/Key-Uri-Format">URI format</a>. All fields must be URI-encoded strings:
</p>
<pre>otpauth://TYPE/LABEL?PARAMETERS
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> A URI formatted credential, and any QR code generated from it, contains all information required to generate valid one-time passwords. Protect it as you would any other password.</div>
<dl>
<dt>TYPE</dt>
<dd>
<code>totp</code> or <code>hotp</code>
</dd>
<dt>LABEL</dt>
<dd>Identifies which account a key is associated with, optionally prefixed with an issuer string. Example: <code>Arch%20Wiki:alice@archlinux.org</code>
</dd>
<dt>PARAMETERS</dt>
<dd>Take the standard URI parameter format - <code>?name=value&amp;name=value...</code>
</dd>
</dl>
<ul>
<li>
<code>secret</code> - required; this is the Base32 shared secret.</li>
<li>
<code>issuer</code> - Indicates the provider or service the account is associated with. If this is absent, the issuer prefix of the label will be used. If both are present, they should be equal.</li>
<li>
<code>algorithm</code> - <code>SHA1</code> by default. Can also be <code>SHA256</code> or <code>SHA512</code>.</li>
<li>
<code>digits</code> - How long passcodes should be. Default is 6, can be 8.</li>
<li>
<code>counter</code> - Required if using HOTP. Initial counter value.</li>
<li>
<code>period</code> - Optional if using TOTP. Sets how long a code is valid, 30 seconds by default.</li>
</ul>
<p>Here is an example:
</p>
<pre>otpauth://totp/Example%20Company:alice@google.com?secret=JBSWY3DPEHPK3PXP&amp;issuer=Example%20Company
         |type|  issuer prefix  |    account     |         secret        |     issuer             |
              |               label              |                  parameters                    |
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Decode_QR_codes">Decode QR codes</span></h3>
<p>This can be accomplished with tools from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zbar">zbar</a></span>. Decode a PNG file:
</p>
<pre>$ zbarimg my_qr_code.png --quiet --raw
</pre>
<p>Decode images from a camera:
</p>
<pre>$ zbarcam /dev/video0
</pre>
<h3><span class="mw-headline" id="Create_QR_codes">Create QR codes</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qrencode">qrencode</a></span> package is useful here. 
</p>
<p>Encode a URI, save it as a PNG:
</p>
<pre>$ qrencode -o my_code.png 'MY_URI'
</pre>
<p>Encode a URI, print a QR code to the terminal:
</p>
<pre>$ qrencode -t ansiutf8 'MY_URI'
</pre>
<h3><span class="mw-headline" id="Generate_keys">Generate keys</span></h3>
<p>To generate your own key in the proper format, you can use something like the following:
</p>
<pre>$ head -c 16 /dev/urandom | base32 --wrap 0
</pre>
<h3><span class="mw-headline" id="Generate_OTPs_from_the_command_line">Generate OTPs from the command line</span></h3>
<p>Use <span class="plainlinks archwiki-template-man" title="$ man 1 oathtool"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/oathtool.1">oathtool(1)</a></span> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=oath-toolkit">oath-toolkit</a></span>:
</p>
<pre>$ oathtool --base32 --totp KEY
</pre>
<p>Many password managers, including <a href="../en/Pass.html" title="Pass">pass</a> and <a href="../en/KeePass.html" title="KeePass">KeePass</a> also offer support for generating these codes.
</p>
<h3><span class="mw-headline" id="Linux_User_authentication_with_PAM">Linux User authentication with PAM</span></h3>
<p>See either <a href="../en/Pam_oath.html" title="Pam oath">pam_oath</a> or <a href="../en/Google_Authenticator.html" title="Google Authenticator">Google Authenticator</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://openauthentication.org/specifications-technical-resources/">Standard specifications</a><sup title="Last check status: SSL error">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-04-23 ⓘ]</sup>
</li>
<li><a rel="nofollow" class="external text" href="https://github.com/google/google-authenticator/wiki/Key-Uri-Format">URI format reference</a></li>
<li>
<a rel="nofollow" class="external text" href="https://rootprojects.org/authenticator/">QR code tester</a> - Do not enter actual credentials here.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Authentication.html" title="Category:Authentication">Authentication</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Initiative_for_Open_Authentication&amp;oldid=776232">https://wiki.archlinux.org/index.php?title=Initiative_for_Open_Authentication&amp;oldid=776232</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 23 April 2023, at 12:32.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
