<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Dynamic DNS - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dynamic_DNS rootpage-Dynamic_DNS skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Router" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Router">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Router</div>
			</a>
			
			<ul id="toc-Router-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Update_clients" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Update_clients">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Update clients</div>
			</a>
			
				<button aria-controls="toc-Update_clients-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Update clients subsection
				</button>
			
			<ul id="toc-Update_clients-sublist" class="sidebar-toc-list">
				<li id="toc-Multi-service_clients" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Multi-service_clients">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Multi-service clients</div>
			</a>
			
			<ul id="toc-Multi-service_clients-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Single-service_clients" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Single-service_clients">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Single-service clients</div>
			</a>
			
			<ul id="toc-Single-service_clients-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-ddclient" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#ddclient">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>ddclient</div>
			</a>
			
			<ul id="toc-ddclient-sublist" class="sidebar-toc-list">
				<li id="toc-Use_an_external_website_to_determine_IP_address" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Use_an_external_website_to_determine_IP_address">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.1</span>Use an external website to determine IP address</div>
			</a>
			
			<ul id="toc-Use_an_external_website_to_determine_IP_address-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Use_a_local_script_to_determine_IPv6_address" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Use_a_local_script_to_determine_IPv6_address">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.2</span>Use a local script to determine IPv6 address</div>
			</a>
			
			<ul id="toc-Use_a_local_script_to_determine_IPv6_address-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Use_UPnP_or_NAT-PMP_to_determine_external_IPv4_address" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Use_UPnP_or_NAT-PMP_to_determine_external_IPv4_address">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.3</span>Use UPnP or NAT-PMP to determine external IPv4 address</div>
			</a>
			
			<ul id="toc-Use_UPnP_or_NAT-PMP_to_determine_external_IPv4_address-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Starting_ddclient_after_networking_is_up" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Starting_ddclient_after_networking_is_up">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.4</span>Starting ddclient after networking is up</div>
			</a>
			
			<ul id="toc-Starting_ddclient_after_networking_is_up-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Other_providers" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Other_providers">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Other providers</div>
			</a>
			
			<ul id="toc-Other_providers-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Dynamic_DNS.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="mw-list-item"><a href="../en/Talk:Dynamic_DNS.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Dynamic_DNS.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Dynamic_DNS&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Dynamic_DNS&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Dynamic_DNS.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Dynamic_DNS&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Dynamic_DNS&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p>According to <a href="https://en.wikipedia.org/wiki/Dynamic_DNS" class="extiw" title="wikipedia:Dynamic DNS">Wikipedia</a>:
</p>
<dl><dd>
<b>Dynamic DNS</b> (<b>DDNS</b> or <b>DynDNS</b>) is a method of automatically updating a <a href="https://en.wikipedia.org/wiki/name_server" class="extiw" title="wikipedia:name server">name server</a> in the <a href="https://en.wikipedia.org/wiki/Domain_Name_System" class="extiw" title="wikipedia:Domain Name System">Domain Name System</a> (DNS), often in real time, with the active DDNS configuration of its configured hostnames, addresses or other information.</dd></dl>
<dl><dd>The term is used to describe two different concepts. The first is "dynamic DNS updating" which refers to systems that are used to update traditional DNS records without manual editing. These mechanisms are explained in <a href="https://tools.ietf.org/html/rfc2136" class="extiw" title="rfc:2136">RFC 2136</a>, and use the <a href="https://en.wikipedia.org/wiki/TSIG" class="extiw" title="wikipedia:TSIG">TSIG</a> mechanism to provide security. The second kind of dynamic DNS permits lightweight and immediate updates often using an update client, which do not use the RFC2136 standard for updating DNS records. These clients provide a persistent addressing method for devices that change their location, configuration or <a href="https://en.wikipedia.org/wiki/IP_address" class="extiw" title="wikipedia:IP address">IP address</a> frequently.</dd></dl>
<p>For RFC2136 there is <span class="plainlinks archwiki-template-man" title="$ man 1 nsupdate"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nsupdate.1">nsupdate(1)</a></span> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bind">bind</a></span>. For dynamic DNS services there are several packages available, see <a href="#Update_clients">#Update clients</a>.
</p>
<mw:tocplace></mw:tocplace>
<h2><span class="mw-headline" id="Router">Router</span></h2>
<p>If the device needing DDNS sits behind a router, you should first check if the router itself can update any DDNS services. Although the selection of services may be limited, there are several advantages to using the router: it will probably be easier to set up, will require little to no maintenance, and will have no downtime (if the router is down you will not have Internet anyway).
</p>
<h2><span class="mw-headline" id="Update_clients">Update clients</span></h2>
<p>Note that some dynamic DNS providers do not require a dedicated client and can be updated with <a href="../en/CURL.html" title="CURL">cURL</a>.
</p>
<h3><span class="mw-headline" id="Multi-service_clients">Multi-service clients</span></h3>
<ul><li>
<b><a href="#ddclient">ddclient</a></b> — Update dynamic DNS entries for accounts on many dynamic DNS services.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/ddclient/ddclient">https://github.com/ddclient/ddclient</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ddclient">ddclient</a></span>
</dd></dl>
<ul><li>
<b>ddnsc</b> — A simple &amp; lightweight client written in python.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/shyaminayesh/ddnsc">https://github.com/shyaminayesh/ddnsc</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ddnsc/">ddnsc</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>inadyn</b> — Dynamic DNS client with SSL/TLS support.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://troglobit.com/projects/inadyn/">https://troglobit.com/projects/inadyn/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=inadyn">inadyn</a></span>
</dd></dl>
<ul><li>
<b>inadyn-mt</b> — A simple dynamic DNS client based on inadyn.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://inadyn-mt.sourceforge.net/">http://inadyn-mt.sourceforge.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/inadyn-mt/">inadyn-mt</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>ndyndns</b> — Supports DynDNS and Namecheap.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/niklata/ndyndns">https://github.com/niklata/ndyndns</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ndyndns/">ndyndns</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3><span class="mw-headline" id="Single-service_clients">Single-service clients</span></h3>
<ul><li>
<b>duckdns</b> — Update your DuckDNS.org entries from your computer with systemd.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.duckdns.org/">https://www.duckdns.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/duckdns/">duckdns</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/duckdns-ipv6/">duckdns-ipv6</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>hetzner_ddns</b> — Dynamic DNS daemon for Hetzner DNS</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/filiparag/hetzner_ddns">https://github.com/filiparag/hetzner_ddns</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/hetzner_ddns/">hetzner_ddns</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>noip</b> — Dynamic DNS Client Updater for no-ip.com services.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.no-ip.com/downloads.php?page=linux">https://www.no-ip.com/downloads.php?page=linux</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/noip/">noip</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>petrified</b> — Bash client to update dynamic DNS at freedns.afraid.org.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.com/troyengel/petrified">https://gitlab.com/troyengel/petrified</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/petrified/">petrified</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3><span class="mw-headline" id="ddclient">ddclient</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ddclient">ddclient</a></span> is compatible with many DDNS services and is the recommended tool for updating DDNS if your <a href="#Router">router</a> is not an option. It includes <a href="../en/Systemd.html" title="Systemd">systemd</a> support.
</p>
<p>After installing, edit the configuration file <code>/etc/ddclient/ddclient.conf</code> to set up your DDNS provider (it includes many examples). Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>ddclient.service</code>.
</p>
<p>The configuration can be tested by running <code>ddclient</code> with the <code>-noquiet</code> and <code>-debug</code> options:
</p>
<pre># ddclient -daemon=0 -noquiet -debug
</pre>
<p>Some of the compatible services are listed below, but you can also check the <a rel="nofollow" class="external text" href="https://sourceforge.net/p/ddclient/code/HEAD/tree/trunk/sample-etc_ddclient.conf">examples</a> and <a rel="nofollow" class="external text" href="https://sourceforge.net/p/ddclient/wiki/protocols/">protocols</a> for more.
</p>
<table class="wikitable">
<caption>ddclient compatible services
</caption>
<tbody>
<tr>
<th>Service
</th>
<th>Configuration notes
</th>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://now-dns.com/">Now-DNS</a>
</th>
<td>
<a rel="nofollow" class="external text" href="https://now-dns.com/client/ddclient.conf">example</a>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://www.changeip.com/">ChangeIP</a>
</th>
<td>
<a rel="nofollow" class="external text" href="https://sourceforge.net/p/ddclient/wiki/protocols/#changeip">example</a>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://www.duckdns.org/">Duck DNS</a>
</th>
<td>
<a rel="nofollow" class="external text" href="https://sourceforge.net/p/ddclient/wiki/protocols/#duckdns">example</a>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://freedns.afraid.org/">FreeDNS</a>
</th>
<td>
<a rel="nofollow" class="external text" href="https://freedns.afraid.org/scripts/freedns.clients.php">example</a>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://www.noip.com/">No-IP</a>
</th>
<td>Use protocol <code>noip</code>, server <code>dynupdate.no-ip.com</code>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://www.nsupdate.info/">nsupdate.info</a>
</th>
<td>Use protocol <code>dyndns2</code>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://dyn.com/dns/">Dyn DNS</a>
</th>
<td>
<a rel="nofollow" class="external text" href="https://sourceforge.net/p/ddclient/wiki/protocols/#dyndns2">example</a>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://www.namecheap.com/">Namecheap</a>
</th>
<td>
<a rel="nofollow" class="external text" href="https://sourceforge.net/p/ddclient/wiki/protocols/#namecheap">example</a>
</td>
</tr>
<tr>
<th>
<a rel="nofollow" class="external text" href="https://www.dynu.com/">Dynu</a>
</th>
<td>
<a rel="nofollow" class="external text" href="https://www.dynu.com/DynamicDNS/IPUpdateClient/DDClient">example</a>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Free users of no-ip are required to manually confirm their domain(s) every 30 days. Domain confirmation is not required for Enhanced users though. More info at <a rel="nofollow" class="external text" href="https://www.noip.com/support/knowledgebase/why-is-my-hostname-pending-deletion/">Why is My Hostname Pending Deletion?</a>
</div>
<h4><span class="mw-headline" id="Use_an_external_website_to_determine_IP_address">Use an external website to determine IP address</span></h4>
<p>If ddclient is unable to detect your IP address, you can configure ddclient to fetch your IP from an external webpage such as <a rel="nofollow" class="external text" href="http://checkip.dyndns.org/">checkip.dyndns.org</a>. This address is used by default when <code>use=web</code> is specified. It is also recommended to increase the check interval to avoid frequent requests to the IP check service:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/ddclient/ddclient.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">daemon=900
# obtain IP address from web status page
use=web</pre>
<p>An alternative IP check service can be specified with the <code>web</code> key:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/ddclient/ddclient.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">daemon=900
# obtain IP address from web status page
use=web, web=myonlineportal.net/checkip</pre>
<h4><span class="mw-headline" id="Use_a_local_script_to_determine_IPv6_address">Use a local script to determine IPv6 address</span></h4>
<p>ddclient often gets the wrong IPv6 address or none at all, but instead of an external website the IPv6 address can be determined locally. This script can be used:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/get-ip</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
/sbin/ip -6 addr | grep inet6 | awk -F '[ \t]+|/' '{print $3}' | grep -v ^::1 | grep -v ^fe80
</pre>
<p>Tell ddclient to use the script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/ddclient/ddclient.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># obtain IP address from script
use=cmd,cmd='/usr/local/bin/get-ip'</pre>
<h4><span class="mw-headline" id="Use_UPnP_or_NAT-PMP_to_determine_external_IPv4_address">Use UPnP or NAT-PMP to determine external IPv4 address</span></h4>
<p>If your router supports UPnP, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=miniupnpc">miniupnpc</a></span> and use the <i>external-ip</i> utility:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/ddclient/ddclient.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># obtain IP address from script
use=cmd,cmd='/usr/bin/external-ip'</pre>
<p>For NAT-PMP, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libnatpmp">libnatpmp</a></span> and create a script wrapping the <code>natpmpc</code> output.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/get-ip</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
natpmpc | grep -oP 'Public IP address : \K\S+'</pre>
<p>Make the script <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a> and tell ddclient to use it:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/ddclient/ddclient.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># obtain IP address from script
use=cmd,cmd='/usr/local/bin/get-ip'</pre>
<h4><span class="mw-headline" id="Starting_ddclient_after_networking_is_up">Starting ddclient after networking is up</span></h4>
<p>If you find that ddclient is unable to update your IP properly, it may be that the ddclient process is starting before networking is up. To fix it, you can <a href="../en/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">edit</a> the unit file to depend on <a href="../en/Systemd.html#Running_services_after_the_network_is_up" class="mw-redirect" title="Network-online.target">network-online.target</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/ddclient.service.d/network-online.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Wants=network-online.target
After=network-online.target nss-lookup.target</pre>
<h2><span class="mw-headline" id="Other_providers">Other providers</span></h2>
<p>Other DDNS providers are not compatible with <a href="#ddclient">ddclient</a> so updating your IP with them may require a special tool or some custom scripting. Remember that if the service allows you to update your IP using the command line, you can automate the process using tools such as <a href="../en/Cron.html" title="Cron">cron</a> or <a href="../en/Systemd/Timers.html" title="Systemd/Timers">systemd/Timers</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Domain_Name_System.html" title="Category:Domain Name System">Domain Name System</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dynamic_DNS&amp;oldid=775265">https://wiki.archlinux.org/index.php?title=Dynamic_DNS&amp;oldid=775265</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 10 April 2023, at 17:16.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	
</footer>

		</div>
	</div> 
</div> 

</body>
</html>
